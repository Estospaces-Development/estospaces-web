import{c as ge,h as pe,r as i,t as X,v as ue,j as e,w as C,k as Y,U as J,B as O,M as W,X as K,F as D,x as Z,f as ee,g as he,C as N,y as R,z as be,A as fe,D as ye,E as je,I as ve,S as we}from"./index-D9fuy-ar.js";import{B as Ne}from"./briefcase-Bt4IU3b4.js";import{S as te}from"./sparkles-Cyn_GT87.js";import{H as ke}from"./history-CquQ6LtT.js";import{C as Ce}from"./chevron-up-5PMmERdE.js";import{C as Q}from"./clock-D-pnzsNv.js";import{E as L}from"./eye-Dzbd2rxv.js";import{D as Re}from"./download-CwJzrRjy.js";import{R as ae}from"./refresh-cw-D3D2tFTT.js";import{L as _e}from"./layout-grid-xooqLcMb.js";import{L as ze}from"./list-WZuCcTwJ.js";import{A as Se}from"./arrow-right-BYDXxbCW.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],V=ge("hash",Ae),De=({managerId:a,onClose:o})=>{var I;const{user:s,getRole:g}=pe(),[u,f]=i.useState(null),[k,h]=i.useState(!0),[y,r]=i.useState(null),[d,m]=i.useState(null),[l,E]=i.useState(!1),[se,M]=i.useState(null),[_,H]=i.useState(""),[$,P]=i.useState(""),[G,re]=i.useState(""),[le,z]=i.useState(!1),[ie,F]=i.useState(!1),[v,q]=i.useState(""),[U,oe]=i.useState(!1),S=i.useCallback(async()=>{var t;h(!0),r(null);try{const n=await X(a);if(n.error)r(n.error);else if(n.data&&(f(n.data),((t=n.data.profile)==null?void 0:t.verification_status)==="submitted"&&(s!=null&&s.id))){await ue(a,s.id);const x=await X(a);x.data&&f(x.data)}}catch(n){r(n.message)}finally{h(!1)}},[a,s==null?void 0:s.id]);i.useEffect(()=>{S()},[S]);const ne=async()=>{if(!(s!=null&&s.id)){r("You must be logged in to approve");return}m("approve"),r(null);try{const t=await ve(a,s.id,G);t.error?(r(t.error),z(!1)):o()}catch(t){r(t.message),z(!1)}finally{m(null)}},de=async()=>{if(!(!(s!=null&&s.id)||!_.trim())){m("reject");try{const t=await je(a,s.id,_);t.error?r(t.error):o()}catch(t){r(t.message)}finally{m(null),E(!1)}}},ce=async()=>{var n;if(!(s!=null&&s.id)){r("You must be logged in to revoke approval");return}const t=g?g():s==null?void 0:s.role;if(t!=="admin"){r(`Permission denied. Admin role required. Current role: ${t||"none"}`),console.error("Revocation attempted by non-admin user:",{userId:s.id,role:t});return}if(!v.trim()){r("Please provide a reason for revocation");return}m("revoke"),r(null);try{console.log("Revoking manager approval:",{managerId:a,adminId:s.id,reasonLength:v.length,userRole:((n=s.user_metadata)==null?void 0:n.role)||"unknown"});const x=await ye(a,s.id,v);x.error?(console.error("Revocation error:",x.error),r(x.error||"Failed to revoke approval. Please try again.")):(console.log("Revocation successful:",x.data),q(""),F(!1),await S(),o())}catch(x){console.error("Revocation exception:",x);const me=x instanceof Error?x.message:typeof x=="string"?x:"An unexpected error occurred";r(`Error: ${me}. Please check the console for details.`)}finally{m(null)}},xe=async t=>{if(!(!(s!=null&&s.id)||!$.trim())){m(`reupload-${t}`);try{const n=await fe(a,s.id,t,$);n.error?r(n.error):(await S(),M(null),P(""))}catch(n){r(n.message)}finally{m(null)}}};if(k)return e.jsx(T,{onClose:o,children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-orange-500 to-red-600 flex items-center justify-center mb-4 shadow-lg",children:e.jsx(C,{className:"animate-spin text-white",size:28})}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading verification details..."})]})});if(!u||!u.profile)return e.jsx(T,{onClose:o,children:e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-gray-100 to-gray-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{className:"text-gray-400",size:40})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Manager Not Found"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-sm mx-auto",children:y||"Unable to load verification details"}),e.jsx("button",{onClick:o,className:"px-6 py-2.5 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Close"})]})});const{profile:c,documents:A,auditLog:B,userInfo:p}=u,j=c.profile_type==="broker",w=Ee(c.verification_status);return e.jsxs(T,{onClose:o,children:[e.jsxs("div",{className:"relative overflow-hidden flex-shrink-0",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${j?"from-orange-500 via-red-500 to-rose-500":"from-blue-500 via-indigo-500 to-purple-500"} opacity-10`}),e.jsx("div",{className:"relative p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`relative w-16 h-16 rounded-2xl flex items-center justify-center shadow-xl ${j?"bg-gradient-to-br from-orange-400 to-red-500":"bg-gradient-to-br from-blue-400 to-indigo-500"}`,children:[j?e.jsx(J,{className:"text-white",size:28}):e.jsx(O,{className:"text-white",size:28}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white flex items-center justify-center ${w.dotColor}`,children:e.jsx(w.icon,{size:10,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(p==null?void 0:p.full_name)||((I=p==null?void 0:p.email)==null?void 0:I.split("@")[0].replace(/[._-]/g," ").replace(/\b\w/g,t=>t.toUpperCase()))||"Unknown Manager"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-gray-500",children:[e.jsx(W,{size:14}),(p==null?void 0:p.email)||a.slice(0,8)+"..."]}),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-lg text-xs font-medium ${j?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:[j?e.jsx(Ne,{size:12}):e.jsx(O,{size:12}),j?"Broker":"Company"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-sm font-medium shadow-sm ${w.bgColor} ${w.textColor}`,children:[e.jsx(w.icon,{size:14}),w.label]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(K,{size:20,className:"text-gray-400"})})]})]})})]}),y&&e.jsxs("div",{className:"mx-6 mt-4 p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2",children:[e.jsx(Y,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-red-900 mb-1",children:"Error"}),e.jsx("p",{className:"text-sm text-red-700 break-words",children:y})]}),e.jsx("button",{onClick:()=>r(null),className:"text-red-500 hover:text-red-700 flex-shrink-0 p-1 hover:bg-red-100 rounded transition-colors","aria-label":"Dismiss error",children:e.jsx(K,{size:16})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto space-y-6 flex-1 min-h-0",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl border border-gray-100 p-5",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gray-900 rounded-lg",children:e.jsx(D,{size:14,className:"text-white"})}),"Profile Information"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j?e.jsxs(e.Fragment,{children:[e.jsx(b,{icon:V,label:"License Number",value:c.license_number}),e.jsx(b,{icon:Z,label:"License Expiry",value:c.license_expiry_date}),e.jsx(b,{icon:ee,label:"Association ID",value:c.association_membership_id})]}):e.jsxs(e.Fragment,{children:[e.jsx(b,{icon:V,label:"Registration Number",value:c.company_registration_number}),e.jsx(b,{icon:V,label:"Tax ID",value:c.tax_id}),e.jsx(b,{icon:J,label:"Representative",value:c.authorized_representative_name}),e.jsx(b,{icon:W,label:"Representative Email",value:c.authorized_representative_email})]}),e.jsx(b,{icon:Z,label:"Submitted",value:c.submitted_at?new Date(c.submitted_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):void 0})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gray-900 rounded-lg",children:e.jsx(D,{size:14,className:"text-white"})}),"Documents",e.jsxs("span",{className:"ml-auto text-xs font-normal text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:[A.length," uploaded"]})]}),e.jsx("div",{className:"space-y-3",children:A.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsx(te,{className:"mx-auto text-gray-300 mb-2",size:32}),e.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded yet"})]}):A.map(t=>e.jsx(Le,{document:t,onRequestReupload:()=>M(t.document_type),showReuploadForm:se===t.document_type,reuploadReason:$,setReuploadReason:P,onSubmitReupload:()=>xe(t.document_type),onCancelReupload:()=>{M(null),P("")},actionLoading:d===`reupload-${t.document_type}`,disabled:c.verification_status==="approved"},t.id))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-2xl border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>oe(!U),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-100 transition-colors",children:[e.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold text-gray-900",children:[e.jsx(ke,{size:16}),"Activity Log",e.jsx("span",{className:"text-xs font-normal text-gray-500 bg-white px-2 py-0.5 rounded-full border",children:B.length})]}),U?e.jsx(Ce,{size:16,className:"text-gray-400"}):e.jsx(he,{size:16,className:"text-gray-400"})]}),U&&e.jsx("div",{className:"px-4 pb-4 max-h-48 overflow-y-auto",children:B.length===0?e.jsx("p",{className:"text-sm text-gray-500 italic py-2",children:"No activity recorded"}):e.jsx("div",{className:"space-y-3",children:B.map(t=>e.jsxs("div",{className:"flex gap-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 mt-1.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900",children:$e(t.action_type)}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(t.created_at).toLocaleString(),t.actor_role&&` • ${t.actor_role}`]}),t.notes&&e.jsx("p",{className:"text-xs text-gray-600 mt-1 bg-white px-2 py-1 rounded border",children:t.notes})]})]},t.id))})})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-100 bg-gradient-to-br from-gray-50 to-white flex-shrink-0",children:c.verification_status==="approved"?ie?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Revocation Reason ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:v,onChange:t=>{q(t.target.value),r(null)},placeholder:"Explain why this approval is being revoked...",className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm text-gray-900 placeholder:text-gray-400 resize-none focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all",rows:3,autoFocus:!0}),!v.trim()&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please provide a reason for revocation"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:ce,disabled:!v.trim()||d==="revoke",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 disabled:opacity-50 transition-all shadow-lg shadow-red-500/20",children:[d==="revoke"&&e.jsx(C,{className:"animate-spin",size:16}),"Confirm Revocation"]}),e.jsx("button",{onClick:()=>{F(!1),q("")},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center",children:e.jsx(N,{className:"text-emerald-600",size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Verified Manager"}),e.jsx("p",{className:"text-xs text-gray-500",children:"This account has been approved"})]})]}),e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("Revoke button clicked"),F(!0)},className:"flex items-center gap-2 px-4 py-2.5 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 active:bg-red-800 transition-colors shadow-lg shadow-red-500/20 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d!==null,type:"button",children:[e.jsx(R,{size:16}),"Revoke Approval"]})]}):l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:_,onChange:t=>H(t.target.value),placeholder:"Explain why this verification is being rejected...",className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm text-gray-900 placeholder:text-gray-400 resize-none focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all",rows:3})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:de,disabled:!_.trim()||d==="reject",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 disabled:opacity-50 transition-all shadow-lg shadow-red-500/20",children:[d==="reject"&&e.jsx(C,{className:"animate-spin",size:16}),"Confirm Rejection"]}),e.jsx("button",{onClick:()=>{E(!1),H("")},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):le?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Approval Notes ",e.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),e.jsx("textarea",{value:G,onChange:t=>re(t.target.value),placeholder:"Add any notes for this approval...",className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-sm text-gray-900 placeholder:text-gray-400 resize-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none transition-all",rows:2})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:ne,disabled:d==="approve",className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-emerald-600 text-white rounded-xl font-medium hover:bg-emerald-700 disabled:opacity-50 transition-all shadow-lg shadow-emerald-500/20",children:[d==="approve"&&e.jsx(C,{className:"animate-spin",size:16}),e.jsx(N,{size:16}),"Confirm Approval"]}),e.jsx("button",{onClick:()=>z(!1),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>z(!0),disabled:A.length===0,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-emerald-600 text-white rounded-xl font-medium hover:bg-emerald-700 disabled:opacity-50 transition-all shadow-lg shadow-emerald-500/20",children:[e.jsx(N,{size:18}),"Approve"]}),e.jsxs("button",{onClick:()=>E(!0),className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:[e.jsx(R,{size:18}),"Reject"]})]})})]})},T=({children:a,onClose:o})=>(i.useEffect(()=>{const s=g=>{g.key==="Escape"&&o()};return window.addEventListener("keydown",s),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",s),document.body.style.overflow=""}},[o]),e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-900/60 backdrop-blur-sm",onClick:o}),e.jsx("div",{className:"relative bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] flex flex-col animate-in fade-in slide-in-from-bottom-4 duration-300",children:a})]})),b=({icon:a,label:o,value:s})=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-xl border border-gray-100",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(a,{size:14,className:"text-gray-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-0.5",children:o}),e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s||e.jsx("span",{className:"text-gray-400 italic font-normal",children:"Not provided"})})]})]}),Le=({document:a,onRequestReupload:o,showReuploadForm:s,reuploadReason:g,setReuploadReason:u,onSubmitReupload:f,onCancelReupload:k,actionLoading:h,disabled:y})=>{const r=Me(a.verification_status);return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:border-gray-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2.5 rounded-xl ${r.bgColor}`,children:e.jsx(D,{className:r.textColor,size:18})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900",children:be(a.document_type)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[a.document_name||"Document uploaded",a.expiry_date&&` • Expires: ${new Date(a.expiry_date).toLocaleDateString()}`]}),a.document_number&&e.jsx("p",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded mt-1 inline-block",children:a.document_number})]})]}),e.jsxs("span",{className:`flex-shrink-0 inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-xs font-medium ${r.bgColor} ${r.textColor}`,children:[e.jsx(r.icon,{size:12}),r.label]})]}),a.rejection_reason&&e.jsxs("div",{className:"mt-3 p-3 bg-red-50 border border-red-100 rounded-lg text-xs text-red-700",children:[e.jsx("strong",{children:"Rejection reason:"})," ",a.rejection_reason]}),s?e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("textarea",{value:g,onChange:d=>u(d.target.value),placeholder:"Explain what's wrong with this document...",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-xl bg-gray-50 focus:bg-white focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none resize-none transition-all",rows:2}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:f,disabled:!g.trim()||h,className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 text-white rounded-lg text-xs font-medium hover:bg-orange-700 disabled:opacity-50 transition-colors",children:[h&&e.jsx(C,{className:"animate-spin",size:12}),"Request Re-upload"]}),e.jsx("button",{onClick:k,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs("a",{href:a.document_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(L,{size:12}),"View"]}),e.jsxs("a",{href:a.document_url,download:!0,className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(Re,{size:12}),"Download"]}),!y&&a.verification_status!=="rejected"&&a.verification_status!=="reupload_required"&&e.jsxs("button",{onClick:o,className:"flex items-center gap-1.5 px-3 py-1.5 border border-orange-200 bg-orange-50 text-orange-600 rounded-lg text-xs font-medium hover:bg-orange-100 transition-colors",children:[e.jsx(ae,{size:12}),"Request Re-upload"]})]})]})},Ee=a=>{switch(a){case"approved":return{label:"Approved",icon:N,bgColor:"bg-emerald-100",textColor:"text-emerald-700",dotColor:"bg-emerald-500"};case"rejected":return{label:"Rejected",icon:R,bgColor:"bg-red-100",textColor:"text-red-700",dotColor:"bg-red-500"};case"under_review":return{label:"In Review",icon:L,bgColor:"bg-blue-100",textColor:"text-blue-700",dotColor:"bg-blue-500"};case"submitted":return{label:"Pending",icon:Q,bgColor:"bg-amber-100",textColor:"text-amber-700",dotColor:"bg-amber-500"};default:return{label:"Incomplete",icon:D,bgColor:"bg-gray-100",textColor:"text-gray-700",dotColor:"bg-gray-400"}}},Me=a=>{switch(a){case"approved":return{label:"Approved",icon:N,bgColor:"bg-emerald-100",textColor:"text-emerald-600"};case"rejected":case"reupload_required":return{label:a==="rejected"?"Rejected":"Re-upload",icon:R,bgColor:"bg-red-100",textColor:"text-red-600"};case"under_review":return{label:"Reviewing",icon:L,bgColor:"bg-blue-100",textColor:"text-blue-600"};default:return{label:"Pending",icon:Q,bgColor:"bg-amber-100",textColor:"text-amber-600"}}},$e=a=>({profile_created:"Profile Created",profile_updated:"Profile Updated",document_uploaded:"Document Uploaded",document_deleted:"Document Deleted",document_replaced:"Document Replaced",verification_submitted:"Submitted for Verification",review_started:"Review Started",document_approved:"Document Approved",document_rejected:"Document Rejected",document_reupload_requested:"Re-upload Requested",manager_approved:"Manager Approved",manager_rejected:"Manager Rejected",status_changed:"Status Changed",license_expired:"License Expired",critical_field_edited:"Critical Field Edited",approval_revoked:"Approval Revoked"})[a]||a;function Pe(){const[a,o]=i.useState("all"),[s,g]=i.useState(""),[u,f]=i.useState(null),[k,h]=i.useState(!1),y=[{id:"pending",label:"Pending",count:12,icon:Q,color:"text-amber-500",bg:"bg-amber-50"},{id:"review",label:"In Review",count:5,icon:L,color:"text-blue-500",bg:"bg-blue-50"},{id:"approved",label:"Approved",count:48,icon:N,color:"text-emerald-500",bg:"bg-emerald-50"},{id:"rejected",label:"Rejected",count:3,icon:R,color:"text-red-500",bg:"bg-red-50"}],d=[{id:"1",name:"Skyline Real Estate",type:"Agency",status:"pending",email:"contact@skylinere.com",date:"2h ago"},{id:"2",name:"Sarah Chen",type:"Broker",status:"review",email:"sarah.c@gmail.com",date:"5h ago"},{id:"3",name:"Prime Living Ltd",type:"Agency",status:"approved",email:"info@primeliving.uk",date:"1d ago"},{id:"4",name:"John Doe Properties",type:"Manager",status:"pending",email:"john@doe.com",date:"2d ago"}].filter(l=>!(a!=="all"&&l.status!==a||s&&!l.name.toLowerCase().includes(s.toLowerCase()))),m=()=>{h(!0),setTimeout(()=>h(!1),1200)};return e.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"px-3 py-1 bg-orange-500 text-white rounded-full text-[10px] font-black uppercase tracking-widest shadow-lg shadow-orange-500/20",children:"Security Hub"}),e.jsx("span",{className:"text-gray-400 text-xs font-bold",children:"Manager Verification Queue"})]}),e.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-tight leading-none",children:"Review Portfolios"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(we,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-orange-500 transition-colors",size:18}),e.jsx("input",{type:"text",placeholder:"Search managers...",value:s,onChange:l=>g(l.target.value),className:"pl-12 pr-6 py-4 bg-white dark:bg-gray-800 rounded-2xl border dark:border-gray-700 outline-none focus:ring-4 focus:ring-orange-500/10 font-bold text-sm w-64 shadow-sm transition-all"})]}),e.jsx("button",{onClick:m,className:"p-4 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border dark:border-gray-700 hover:scale-105 transition-all text-gray-600 dark:text-gray-400",children:e.jsx(ae,{size:20,className:k?"animate-spin":""})})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:y.map(l=>e.jsxs("button",{onClick:()=>o(l.id),className:`p-8 rounded-[2.5rem] border transition-all text-left relative overflow-hidden group ${a===l.id?"bg-white dark:bg-gray-800 border-orange-500 shadow-2xl scale-105 z-10":"bg-gray-50/50 dark:bg-gray-900/50 border-transparent hover:bg-white dark:hover:bg-gray-800 shadow-sm"}`,children:[e.jsx("div",{className:`p-4 rounded-2xl ${l.bg} dark:bg-gray-700 ${l.color} w-fit mb-6 transition-transform group-hover:scale-110`,children:e.jsx(l.icon,{size:28})}),e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] leading-none mb-2",children:l.label}),e.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white",children:l.count}),a===l.id&&e.jsx("div",{className:"absolute top-4 right-4 text-orange-500",children:e.jsx(te,{size:16})})]},l.id))}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[3rem] shadow-2xl border dark:border-gray-700 overflow-hidden relative",children:[e.jsxs("div",{className:"px-10 py-6 border-b dark:border-gray-700 flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-8",children:[e.jsx("button",{onClick:()=>o("all"),className:`text-xs font-black uppercase tracking-widest pb-2 transition-all border-b-2 ${a==="all"?"border-orange-500 text-gray-900 dark:text-white":"border-transparent text-gray-400 hover:text-gray-600"}`,children:"All Applications"}),e.jsx("button",{className:"text-xs font-black uppercase tracking-widest pb-2 border-b-2 border-transparent text-gray-400 hover:text-gray-600",children:"Archived"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all",children:e.jsx(_e,{size:18})}),e.jsx("button",{className:"p-2 text-orange-500 bg-orange-50 dark:bg-orange-900/20 rounded-lg transition-all",children:e.jsx(ze,{size:18})})]})]}),e.jsx("div",{className:"p-4 sm:p-10",children:d.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.map(l=>e.jsxs("div",{className:"group p-8 rounded-[2rem] bg-gray-50/50 dark:bg-gray-900/50 border border-transparent hover:border-gray-200 dark:hover:border-gray-700 hover:bg-white dark:hover:bg-gray-800 transition-all flex flex-col md:flex-row md:items-center justify-between gap-6 hover:shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:`w-16 h-16 rounded-[1.25rem] flex items-center justify-center font-black text-xl shadow-lg ${l.type==="Agency"?"bg-blue-500 text-white":"bg-orange-500 text-white"}`,children:l.name.charAt(0)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h3",{className:"text-lg font-black text-gray-900 dark:text-white tracking-tight",children:l.name}),e.jsx("div",{className:`w-2 h-2 rounded-full ${l.status==="pending"?"bg-amber-500":l.status==="review"?"bg-blue-500":"bg-green-500"}`})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-400",children:l.type}),e.jsxs("span",{className:"text-xs text-gray-500 font-bold",children:["• ",l.email]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none mb-2",children:"Submitted"}),e.jsx("p",{className:"text-sm font-black text-gray-900 dark:text-white",children:l.date})]}),e.jsxs("button",{onClick:()=>f(l.id),className:"px-10 py-5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:scale-105 active:scale-95 transition-all shadow-xl flex items-center gap-2 group-hover:bg-orange-500 group-hover:text-white",children:["Review Profile ",e.jsx(Se,{size:16})]})]})]},l.id))}):e.jsxs("div",{className:"py-20 text-center text-gray-400 font-bold",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ee,{className:"opacity-20",size:40})}),e.jsx("p",{className:"uppercase tracking-widest text-xs",children:"Queue Clear • Good work!"})]})})]}),u&&e.jsx(De,{managerId:u,onClose:()=>f(null)})]})}function Je(){return e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center font-bold",children:"Loading Queue..."}),children:e.jsx(Pe,{})})}export{Je as default};
//# sourceMappingURL=page-BAe3xonE.js.map
