import{c as E,j as e,p as Z,a4 as K,r as H,m as q,B as Q,k as X}from"./index-Da7XMO_V.js";import{B as Y}from"./BackButton-CqCFDLWv.js";import{g as z}from"./analyticsService-CpHu2hGR.js";import{g as D}from"./applicationsService-DIDU2x9Z.js";import{T as R}from"./trending-up-DZzFJD-J.js";import{D as ee}from"./dollar-sign-Ct0i7cF1.js";import"./arrow-left-BwO-D1-S.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],se=E("lightbulb",te);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],W=E("target",re);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],J=E("trending-down",ae),U=({data:i,title:c,height:s=200,showValues:h=!0,formatValue:g,showCurrency:o=!1})=>{if(!i||i.length===0)return e.jsx("div",{className:"w-full flex items-center justify-center",style:{height:`${s}px`},children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available"})});const p=Math.max(...i.map(r=>r.value||0),1),N=Math.min(...i.map(r=>r.value||0),0),l=p-N||1,f=g||(r=>o?r>=1e3?`£${(r/1e3).toFixed(0)}k`:`£${r}`:r>=1e3?`${(r/1e3).toFixed(1)}k`:`${r}`),d=r=>o?r>=1e3?`£${(r/1e3).toFixed(0)}k`:`£${r.toFixed(0)}`:r>=1e3?`${(r/1e3).toFixed(1)}k`:`${r.toFixed(0)}`;return e.jsxs("div",{className:"w-full",children:[c&&e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:c}),e.jsxs("div",{className:"relative w-full",style:{height:`${s}px`},children:[e.jsxs("div",{className:"absolute left-0 top-0 bottom-0 flex flex-col justify-between pr-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:d(p)}),e.jsx("span",{children:d(p*.75)}),e.jsx("span",{children:d(p*.5)}),e.jsx("span",{children:d(p*.25)}),e.jsx("span",{children:o?"£0":"0"})]}),e.jsx("div",{className:"ml-12 h-full flex items-end justify-between gap-2 md:gap-4",children:i.map((r,k)=>{const m=r.value||0,$=l>0?(m-N)/l*100:0,w=Math.max($,m>0?5:2);return e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end group h-full",children:[h&&e.jsxs("div",{className:"absolute bottom-full mb-2 px-2 py-1 bg-gray-800 dark:bg-gray-700 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:[f(m),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800 dark:border-t-gray-700"})]}),e.jsxs("div",{className:"w-full rounded-t-lg transition-all hover:opacity-90 cursor-pointer relative group/bar",style:{height:`${w}%`,backgroundColor:r.color||"#FF6B35",minHeight:"8px"},title:`${r.label}: ${f(m)}`,children:[h&&w>25&&e.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 text-white text-xs font-semibold",children:f(m)}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover/bar:opacity-100 transition-opacity rounded-t-lg"})]}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2 text-center px-1 font-medium truncate w-full",children:r.label})]},k)})}),e.jsx("div",{className:"absolute inset-0 ml-12 pointer-events-none",children:[0,25,50,75,100].map(r=>e.jsx("div",{className:"absolute left-0 right-0 border-t border-gray-200 dark:border-gray-700",style:{bottom:`${r}%`}},r))})]})]})},G=({data:i,size:c=200,title:s})=>{const h=i.reduce((l,u)=>l+(u.value||0),0),g=c/2,o=c/2-10;let p=-90;const N=(l,u,f)=>{if(h===0||!l||l<=0)return null;const d=l/h*100,r=d/100*360;if(isNaN(r)||isNaN(d))return null;const k=p,m=p+r,$=g+o*Math.cos(k*Math.PI/180),w=g+o*Math.sin(k*Math.PI/180),C=g+o*Math.cos(m*Math.PI/180),S=g+o*Math.sin(m*Math.PI/180);if(isNaN($)||isNaN(w)||isNaN(C)||isNaN(S))return null;const B=r>180?1:0,I=[`M ${g} ${g}`,`L ${$.toFixed(2)} ${w.toFixed(2)}`,`A ${o} ${o} 0 ${B} 1 ${C.toFixed(2)} ${S.toFixed(2)}`,"Z"].join(" ");return p=m,e.jsx("path",{d:I,fill:u,stroke:"white",strokeWidth:"2",className:"hover:opacity-80 transition-opacity cursor-pointer"},f)};return h===0?e.jsxs("div",{className:"flex flex-col items-center",children:[s&&e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:s}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,children:e.jsx("circle",{cx:g,cy:g,r:o,fill:"none",stroke:"#e5e7eb",strokeWidth:"20"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"0"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total"})]})})]}),e.jsx("div",{className:"mt-4 space-y-2 w-full",children:i.map((l,u)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.label})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:"0"}),e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"(0%)"})]})]},u))})]}):e.jsxs("div",{className:"flex flex-col items-center",children:[s&&e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:s}),e.jsxs("div",{className:"relative",children:[e.jsx("svg",{width:c,height:c,viewBox:`0 0 ${c} ${c}`,children:i.map((l,u)=>N(l.value,l.color,u))}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:h}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total"})]})})]}),e.jsx("div",{className:"mt-4 space-y-2 w-full",children:i.map((l,u)=>{const f=h>0?(l.value/h*100).toFixed(1):"0";return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.label})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:l.value}),e.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",f,"%)"]})]})]},u)})})]})},_=({data:i,title:c,height:s=200,color:h="#FF6B35"})=>{const g=Math.max(...i.map(d=>d.value)),o=Math.min(...i.map(d=>d.value)),p=g-o||1,N=100,l=s-40,f=`M ${i.map((d,r)=>{const k=r/(i.length-1)*N,m=l-(d.value-o)/p*l;return`${k},${m}`}).join(" L ")}`;return e.jsxs("div",{children:[c&&e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:c}),e.jsxs("div",{className:"relative",style:{height:`${s}px`},children:[e.jsxs("svg",{width:"100%",height:l,viewBox:`0 0 ${N} ${l}`,className:"overflow-visible",children:[[0,25,50,75,100].map(d=>e.jsx("line",{x1:"0",y1:d,x2:N,y2:d,stroke:"#e5e7eb",strokeWidth:"1",strokeDasharray:"2,2"},d)),e.jsx("path",{d:f,fill:"none",stroke:h,strokeWidth:"2",className:"transition-all"}),e.jsx("path",{d:`${f} L ${N},${l} L 0,${l} Z`,fill:h,fillOpacity:"0.1"}),i.map((d,r)=>{const k=r/(i.length-1)*N,m=l-(d.value-o)/p*l;return e.jsxs("g",{children:[e.jsx("circle",{cx:k,cy:m,r:"3",fill:h,className:"hover:r-4 transition-all cursor-pointer"}),e.jsx("text",{x:k,y:m-8,textAnchor:"middle",className:"text-xs fill-gray-600 dark:fill-gray-400",style:{fontSize:"8px"},children:d.value})]},r)})]}),e.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-600 dark:text-gray-400",children:i.map((d,r)=>e.jsx("span",{className:"flex-1 text-center",children:d.label},r))})]})]})},me=()=>{var k,m,$,w,C,S,B,I;const{properties:i}=Z(),{leads:c}=K(),[s,h]=H.useState(null),[g,o]=H.useState([]),[p,N]=H.useState(!0);H.useEffect(()=>{(async()=>{try{const[b,v]=await Promise.all([z(),D()]);b.data&&h(b.data),v.data&&o(v.data)}catch(b){console.error("Error fetching analytics:",b)}finally{N(!1)}})()},[]);const l=g.length>0?g:[],u=l.filter(t=>t.status==="approved"),f=l.filter(t=>t.status==="submitted"),d=(s==null?void 0:s.revenueTrend.map(t=>({month:t.label,value:t.value*1e3,change:0})))||[],r=(s==null?void 0:s.propertyPerformance.map(t=>({property:t.property,views:t.views,applications:t.applications,conversionRate:t.conversionRate})))||[];return p?e.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6 font-sans pb-20 animate-in fade-in duration-500",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsx(Y,{})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"Analytics"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-500 rounded-lg",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsx(R,{className:"w-5 h-5 text-green-500"})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:((k=s==null?void 0:s.leadAnalytics)==null?void 0:k.totalLeads)||0}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads"})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-primary rounded-lg",children:e.jsx(Q,{className:"w-6 h-6 text-white"})}),e.jsx(R,{className:"w-5 h-5 text-green-500"})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:((m=s==null?void 0:s.leadAnalytics)==null?void 0:m.totalProperties)||i.length||0}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Properties"})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-green-500 rounded-lg",children:e.jsx(W,{className:"w-6 h-6 text-white"})}),e.jsx(R,{className:"w-5 h-5 text-green-500"})]}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:[(($=s==null?void 0:s.leadAnalytics)==null?void 0:$.conversionRate)||0,"%"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversion Rate"})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-purple-500 rounded-lg",children:e.jsx(R,{className:"w-6 h-6 text-white"})}),e.jsx(R,{className:"w-5 h-5 text-green-500"})]}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:[((w=s==null?void 0:s.leadAnalytics)==null?void 0:w.passed)||0,"%"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Growth Rate"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Monthly Revenue Trend"})}),(()=>{var y,j;const t=d.length>0?d:[{month:"Jan",value:0},{month:"Feb",value:0},{month:"Mar",value:0},{month:"Apr",value:0},{month:"May",value:0},{month:"Jun",value:0}],b=t.reduce((n,x)=>n+x.value,0),v=Math.round(b/t.length),F=t.reduce((n,x)=>x.value>n.value?x:n,t[0]),A=((y=t[0])==null?void 0:y.value)||0,P=((j=t[t.length-1])==null?void 0:j.value)||0,a=A>0?(P-A)/A*100:0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["$",(b/1e3).toFixed(0),"k"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"6 months"})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Average Monthly"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:["$",(v/1e3).toFixed(0),"k"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Per month"})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-4 border border-orange-200 dark:border-orange-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Best Month"}),e.jsx("p",{className:"text-2xl font-bold text-orange-700 dark:text-orange-400",children:F.month}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["$",(F.value/1e3).toFixed(0),"k"]})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Growth Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",a.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Since Jan"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-end justify-between gap-4 h-48",children:t.map((n,x)=>{const V=Math.max(...t.map(O=>O.value),1),M=n.value/V*100,L=x>0?t[x-1].value:n.value,T=x>0?(n.value-L)/L*100:0;return e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end h-full group",children:[e.jsx("div",{className:"w-full flex-1 flex flex-col justify-end items-center mb-2 relative",children:e.jsx("div",{className:"w-full bg-primary rounded-t-lg transition-all hover:opacity-80 cursor-pointer relative",style:{height:`${M}%`},children:e.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-800 dark:bg-gray-700 text-white text-xs px-2 py-1 rounded whitespace-nowrap z-10",children:["$",(n.value/1e3).toFixed(0),"k",x>0&&e.jsxs("span",{className:`ml-1 ${T>=0?"text-green-400":"text-red-400"}`,children:["(",T>=0?"+":"",T.toFixed(1),"%)"]})]})})}),e.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-white mb-1",children:["$",(n.value/1e3).toFixed(0),"k"]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:n.month}),x>0&&e.jsxs("p",{className:`text-xs mt-1 ${T>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[T>=0?"↑":"↓"," ",Math.abs(T).toFixed(1),"%"]})]},x)})})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Month"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Revenue"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"vs Average"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:t.map((n,x)=>{const V=x>0?t[x-1].value:n.value,M=x>0?(n.value-V)/V*100:0,L=(n.value-v)/v*100;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 dark:text-white",children:n.month}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:["$",n.value.toLocaleString()]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:x>0?e.jsxs("span",{className:`font-medium ${M>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[M>=0?"+":"",M.toFixed(1),"%"]}):e.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:"—"})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:x>0&&e.jsxs("span",{className:`inline-flex items-center ${M>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[M>=0?"↑":"↓"," ",Math.abs(M).toFixed(1),"%"]})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("span",{className:`font-medium ${L>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[L>=0?"+":"",L.toFixed(1),"%"]})})]},x)})})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Key Insights"}),e.jsxs("ul",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{children:["• Revenue has grown by ",e.jsxs("span",{className:"font-semibold text-green-600 dark:text-green-400",children:[a.toFixed(1),"%"]})," over the past 6 months"]}),e.jsxs("li",{children:["• ",e.jsx("span",{className:"font-semibold",children:F.month})," was the best performing month with $",(F.value/1e3).toFixed(0),"k in revenue"]}),e.jsxs("li",{children:["• Average monthly revenue is ",e.jsxs("span",{className:"font-semibold",children:["$",(v/1e3).toFixed(0),"k"]}),", indicating consistent growth"]}),e.jsxs("li",{children:["• Current trend shows ",e.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:"positive momentum"})," with steady month-over-month increases"]})]})]})]})})()]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(se,{className:"w-6 h-6 text-primary"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Future Property Rate Analysis & Predictions"})]}),(()=>{const t=[{id:"1",name:"Modern Downtown Apartment",currentRate:45e4,predictedRate1Month:465e3,predictedRate2Months:48e4,trend:"increasing",location:"Downtown",propertyType:"Apartment"},{id:"2",name:"Luxury Condo with City View",currentRate:3500,predictedRate1Month:3625,predictedRate2Months:3750,trend:"increasing",location:"City Center",propertyType:"Condo"},{id:"3",name:"Spacious Penthouse",currentRate:6500,predictedRate1Month:6300,predictedRate2Months:6100,trend:"decreasing",location:"Uptown",propertyType:"Penthouse"},{id:"4",name:"Suburban Family Home",currentRate:32e4,predictedRate1Month:332e3,predictedRate2Months:345e3,trend:"increasing",location:"Suburbs",propertyType:"House"},{id:"5",name:"Beachfront Villa",currentRate:85e4,predictedRate1Month:88e4,predictedRate2Months:91e4,trend:"increasing",location:"Coastal",propertyType:"Villa"}],b=t.length,v=t.filter(a=>a.trend==="increasing").length,F=t.filter(a=>a.trend==="decreasing").length,A=t.reduce((a,y)=>{const j=(y.predictedRate1Month-y.currentRate)/y.currentRate*100;return a+j},0)/b,P=t.reduce((a,y)=>{const j=(y.predictedRate2Months-y.currentRate)/y.currentRate*100;return a+j},0)/b;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Increasing"}),e.jsx(R,{className:"w-5 h-5 text-green-600 dark:text-green-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:v}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",b," properties"]})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Properties Decreasing"}),e.jsx(J,{className:"w-5 h-5 text-red-600 dark:text-red-400"})]}),e.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:F}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["of ",b," properties"]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (1 Month)"}),e.jsx(ee,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-400",children:["+",A.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Next month"})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg. Increase (2 Months)"}),e.jsx(W,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:["+",P.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"In 2 months"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-800",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Rate Prediction Trend (Next 2 Months)"}),e.jsx(_,{data:[{label:"Current",value:t[0].currentRate/1e3},{label:"+1 Month",value:t[0].predictedRate1Month/1e3},{label:"+2 Months",value:t[0].predictedRate2Months/1e3}],height:200,color:"#FF6B35"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 text-center",children:["Sample: ",t[0].name]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Property Rate Predictions"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Current Rate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+1 Month"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"+2 Months"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Change"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Trend"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Recommendation"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:t.map(a=>{const y=(a.predictedRate1Month-a.currentRate)/a.currentRate*100,j=(a.predictedRate2Months-a.currentRate)/a.currentRate*100,n=a.currentRate<1e4;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a.location," • ",a.propertyType]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:n?`$${a.currentRate.toLocaleString()}/mo`:`$${a.currentRate.toLocaleString()}`}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:n?`$${a.predictedRate1Month.toLocaleString()}/mo`:`$${a.predictedRate1Month.toLocaleString()}`}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:n?`$${a.predictedRate2Months.toLocaleString()}/mo`:`$${a.predictedRate2Months.toLocaleString()}`}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("span",{className:`font-medium ${y>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[y>=0?"+":"",y.toFixed(1),"% (1M)"]}),e.jsx("br",{}),e.jsxs("span",{className:`font-medium ${j>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[j>=0?"+":"",j.toFixed(1),"% (2M)"]})]})}),e.jsx("td",{className:"px-4 py-3",children:a.trend==="increasing"?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-medium",children:[e.jsx(R,{className:"w-3 h-3"}),"Increasing"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-medium",children:[e.jsx(J,{className:"w-3 h-3"}),"Decreasing"]})}),e.jsx("td",{className:"px-4 py-3",children:a.trend==="increasing"?e.jsxs("div",{className:"text-xs",children:[e.jsxs("p",{className:"text-green-600 dark:text-green-400 font-medium",children:["Increase by ",j.toFixed(1),"%"]}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:["Suggested: ",n?`$${Math.round(a.currentRate*(1+j/100)).toLocaleString()}/mo`:`$${Math.round(a.currentRate*(1+j/100)).toLocaleString()}`]})]}):e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:"Consider holding"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Market may recover"})]})})]},a.id)})})]})})]}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-primary/10 to-orange-100 dark:from-primary/20 dark:to-orange-900/20 rounded-lg border border-primary/20 dark:border-primary/30",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(X,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-2",children:"Recommendations for Estate Agents"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"•"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Next 2 Months Strategy:"})," Based on market predictions, you can increase rates by an average of ",e.jsxs("strong",{className:"text-green-600 dark:text-green-400",children:[P.toFixed(1),"%"]})," across ",v," properties."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"•"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Immediate Action (1 Month):"})," Consider increasing rates by ",e.jsxs("strong",{className:"text-blue-600 dark:text-blue-400",children:[A.toFixed(1),"%"]})," for properties showing upward trends to maximize revenue."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"•"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Properties to Focus On:"})," ",t.filter(a=>a.trend==="increasing").map(a=>a.name).join(", ")," show strong growth potential."]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"•"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Market Timing:"})," The predicted ",P>0?"increase":"decrease"," suggests this is an ",P>0?"optimal":"cautious"," time to adjust rates. Monitor market conditions weekly."]})]})]})]})]})})]})})()]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Application Status Distribution"}),e.jsx(G,{data:[{label:"Approved",value:u.length,color:"#10b981"},{label:"Pending",value:f.length,color:"#f59e0b"},{label:"Rejected",value:l.filter(t=>t.status==="rejected").length,color:"#ef4444"}],size:200})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Lead Status Distribution"}),e.jsx(G,{data:[{label:"New Leads",value:c.filter(t=>t.status==="New Lead").length,color:"#3b82f6"},{label:"In Progress",value:c.filter(t=>t.status==="In Progress").length,color:"#f59e0b"},{label:"Approved",value:c.filter(t=>t.status==="Approved").length,color:"#10b981"}],size:200})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Property Performance Comparison"}),e.jsx(U,{data:r.slice(0,3).map(t=>({label:t.property.split(" ").slice(0,2).join(" "),value:t.views,color:"#FF6B35"})),title:"Property Views",height:200})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Applications by Property"}),e.jsx(U,{data:r.slice(0,3).map(t=>({label:t.property.split(" ").slice(0,2).join(" "),value:t.views,color:t.views>500?"#10b981":t.views>300?"#3b82f6":"#FF6B35"})),title:"Applications Received",height:200})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Revenue Trend (Line Chart)"}),e.jsx(_,{data:d.map(t=>({label:t.month,value:t.value})),height:200,color:"#FF6B35"})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Property Performance"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Property"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Views"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Applications"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Conversion"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-black divide-y divide-gray-200 dark:divide-gray-800",children:r.map((t,b)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-900 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.property}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.views}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:t.applications}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${t.conversionRate}%`}})}),e.jsxs("span",{className:"text-sm text-gray-900 dark:text-white",children:[t.conversionRate,"%"]})]})})]},b))})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Lead Analytic"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Leads"}),e.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:((C=s==null?void 0:s.leadAnalytics)==null?void 0:C.totalLeads)||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Properties"}),e.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:((S=s==null?void 0:s.leadAnalytics)==null?void 0:S.totalProperties)||i.length||0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Conversion Rate"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:[((B=s==null?void 0:s.leadAnalytics)==null?void 0:B.conversionRate)||0,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Passed"}),e.jsx("span",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:((I=s==null?void 0:s.leadAnalytics)==null?void 0:I.passed)||0})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Monthly Applications Trend"}),e.jsx(_,{data:(s==null?void 0:s.monthlyApplicationsTrend)||[],height:200,color:"#3b82f6"})]})]})]})};export{me as default};
//# sourceMappingURL=page-CjXD1AD0.js.map
