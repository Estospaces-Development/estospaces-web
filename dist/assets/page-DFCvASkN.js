const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SatelliteMap-5i_u57oD.js","assets/index-DOVRzmjE.js","assets/index-BngMrock.css","assets/funnel-Dm1GjO5g.js","assets/car-1kKo-qWu.js","assets/index-CWv_q1Wp.js","assets/SatelliteMap-CIGW-MKW.css"])))=>i.map(i=>d[i]);
import{c as S,h as P,u as f,r as d,j as e,Z as D,_ as E,J as _,B as A,m as T,F as B,o as I,X as z,U as R,a as N,P as U,M as V,x as $,H as k,k as q,C as F,K as O}from"./index-DOVRzmjE.js";import{P as L}from"./plus-BnzQnmOQ.js";import{S as v}from"./StatCard-BaxktwvK.js";import{S as G}from"./star-OEoLTm-w.js";import{A as M}from"./arrow-right-zqhCAAmC.js";import{C as H}from"./clock-BTPvMfCB.js";import{E as w}from"./eye-ZHS1zas0.js";import{B as W,a as J,M as K}from"./maximize-D4Ezb_UP.js";import{S as Y}from"./square-pen-BfCPIThC.js";import{D as Z}from"./dollar-sign-BkcxF9s_.js";import{U as X}from"./user-check-BRWRijws.js";import{F as Q}from"./funnel-Dm1GjO5g.js";import{D as ee}from"./download-feth3Ggj.js";import{B as ae}from"./bot-B4iPb3OD.js";import"./trending-up-CIbD0edw.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],re=S("bell-ring",te);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],ne=S("ellipsis",se),ie=()=>({auth:{getUser:async()=>({data:{user:null},error:null}),getSession:async()=>({data:{session:null},error:null}),signInWithPassword:async()=>({data:{},error:{message:"Supabase is disabled in UI-only mode"}}),signOut:async()=>({error:null}),onAuthStateChange:()=>({data:{subscription:{unsubscribe:()=>{}}}}),signUp:async()=>({data:{},error:{message:"Supabase is disabled"}})},from:a=>{const r={select:(t,s)=>r,insert:t=>Promise.resolve({data:null,error:null}),update:t=>r,delete:()=>r,eq:(t,s)=>r,neq:(t,s)=>r,gt:(t,s)=>r,lt:(t,s)=>r,gte:(t,s)=>r,lte:(t,s)=>r,like:(t,s)=>r,ilike:(t,s)=>r,is:(t,s)=>r,in:(t,s)=>r,contains:(t,s)=>r,containedBy:(t,s)=>r,rangeGt:(t,s)=>r,rangeLt:(t,s)=>r,rangeGte:(t,s)=>r,rangeLte:(t,s)=>r,rangeAdjacent:(t,s)=>r,overlaps:(t,s)=>r,textSearch:(t,s)=>r,match:(t,s)=>r,not:(t,s,i)=>r,or:t=>r,filter:(t,s,i)=>r,order:(t,s)=>r,limit:t=>r,range:(t,s)=>r,abortSignal:t=>r,single:async()=>({data:null,error:null}),maybeSingle:async()=>({data:null,error:null}),csv:async()=>({data:null,error:null}),then:(t,s)=>Promise.resolve({data:[],error:null}).then(t,s)};return r},storage:{from:a=>({upload:async(r,t)=>({data:null,error:null}),download:async r=>({data:null,error:null}),list:async r=>({data:[],error:null}),getPublicUrl:r=>({data:{publicUrl:""}}),remove:async r=>({data:[],error:null})})},functions:{invoke:async(a,r)=>({data:null,error:null})},realtime:{channel:a=>({on:()=>({subscribe:()=>{}}),subscribe:()=>{},unsubscribe:()=>{}})}}),j=ie(),oe=()=>{var h;const{getDisplayName:a,getRole:r,user:t}=P(),s=f(),[i,n]=d.useState({activeProperties:0,activeLeads:0,totalApplications:0}),[g,o]=d.useState(!0),x=a&&typeof a=="function"?a():((h=t==null?void 0:t.email)==null?void 0:h.split("@")[0])||"User";return d.useEffect(()=>{(async()=>{if(t)try{const{count:l}=await j.from("properties").select("*",{count:"exact",head:!0}).eq("agent_id",t.id).eq("status","active"),{count:y}=await j.from("leads").select("*",{count:"exact",head:!0}).eq("agent_id",t.id),{count:b}=await j.from("applications").select("*",{count:"exact",head:!0}).eq("agent_id",t.id).eq("status","pending");n({activeProperties:l||0,activeLeads:y||0,totalApplications:b||0})}catch(l){console.error("Error fetching dashboard stats:",l)}finally{o(!1)}})()},[t]),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:["Welcome ",x]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage Your Properties, ideas, and grow your business"})]}),e.jsxs("button",{onClick:()=>s("/manager/dashboard/properties/add"),className:"bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors shadow-lg shadow-primary/20",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Property"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 mt-4 p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:g?"...":`${i.activeProperties} Active Properties`})]}),e.jsx("div",{className:"hidden sm:block w-px h-4 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:g?"...":`${i.activeLeads} Active Leads`})]}),e.jsx("div",{className:"hidden sm:block w-px h-4 bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:g?"...":`${i.totalApplications} Applications`})]})]})]})},le=d.lazy(()=>E(()=>import("./SatelliteMap-5i_u57oD.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),de=()=>{const[a,r]=d.useState([]),[t,s]=d.useState(!0);return d.useEffect(()=>{const i=async()=>{s(!0);try{await new Promise(o=>setTimeout(o,800)),r([{id:"1",type:"New Lead",name:"John Doe",property:"Sunset Villa",date:"2 mins ago"},{id:"2",type:"Viewing Request",name:"Sarah Smith",property:"Downtown Loft",date:"1 hour ago"},{id:"3",type:"Application Submitted",name:"Mike Johnson",property:"Seaside Condo",date:"3 hours ago"},{id:"4",type:"Message Received",name:"Emily Davis",property:"Mountain Cabin",date:"5 hours ago"}])}catch{r([])}finally{s(!1)}};i();const n=setInterval(i,3e4);return()=>clearInterval(n)},[]),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group transition-all duration-300 hover:shadow-xl hover:scale-[1.01] hover:brightness-105 dark:hover:brightness-110",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/10 dark:via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(D,{className:"w-5 h-5 text-blue-500 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-12"}),e.jsx("h3",{className:"section-heading text-gray-800 dark:text-white transition-colors duration-300 group-hover:text-primary dark:group-hover:text-primary-light",children:"Recently Activity"})]}),e.jsx("div",{className:"space-y-4 mb-6",children:t?e.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"Loading activities..."}):a.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No recent activity"}):a.map((i,n)=>e.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-900/50 hover:scale-[1.02] cursor-pointer group/item",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0 transition-all duration-300 group-hover/item:scale-150 group-hover/item:shadow-lg group-hover/item:shadow-blue-500/50"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"body-text font-medium text-gray-800 dark:text-white transition-colors duration-300 group-hover/item:text-blue-600 dark:group-hover/item:text-blue-400",children:i.type}),e.jsxs("p",{className:"body-text text-gray-600 dark:text-gray-400 transition-colors duration-300 group-hover/item:text-gray-800 dark:group-hover/item:text-gray-300",children:[i.name," - ",i.property]}),i.date&&e.jsx("p",{className:"caption text-gray-500 dark:text-gray-500 mt-1",children:i.date})]})]},n))}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg h-[500px] md:h-[650px] lg:h-[800px] relative overflow-hidden border border-gray-200 dark:border-gray-800",children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center h-full",children:"Loading map..."}),children:e.jsx(le,{})})})]})]})},ce=()=>{const{user:a}=P(),[r,t]=d.useState([]),[s,i]=d.useState(!0);return d.useEffect(()=>{const n=async()=>{i(!0);try{if(!a){t([]),i(!1);return}const{data:o,error:x}=await j.from("properties").select("id, title, price, view_count, status").eq("agent_id",a.id).in("status",["online","active","published"]);if(x){console.error("Error fetching top properties:",x),t([]),i(!1);return}if(!o||o.length===0){t([]),i(!1);return}const h=o.map(c=>({id:c.id,name:c.title||"Untitled Property",price:parseFloat(c.price||"0").toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),views:c.view_count||0,inquiries:0,status:c.status==="online"||c.status==="active"||c.status==="published"?"Available":c.status||"Unknown"})).sort((c,l)=>l.views-c.views).slice(0,3);t(h)}catch(o){console.error("Error fetching top properties:",o),t([])}finally{i(!1)}};n();const g=setInterval(n,3e4);return()=>clearInterval(g)},[a]),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(G,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"section-heading text-gray-800 dark:text-white",children:"Top Performing properties"})]}),s?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(n=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-4 bg-white dark:bg-black animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/3"})]},n))}):r.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"No properties found. Add properties to see top performers here."})}):e.jsx("div",{className:"space-y-4",children:r.map(n=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-800 rounded-lg p-4 bg-white dark:bg-black",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"body-text font-semibold text-gray-800 dark:text-white",children:n.name}),e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 caption rounded-full whitespace-nowrap text-xs",children:n.status})]}),e.jsx("p",{className:"text-lg font-bold text-gray-800 dark:text-white mb-2",children:n.price}),e.jsxs("div",{className:"flex items-center gap-4 secondary-label text-gray-600 dark:text-gray-400 text-sm",children:[e.jsxs("span",{children:[n.views," ",n.views===1?"view":"views"]}),e.jsxs("span",{children:[n.inquiries," ",n.inquiries===1?"Inquiry":"Inquiries"]})]})]},n.id))})]})},ge=({activeTab:a,onTabChange:r})=>{const t=[{id:"overview",label:"Overview",icon:_},{id:"properties",label:"Properties",icon:A},{id:"leads",label:"Leads",icon:T},{id:"application",label:"Application",icon:B},{id:"analytics",label:"Analytics",icon:I}];return e.jsx("div",{className:"mb-8 overflow-x-auto pb-1 scrollbars-none",children:e.jsx("div",{className:"inline-flex p-1.5 bg-gray-100/80 dark:bg-gray-900/50 backdrop-blur-sm rounded-2xl border border-gray-200/50 dark:border-gray-800/50 shadow-inner min-w-max",children:t.map(s=>{const i=s.icon,n=a===s.id;return e.jsxs("button",{onClick:()=>r(s.id),className:`relative flex items-center gap-2.5 px-5 py-2.5 rounded-xl text-sm font-medium transition-all duration-300 ease-out outline-none focus-visible:ring-2 focus-visible:ring-orange-500 ${n?"bg-white dark:bg-gray-800 text-orange-600 dark:text-orange-500 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-black/5 dark:hover:bg-white/5"}`,children:[e.jsx(i,{className:`w-4 h-4 transition-transform duration-300 ${n?"scale-110":""}`,strokeWidth:n?2.5:2}),e.jsx("span",{children:s.label})]},s.id)})})})},me=({isOpen:a,onClose:r,clientName:t,avatar:s,clientId:i="1"})=>{const n=f();if(!a)return null;const g=()=>{n("/manager/leads")},o=()=>{n("/manager/messages")};return e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-xl w-full max-w-md overflow-hidden relative animate-in zoom-in-95 duration-200",children:[e.jsx("div",{className:"h-24 bg-gradient-to-r from-blue-500 to-indigo-600"}),e.jsx("button",{onClick:r,className:"absolute top-4 right-4 bg-black/20 hover:bg-black/40 text-white rounded-full p-1 transition-colors",children:e.jsx(z,{className:"w-5 h-5"})}),e.jsx("div",{className:"px-6 pb-6 mt-[-3rem]",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white dark:border-gray-900 overflow-hidden bg-gray-100 mb-4",children:s?e.jsx("img",{src:s,alt:t,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-800 text-gray-500",children:e.jsx(R,{className:"w-10 h-10"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:t}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 dark:text-gray-400 mb-6",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"Mumbai, India"})]}),e.jsxs("div",{className:"w-full grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsx(U,{className:"w-3 h-3"}),e.jsx("span",{children:"Phone"})]}),e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:"+91 98765 43210"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsx(V,{className:"w-3 h-3"}),e.jsx("span",{children:"Email"})]}),e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:"client@example.com"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsx($,{className:"w-3 h-3"}),e.jsx("span",{children:"Member Since"})]}),e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:"Jan 2024"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-xl border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mb-1",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:"Interested In"})]}),e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:"Rent, Buy"})]})]}),e.jsxs("div",{className:"w-full flex gap-3",children:[e.jsx("button",{onClick:g,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-2.5 rounded-lg font-medium transition-colors",children:"View History"}),e.jsx("button",{onClick:o,className:"flex-1 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 py-2.5 rounded-lg font-medium transition-colors",children:"Message"})]})]})})]})})},xe=({request:a,onRespond:r})=>{const t=f(),[s,i]=d.useState(!1),[n,g]=d.useState(()=>{if(a.status!=="pending")return 0;const p=600-Math.floor((new Date().getTime()-a.timestamp.getTime())/1e3);return p>0?p:0}),[o,x]=d.useState(a.status);d.useEffect(()=>{if(o!=="pending")return;if(n<=0){x("expired");return}const u=setInterval(()=>{g(m=>m<=1?(x("expired"),0):m-1)},1e3);return()=>clearInterval(u)},[n,o]),d.useEffect(()=>{a.status!=="pending"&&x(a.status)},[a.status]);const h=u=>{u.stopPropagation(),x("responded"),r(a.id),t("/manager/messages")},c=u=>{u.stopPropagation(),t("/manager/dashboard/properties")},l=u=>{const m=Math.floor(u/60),p=u%60;return`${m}:${p.toString().padStart(2,"0")}`},y=()=>n<60?"bg-red-500":n<300?"bg-yellow-500":"bg-green-500",b=()=>{switch(o){case"responded":return e.jsxs("span",{className:"flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:[e.jsx(F,{className:"w-3 h-3"}),"Responded"]});case"expired":return e.jsxs("span",{className:"flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",children:[e.jsx(q,{className:"w-3 h-3"}),"Expired"]});default:return e.jsxs("span",{className:"flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",children:[e.jsx(H,{className:"w-3 h-3"}),"Pending"]})}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{onClick:()=>i(!0),className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${o==="expired"?"bg-gray-50 border-gray-200 dark:bg-gray-900/50 dark:border-gray-800 opacity-75":"bg-white border-gray-200 dark:bg-black dark:border-gray-800 hover:shadow-md hover:scale-[1.01]"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[a.brokerAvatar?e.jsx("img",{src:a.brokerAvatar,alt:a.brokerName,className:"w-10 h-10 rounded-full object-cover border border-gray-200 dark:border-gray-700"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-500/10 flex items-center justify-center text-orange-600",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-black rounded-full p-0.5",children:e.jsx("div",{className:`w-3 h-3 rounded-full border-2 border-white dark:border-black ${o==="responded"?"bg-green-500":o==="pending"?"bg-yellow-500":"bg-gray-400"}`})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm hover:text-orange-500 transition-colors",children:a.brokerName}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(N,{className:"w-3 h-3"}),e.jsx("span",{children:a.distance})]})]})]}),e.jsx("div",{children:b()})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 line-clamp-1",children:a.propertyName}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Requested ",a.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),o==="pending"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs font-medium",children:[e.jsx("span",{className:`${n<60?"text-red-600 animate-pulse":"text-gray-600 dark:text-gray-300"}`,children:"Response required in:"}),e.jsx("span",{className:`font-mono text-sm ${n<60?"text-red-600 font-bold":"text-gray-800 dark:text-white"}`,children:l(n)})]}),e.jsx("div",{className:"h-1.5 w-full bg-gray-100 dark:bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-1000 ease-linear ${y()}`,style:{width:`${n/600*100}%`}})}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs("button",{onClick:h,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-xs font-medium py-2 px-3 rounded-md transition-colors flex items-center justify-center gap-1 group relative z-10",children:[e.jsx("span",{children:"Respond Now"}),e.jsx(M,{className:"w-3 h-3 transition-transform group-hover:translate-x-0.5"})]}),e.jsx("button",{onClick:c,className:"px-3 py-2 text-xs font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors border border-gray-200 dark:border-gray-700 relative z-10",children:"View Properties"})]})]}),o!=="pending"&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-800 flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:o==="responded"?"Response sent":"Time limit exceeded"}),e.jsx("button",{onClick:c,className:"text-orange-500 hover:underline relative z-10",children:"View Properties"})]})]}),e.jsx(me,{isOpen:s,onClose:()=>i(!1),clientName:a.brokerName,avatar:a.brokerAvatar})]})},ue=()=>{const a=f(),[r,t]=d.useState(()=>[]);d.useEffect(()=>{const n=new Date;t([{id:"1",propertyName:"Sunset Villa, Mumbai",brokerName:"Rajesh Kumar",distance:"1.2 km away",timestamp:new Date(n.getTime()-1e3*60*2),status:"pending"},{id:"2",propertyName:"Green Heights Apt 4B",brokerName:"Priya Sharma",distance:"0.8 km away",timestamp:new Date(n.getTime()-1e3*60*8),status:"pending"},{id:"3",propertyName:"Commercial Hub Office",brokerName:"Amit Patel",distance:"3.5 km away",timestamp:new Date(n.getTime()-1e3*60*1),status:"pending"},{id:"4",propertyName:"Lakeview Penthouse",brokerName:"Sneha Gupta",distance:"2.1 km away",timestamp:new Date(n.getTime()-1e3*60*12),status:"expired"}])},[]);const s=n=>{t(g=>g.map(o=>o.id===n?(o.propertyName,{...o,status:"responded"}):o))},i=r.filter(n=>n.status==="pending").length;return e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 ring-2 ring-blue-500/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/20 rounded-lg animate-pulse",children:e.jsx(re,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"section-heading text-xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-red-600 dark:text-red-500",children:"Live"})," Response Tracker",i>0&&e.jsxs("span",{className:"bg-red-600 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-bounce",children:[i," URGENT"]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Real-time emergency assistance requests"})]})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx(ne,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:r.map(n=>e.jsx(xe,{request:n,onRespond:s},n.id))}),e.jsxs("div",{className:"mt-6 flex justify-between items-center text-xs text-gray-500 border-t border-gray-100 dark:border-gray-800 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"USP: Guaranteed 10-minute response time active."})]}),e.jsxs("button",{onClick:()=>a("/manager/messages"),className:"flex items-center gap-1 text-orange-500 hover:text-orange-600 font-medium group",children:["View All Requests",e.jsx(M,{className:"w-3 h-3 transition-transform group-hover:translate-x-0.5"})]})]})]})},he=({property:a,onEdit:r,onView:t})=>{var b,u;const s=a.title||a.name||"Untitled Property",i=a.address||(typeof a.location=="string"?a.location:(b=a.location)==null?void 0:b.addressLine1)||"No Address",n=a.bedrooms||0,g=a.bathrooms||0,o=a.area||a.sqft||0,h=(()=>{var m,p,C;return a.images&&Array.isArray(a.images)&&a.images.length>0?a.images[0]:a.image?a.image:(C=(p=(m=a.media)==null?void 0:m.images)==null?void 0:p[0])!=null&&C.url?a.media.images[0].url:null})(),l=(m=>{switch((m==null?void 0:m.toLowerCase())||"draft"){case"online":case"active":case"published":return{bg:"bg-emerald-500/10",text:"text-emerald-600",dot:"bg-emerald-500"};case"draft":return{bg:"bg-gray-500/10",text:"text-gray-600",dot:"bg-gray-500"};case"under_offer":return{bg:"bg-orange-500/10",text:"text-orange-600",dot:"bg-orange-500"};case"sold":return{bg:"bg-blue-500/10",text:"text-blue-600",dot:"bg-blue-500"};case"let":return{bg:"bg-purple-500/10",text:"text-purple-600",dot:"bg-purple-500"};default:return{bg:"bg-gray-500/10",text:"text-gray-600",dot:"bg-gray-500"}}})(a.status),y=((u=a.status)==null?void 0:u.replace(/_/g," "))||"Draft";return e.jsxs("div",{className:"bg-white dark:bg-black rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden group hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 dark:bg-gray-900",children:[h?e.jsx("img",{src:h,alt:s,className:"object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(k,{className:"w-12 h-12 text-gray-300"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-white/90 backdrop-blur-sm shadow-sm ${l.text}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${l.dot}`}),e.jsx("span",{className:"capitalize",children:y})]})}),a.view_count!==void 0&&e.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/50 backdrop-blur-sm text-white px-2 py-1 rounded-md text-xs flex items-center gap-1",children:[e.jsx(w,{size:12}),a.view_count]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white truncate flex-1 pr-2",children:s}),a.price!==void 0&&e.jsxs("p",{className:"font-display font-bold text-lg text-orange-600 dark:text-orange-500 whitespace-nowrap",children:["Â£",a.price.toLocaleString()]})]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 flex items-center gap-1.5 truncate",children:[e.jsx(N,{size:14,className:"flex-shrink-0 text-gray-400"}),i]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-5 border-t border-b border-gray-100 dark:border-gray-800 py-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",title:"Bedrooms",children:[e.jsx(W,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium",children:n})," ",e.jsx("span",{className:"text-xs text-gray-400 hidden sm:inline",children:"Beds"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-200 dark:bg-gray-800"}),e.jsxs("div",{className:"flex items-center gap-1.5",title:"Bathrooms",children:[e.jsx(J,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium",children:g})," ",e.jsx("span",{className:"text-xs text-gray-400 hidden sm:inline",children:"Baths"})]}),e.jsx("div",{className:"w-px h-4 bg-gray-200 dark:bg-gray-800"}),e.jsxs("div",{className:"flex items-center gap-1.5",title:"Area",children:[e.jsx(K,{size:16,className:"text-gray-400"}),e.jsx("span",{className:"font-medium",children:o})," ",e.jsx("span",{className:"text-xs text-gray-400 hidden sm:inline",children:"sqft"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:m=>{m.stopPropagation(),r&&r(a.id)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl text-sm font-semibold transition-colors",children:[e.jsx(Y,{size:16}),"Edit"]}),e.jsxs("button",{onClick:m=>{m.stopPropagation(),t&&t(a.id)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-black border border-transparent hover:bg-gray-800 dark:hover:bg-gray-100 rounded-xl text-sm font-bold transition-all shadow-lg shadow-gray-200 dark:shadow-none",children:[e.jsx(w,{size:16}),"View"]})]})]})]})};function pe(){const a=f(),[r,t]=d.useState("overview"),s={monthlyRevenue:"45,250.00",monthlyRevenueChange:"+12.5%",activeProperties:"12",activeListingsChange:"+2",totalViews:"3,450",totalViewsChange:"+18.2%",conversionRate:"2.8%",conversionRateChange:"+0.4%"},[i,n]=d.useState([]),[g,o]=d.useState(!1);d.useEffect(()=>{(async()=>{n([{id:"1",title:"Luxury Apartment in Downtown",address:"123 Main St, Mumbai",bedrooms:3,bathrooms:2,area:1500,status:"active",price:25e6,image:"https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",view_count:124},{id:"2",title:"Cozy Studio near Beach",address:"45 Ocean Dr, Goa",bedrooms:1,bathrooms:1,area:600,status:"draft",price:8e6,image:"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",view_count:45},{id:"3",title:"Modern Office Space",address:"Tech Park, Bangalore",bedrooms:0,bathrooms:2,area:2400,status:"under_offer",price:45e6,image:"https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",view_count:890}])})()},[]);const x=l=>{t(l),l==="leads"?a("/manager/leads"):l==="application"?a("/manager/applications"):l==="analytics"?a("/manager/analytics"):l==="properties"&&a("/manager/dashboard/properties")},h=l=>{console.log("Edit",l)},c=l=>{console.log("View",l)};return e.jsxs("div",{className:"space-y-6 relative min-h-screen pb-20",children:[e.jsx(oe,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(v,{title:"Monthly Revenue",value:`$${s.monthlyRevenue}`,change:s.monthlyRevenueChange,icon:Z,iconColor:"bg-green-500",trendColor:"text-green-600"}),e.jsx(v,{title:"Active Listings",value:s.activeProperties,change:s.activeListingsChange,icon:A,iconColor:"bg-blue-500",trendColor:"text-blue-600"}),e.jsx(v,{title:"Total Views",value:s.totalViews,change:s.totalViewsChange,icon:w,iconColor:"bg-purple-500",trendColor:"text-purple-600"}),e.jsx(v,{title:"Conversion Rate",value:s.conversionRate,change:s.conversionRateChange,icon:X,iconColor:"bg-orange-500",trendColor:"text-orange-600"})]}),e.jsx(ge,{activeTab:r,onTabChange:x}),r==="overview"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[e.jsx(ue,{}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(de,{})}),e.jsx("div",{children:e.jsx(ce,{})})]}),e.jsxs("div",{className:"bg-white dark:bg-black rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-transparent via-white/5 to-transparent transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-orange-500"}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Your Properties"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm font-medium",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors text-sm font-medium",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]}),e.jsxs("button",{onClick:()=>a("/manager/dashboard/properties/add"),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors text-sm font-medium shadow-lg shadow-orange-500/20",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Property"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length>0?i.map(l=>e.jsx(he,{property:l,onEdit:h,onView:c},l.id)):e.jsx("div",{className:"col-span-full py-12 text-center text-gray-500",children:"No properties found. Start by adding one!"})})]})]})]}),e.jsxs("button",{className:"fixed bottom-6 right-6 bg-orange-600 hover:bg-orange-700 text-white rounded-full shadow-xl flex items-center gap-2 px-4 py-3 z-50 transition-all duration-300 hover:scale-105 group",children:[e.jsx(ae,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Ask Lakshmi"})]})]})}function De(){return e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"h-48 flex items-center justify-center font-bold",children:"Loading Dashboard..."}),children:e.jsx(pe,{})})}export{De as default};
//# sourceMappingURL=page-DFCvASkN.js.map
