{"version":3,"file":"MessageInput-CqqmMTOe.js","sources":["../../node_modules/lucide-react/dist/esm/icons/paperclip.js","../../node_modules/lucide-react/dist/esm/icons/smile.js","../../src/components/dashboard/messaging/ConversationList.tsx","../../src/components/dashboard/messaging/ConversationThread.tsx","../../src/components/dashboard/messaging/MessageInput.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551\",\n      key: \"1miecu\"\n    }\n  ]\n];\nconst Paperclip = createLucideIcon(\"paperclip\", __iconNode);\n\nexport { __iconNode, Paperclip as default };\n//# sourceMappingURL=paperclip.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M8 14s1.5 2 4 2 4-2 4-2\", key: \"1y1vjs\" }],\n  [\"line\", { x1: \"9\", x2: \"9.01\", y1: \"9\", y2: \"9\", key: \"yxxnd0\" }],\n  [\"line\", { x1: \"15\", x2: \"15.01\", y1: \"9\", y2: \"9\", key: \"1p4y9e\" }]\n];\nconst Smile = createLucideIcon(\"smile\", __iconNode);\n\nexport { __iconNode, Smile as default };\n//# sourceMappingURL=smile.js.map\n","\"use client\";\r\n\r\nimport React from 'react';\r\nimport { Search, User } from 'lucide-react';\r\nimport { useMessages } from '@/contexts/MessagesContext';\r\n\r\ninterface ConversationListProps {\r\n    onSelectConversation: (id: string | null) => void;\r\n    selectedConversationId: string | null;\r\n}\r\n\r\nexport default function ConversationList({ onSelectConversation, selectedConversationId }: ConversationListProps) {\r\n    const { conversations, searchQuery, setSearchQuery } = useMessages();\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-full bg-white dark:bg-gray-800\">\r\n            <div className=\"p-4 border-b dark:border-gray-700\">\r\n                <div className=\"relative\">\r\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search conversations...\"\r\n                        className=\"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-all text-sm\"\r\n                        value={searchQuery}\r\n                        onChange={(e) => setSearchQuery(e.target.value)}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto\">\r\n                {conversations.length > 0 ? (\r\n                    <div className=\"divide-y dark:divide-gray-700\">\r\n                        {conversations.map((conv: any) => (\r\n                            <button\r\n                                key={conv.id}\r\n                                onClick={() => onSelectConversation(conv.id)}\r\n                                className={`w-full p-4 flex items-center gap-3 transition-colors text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 ${selectedConversationId === conv.id ? 'bg-orange-50 dark:bg-orange-900/20 border-r-4 border-orange-500' : ''\r\n                                    }`}\r\n                            >\r\n                                <div className=\"relative flex-shrink-0\">\r\n                                    <div className=\"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center\">\r\n                                        <User size={24} className=\"text-orange-600\" />\r\n                                    </div>\r\n                                    {conv.unreadCount > 0 && (\r\n                                        <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-gray-800\">\r\n                                            {conv.unreadCount}\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <div className=\"flex items-center justify-between mb-1\">\r\n                                        <h4 className=\"font-bold text-gray-900 dark:text-white truncate\">{conv.contactName}</h4>\r\n                                        <span className=\"text-xs text-gray-400 whitespace-nowrap\">{conv.lastMessageTime}</span>\r\n                                    </div>\r\n                                    <p className={`text-sm truncate ${conv.unreadCount > 0 ? 'text-gray-900 dark:text-white font-semibold' : 'text-gray-500 dark:text-gray-400'}`}>\r\n                                        {conv.lastMessage}\r\n                                    </p>\r\n                                </div>\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"p-8 text-center\">\r\n                        <p className=\"text-gray-500 dark:text-gray-400 text-sm\">No conversations found</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","\"use client\";\r\n\r\nimport React, { useEffect, useRef } from 'react';\r\nimport { useMessages } from '@/contexts/MessagesContext';\r\nimport { User, CheckCheck } from 'lucide-react';\r\n\r\ninterface ConversationThreadProps {\r\n    conversationId: string;\r\n}\r\n\r\nexport default function ConversationThread({ conversationId }: ConversationThreadProps) {\r\n    const { getConversation, isLoading } = useMessages();\r\n    const conversation = getConversation(conversationId);\r\n    const messages = conversation?.messages || [];\r\n    const scrollRef = useRef<HTMLDivElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (scrollRef.current) {\r\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n        }\r\n    }, [messages]);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"flex items-center justify-center h-full\">\r\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div ref={scrollRef} className=\"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 bg-gray-50 dark:bg-gray-900/50\">\r\n            {messages.length > 0 ? (\r\n                messages.map((message: any) => (\r\n                    <div\r\n                        key={message.id}\r\n                        className={`flex ${message.senderId === 'me' ? 'justify-end' : 'justify-start'}`}\r\n                    >\r\n                        <div className={`flex gap-3 max-w-[80%] ${message.senderId === 'me' ? 'flex-row-reverse' : ''}`}>\r\n                            <div className=\"flex-shrink-0 mt-auto\">\r\n                                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${message.senderId === 'me' ? 'bg-orange-600' : 'bg-gray-200 dark:bg-gray-700'\r\n                                    }`}>\r\n                                    <User size={16} className={message.senderId === 'me' ? 'text-white' : 'text-gray-500'} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={`flex flex-col ${message.senderId === 'me' ? 'items-end' : 'items-start'}`}>\r\n                                <div className={`px-4 py-2 rounded-2xl text-sm shadow-sm ${message.senderId === 'me'\r\n                                    ? 'bg-orange-500 text-white rounded-br-none'\r\n                                    : 'bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-bl-none border dark:border-gray-700'\r\n                                    }`}>\r\n                                    {message.text}\r\n                                </div>\r\n                                <div className=\"flex items-center gap-1 mt-1 px-1\">\r\n                                    <span className=\"text-[10px] text-gray-400\">{message.time}</span>\r\n                                    {message.senderId === 'me' && (\r\n                                        <CheckCheck size={12} className={message.read ? 'text-blue-500' : 'text-gray-400'} />\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            ) : (\r\n                <div className=\"h-full flex flex-col items-center justify-center text-center opacity-60\">\r\n                    <p className=\"text-sm font-medium\">No messages yet</p>\r\n                    <p className=\"text-xs\">Start the conversation by sending a message below.</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { Send, Paperclip, Smile } from 'lucide-react';\r\nimport { useMessages } from '@/contexts/MessagesContext';\r\n\r\ninterface MessageInputProps {\r\n    conversationId: string;\r\n    onSend?: (id: string, text: string, attachments: any[]) => void;\r\n}\r\n\r\nexport default function MessageInput({ conversationId, onSend }: MessageInputProps) {\r\n    const [message, setMessage] = useState('');\r\n    const { sendMessage } = useMessages();\r\n\r\n    const handleSend = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        if (!message.trim()) return;\r\n\r\n        if (onSend) {\r\n            onSend(conversationId, message, []);\r\n        } else {\r\n            await sendMessage(conversationId, message, []);\r\n        }\r\n        setMessage('');\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700\">\r\n            <form onSubmit={handleSend} className=\"flex items-center gap-2\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"p-2 text-gray-400 hover:text-orange-500 transition-colors\"\r\n                >\r\n                    <Paperclip size={20} />\r\n                </button>\r\n\r\n                <div className=\"flex-1 relative\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Type your message...\"\r\n                        value={message}\r\n                        onChange={(e) => setMessage(e.target.value)}\r\n                        className=\"w-full pl-4 pr-10 py-2.5 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-all text-sm text-gray-900 dark:text-white\"\r\n                    />\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-orange-500\"\r\n                    >\r\n                        <Smile size={18} />\r\n                    </button>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={!message.trim()}\r\n                    className=\"p-2.5 bg-orange-500 text-white rounded-xl shadow-lg shadow-orange-500/20 hover:bg-orange-600 disabled:opacity-50 disabled:shadow-none transition-all active:scale-95\"\r\n                >\r\n                    <Send size={20} />\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["__iconNode","Paperclip","createLucideIcon","Smile","ConversationList","onSelectConversation","selectedConversationId","conversations","searchQuery","setSearchQuery","useMessages","jsxs","jsx","Search","e","conv","User","ConversationThread","conversationId","getConversation","isLoading","conversation","messages","scrollRef","useRef","useEffect","message","CheckCheck","MessageInput","onSend","setMessage","useState","sendMessage","handleSend","Send"],"mappings":"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","x_google_ignoreList":[0,1]}