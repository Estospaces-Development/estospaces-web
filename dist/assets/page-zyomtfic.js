import{c as p,j as e,r as c,u as f,ag as j,ab as v,b as m,k as w}from"./index-Da7XMO_V.js";import{C as N,a as k,M as C}from"./MessageInput-ZyDk_v3i.js";import{A as S}from"./arrow-left-BwO-D1-S.js";import"./check-check-O9MmlTGj.js";import"./send-Br80mSum.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],E=p("circle-plus",M);function P(){return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800 animate-pulse",children:[e.jsx("div",{className:"p-4 border-b dark:border-gray-700",children:e.jsx("div",{className:"h-10 bg-gray-100 dark:bg-gray-700 rounded-xl"})}),e.jsx("div",{className:"flex-1 space-y-1",children:[...Array(5)].map((d,a)=>e.jsxs("div",{className:"p-4 flex items-center gap-3 border-b dark:border-gray-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-700 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"h-4 w-1/3 bg-gray-100 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-3 w-12 bg-gray-100 dark:bg-gray-700 rounded"})]}),e.jsx("div",{className:"h-3 w-2/3 bg-gray-100 dark:bg-gray-700 rounded"})]})]},a))})]})}function I(){const d=f(),[a]=j(),{conversations:x,isLoading:h,selectedConversationId:r,setSelectedConversationId:i,sendMessage:b}=v(),[g,o]=c.useState(null);c.useEffect(()=>{const s=a.get("newConversationWith");if(s){const t=x.find(n=>{var l;return n.agentName===s||((l=n.participants)==null?void 0:l.some(y=>y.name===s))});t?i(t.id):console.log(`Starting new conversation with ${s}`)}},[a,x,i]);const u=async(s,t,n)=>{try{await b(s,t,n),o(null)}catch(l){o("Failed to send message. Please try again."),console.error("Error sending message:",l)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>d("/user/dashboard"),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-orange-500 transition-colors group",children:[e.jsx(S,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{children:"Back to Dashboard"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(m,{className:"text-orange-500"}),"Messages"]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Chat with agents and property managers directly"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-bold hover:shadow-lg transition-all active:scale-95",children:[e.jsx(E,{size:20}),"New Enquiry"]})]})]}),g&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-2 text-sm text-red-700 dark:text-red-400",children:[e.jsx(w,{size:18}),e.jsx("span",{children:g}),e.jsx("button",{onClick:()=>o(null),className:"ml-auto text-xl font-bold",children:"Ã—"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 h-[700px]",children:[e.jsx("div",{className:"lg:col-span-4 bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden",children:h?e.jsx(P,{}):e.jsx(N,{onSelectConversation:i,selectedConversationId:r})}),e.jsx("div",{className:"lg:col-span-8 bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden flex flex-col",children:r?e.jsxs(e.Fragment,{children:[e.jsx(k,{conversationId:r}),e.jsx(C,{conversationId:r,onSend:u})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-gray-50/30 dark:bg-gray-900/30",children:[e.jsxs("div",{className:"mb-6 bg-white dark:bg-gray-800 w-24 h-24 rounded-full shadow-2xl flex items-center justify-center relative",children:[e.jsx(m,{size:40,className:"text-orange-500"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-100 rounded-full animate-ping"})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select an enquiry"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:"Pick a conversation from the sidebar to view your messages and updates from property agents."}),e.jsx("button",{onClick:()=>d("/user/dashboard/discover"),className:"mt-8 px-8 py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 transition-all shadow-lg shadow-orange-500/30",children:"Find Property to Enquiry"})]})})]})]})})}function _(){return e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}),children:e.jsx(I,{})})}export{_ as default};
//# sourceMappingURL=page-zyomtfic.js.map
