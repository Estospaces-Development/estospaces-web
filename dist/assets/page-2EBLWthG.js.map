{"version":3,"file":"page-2EBLWthG.js","sources":["../../node_modules/lucide-react/dist/esm/icons/inbox.js","../../src/pages/manager/notifications/page.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"polyline\", { points: \"22 12 16 12 14 15 10 15 8 12 2 12\", key: \"o97t9d\" }],\n  [\n    \"path\",\n    {\n      d: \"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z\",\n      key: \"oot6mr\"\n    }\n  ]\n];\nconst Inbox = createLucideIcon(\"inbox\", __iconNode);\n\nexport { __iconNode, Inbox as default };\n//# sourceMappingURL=inbox.js.map\n","'use client';\r\n\r\nimport { useState, useMemo, useEffect } from 'react';\r\nimport { Bell, CheckCircle, AlertCircle, FileText, Shield, MessageCircle, Calendar, Home, DollarSign, Trash2, CheckCheck, Clock, Filter, ArrowLeft, Settings, Search, X, Inbox } from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport * as notificationsService from '@/services/notificationsService';\r\n\r\ntype FilterType = 'all' | 'unread' | 'read';\r\ntype CategoryType = 'all' | 'appointments' | 'applications' | 'messages' | 'system';\r\n\r\ntype AppNotification = notificationsService.Notification;\r\n\r\nexport default function ManagerNotificationsPage() {\r\n    const navigate = useNavigate();\r\n    const [notifications, setNotifications] = useState<AppNotification[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [filter, setFilter] = useState<FilterType>('all');\r\n    const [category, setCategory] = useState<CategoryType>('all');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [selectedNotifications, setSelectedNotifications] = useState<string[]>([]);\r\n\r\n    const fetchNotifs = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const res = await notificationsService.getNotifications();\r\n            if (res.notifications) {\r\n                setNotifications(res.notifications);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching notifications:', error);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchNotifs();\r\n    }, []);\r\n\r\n    const unreadCount = notifications.filter(n => !n.is_read).length;\r\n\r\n    const filteredNotifications = useMemo(() => {\r\n        return notifications.filter((n) => {\r\n            const matchesFilter = filter === 'all' || (filter === 'unread' ? !n.is_read : n.is_read);\r\n            const matchesCategory = category === 'all' || n.type === category; // Mapping type to category if applicable\r\n            const matchesSearch = !searchQuery ||\r\n                n.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                n.message.toLowerCase().includes(searchQuery.toLowerCase());\r\n            return matchesFilter && matchesCategory && matchesSearch;\r\n        });\r\n    }, [notifications, filter, category, searchQuery]);\r\n\r\n    const markAsRead = async (id: string) => {\r\n        try {\r\n            await notificationsService.markRead(id);\r\n            setNotifications(prev => prev.map(n => n.id === id ? { ...n, is_read: true } : n));\r\n        } catch (error) {\r\n            console.error('Error marking as read:', error);\r\n        }\r\n    };\r\n\r\n    const markAllAsRead = async () => {\r\n        try {\r\n            await notificationsService.markAllRead();\r\n            setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\r\n        } catch (error) {\r\n            console.error('Error marking all as read:', error);\r\n        }\r\n    };\r\n\r\n    const deleteNotification = async (id: string) => {\r\n        // Backend doesn't have deleteNotification yet, so we just filter locally\r\n        setNotifications(prev => prev.filter(n => n.id !== id));\r\n    };\r\n\r\n    const getIcon = (type: string) => {\r\n        switch (type) {\r\n            case 'appointment_approved': return <CheckCircle size={20} className=\"text-green-500\" />;\r\n            case 'appointment_rejected': return <AlertCircle size={20} className=\"text-red-500\" />;\r\n            case 'application_update': return <FileText size={20} className=\"text-blue-500\" />;\r\n            case 'profile_verified': case 'document_verified': return <Shield size={20} className=\"text-green-500\" />;\r\n            case 'ticket_response': return <MessageCircle size={20} className=\"text-purple-500\" />;\r\n            case 'property_saved': return <Home size={20} className=\"text-orange-500\" />;\r\n            case 'price_drop': return <DollarSign size={20} className=\"text-green-500\" />;\r\n            case 'viewing_booked': return <Calendar size={20} className=\"text-blue-500\" />;\r\n            default: return <Bell size={20} className=\"text-gray-500\" />;\r\n        }\r\n    };\r\n\r\n    const getColor = (type: string) => {\r\n        switch (type) {\r\n            case 'appointment_approved': case 'profile_verified': case 'document_verified': case 'price_drop': return 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800';\r\n            case 'appointment_rejected': return 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800';\r\n            case 'application_update': case 'viewing_booked': return 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800';\r\n            case 'ticket_response': return 'bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800';\r\n            case 'property_saved': return 'bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800';\r\n            default: return 'bg-gray-50 dark:bg-gray-700/50 border-gray-200 dark:border-gray-600';\r\n        }\r\n    };\r\n\r\n    const formatTime = (dateString: string) => {\r\n        const diff = Math.floor((Date.now() - new Date(dateString).getTime()) / 1000);\r\n        if (diff < 60) return 'Just now';\r\n        if (diff < 3600) return `${Math.floor(diff / 60)} minutes ago`;\r\n        if (diff < 86400) return `${Math.floor(diff / 3600)} hours ago`;\r\n        if (diff < 604800) return `${Math.floor(diff / 86400)} days ago`;\r\n        return new Date(dateString).toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });\r\n    };\r\n\r\n    const handleSelectAll = () => {\r\n        if (selectedNotifications.length === filteredNotifications.length) setSelectedNotifications([]);\r\n        else setSelectedNotifications(filteredNotifications.map(n => n.id));\r\n    };\r\n\r\n    const handleDeleteSelected = () => { selectedNotifications.forEach(id => deleteNotification(id)); setSelectedNotifications([]); };\r\n    const handleMarkSelectedAsRead = () => { selectedNotifications.forEach(id => markAsRead(id)); setSelectedNotifications([]); };\r\n\r\n    // Group by date\r\n    const grouped = useMemo(() => {\r\n        const g: Record<string, AppNotification[]> = {};\r\n        filteredNotifications.forEach(n => {\r\n            const d = new Date(n.created_at);\r\n            const today = new Date();\r\n            const yesterday = new Date(today); yesterday.setDate(yesterday.getDate() - 1);\r\n            let key: string;\r\n            if (d.toDateString() === today.toDateString()) key = 'Today';\r\n            else if (d.toDateString() === yesterday.toDateString()) key = 'Yesterday';\r\n            else if (d > new Date(today.getTime() - 7 * 86400000)) key = 'This Week';\r\n            else key = 'Older';\r\n            if (!g[key]) g[key] = [];\r\n            g[key].push(n);\r\n        });\r\n        return g;\r\n    }, [filteredNotifications]);\r\n\r\n    const groupOrder = ['Today', 'Yesterday', 'This Week', 'This Month', 'Older'];\r\n\r\n    return (\r\n        <div className=\"min-h-full bg-gray-50 dark:bg-gray-900\">\r\n            {/* Header */}\r\n            <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\r\n                <div className=\"max-w-4xl mx-auto px-4 lg:px-6 py-6\">\r\n                    <button onClick={() => navigate('/manager/dashboard')} className=\"mb-4 flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors\">\r\n                        <ArrowLeft size={20} /><span>Back to Dashboard</span>\r\n                    </button>\r\n\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6\">\r\n                        <div>\r\n                            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3\">\r\n                                <Bell className=\"text-orange-500\" /> Notifications\r\n                                {unreadCount > 0 && <span className=\"px-2.5 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 text-sm font-medium rounded-full\">{unreadCount} new</span>}\r\n                            </h1>\r\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Stay updated with your property activities</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Stats */}\r\n                    <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n                        {[\r\n                            { label: 'Total', value: notifications.length, icon: Bell, iconBg: 'bg-blue-100 dark:bg-blue-900/30', iconColor: 'text-blue-600 dark:text-blue-400' },\r\n                            { label: 'Unread', value: unreadCount, icon: AlertCircle, iconBg: 'bg-orange-100 dark:bg-orange-900/30', iconColor: 'text-orange-600 dark:text-orange-400' },\r\n                            { label: 'Read', value: notifications.length - unreadCount, icon: CheckCircle, iconBg: 'bg-green-100 dark:bg-green-900/30', iconColor: 'text-green-600 dark:text-green-400' },\r\n                        ].map(s => (\r\n                            <div key={s.label} className=\"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 border border-gray-100 dark:border-gray-700\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className={`p-2 ${s.iconBg} rounded-lg`}><s.icon size={20} className={s.iconColor} /></div>\r\n                                    <div><p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{s.value}</p><p className=\"text-xs text-gray-500 dark:text-gray-400\">{s.label}</p></div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Filters */}\r\n                    <div className=\"flex flex-col sm:flex-row gap-3\">\r\n                        <div className=\"relative flex-1\">\r\n                            <Search size={18} className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\r\n                            <input type=\"text\" placeholder=\"Search notificationsâ€¦\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} className=\"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500\" />\r\n                            {searchQuery && <button onClick={() => setSearchQuery('')} className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"><X size={16} /></button>}\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                            {(['all', 'unread', 'read'] as FilterType[]).map(f => (\r\n                                <button key={f} onClick={() => setFilter(f)} className={`px-4 py-2.5 rounded-lg text-sm font-medium transition-colors capitalize ${filter === f ? 'bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400' : 'bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'}`}>{f}</button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Actions Bar */}\r\n            <div className=\"max-w-4xl mx-auto px-4 lg:px-6 py-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <button onClick={handleSelectAll} className=\"text-sm text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors\">{selectedNotifications.length === filteredNotifications.length ? 'Deselect All' : 'Select All'}</button>\r\n                        {selectedNotifications.length > 0 && (\r\n                            <>\r\n                                <button onClick={handleMarkSelectedAsRead} className=\"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center gap-1\"><CheckCheck size={16} /> Mark Read</button>\r\n                                <button onClick={handleDeleteSelected} className=\"text-sm text-red-600 dark:text-red-400 hover:underline flex items-center gap-1\"><Trash2 size={16} /> Delete</button>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                    {unreadCount > 0 && <button onClick={markAllAsRead} className=\"text-sm text-orange-600 dark:text-orange-400 font-medium hover:underline\">Mark all as read</button>}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Notification List */}\r\n            <div className=\"max-w-4xl mx-auto px-4 lg:px-6 pb-8\">\r\n                {filteredNotifications.length === 0 ? (\r\n                    <div className=\"text-center py-16 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700\">\r\n                        <Inbox size={48} className=\"mx-auto text-gray-300 dark:text-gray-600 mb-4\" />\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-2\">No notifications</h3>\r\n                        <p className=\"text-gray-500 dark:text-gray-400\">You&apos;re all caught up!</p>\r\n                    </div>\r\n                ) : (\r\n                    groupOrder.filter(g => grouped[g]).map(group => (\r\n                        <div key={group} className=\"mb-6\">\r\n                            <h3 className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3 px-1\">{group}</h3>\r\n                            <div className=\"space-y-2\">\r\n                                {grouped[group].map(n => (\r\n                                    <div key={n.id} onClick={() => { if (!n.is_read) markAsRead(n.id); }} className={`flex items-start gap-4 p-4 rounded-xl border cursor-pointer transition-all hover:shadow-sm ${!n.is_read ? getColor(n.type) : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 opacity-75'}`}>\r\n                                        <input type=\"checkbox\" checked={selectedNotifications.includes(n.id)} onChange={(e) => { e.stopPropagation(); if (selectedNotifications.includes(n.id)) setSelectedNotifications(s => s.filter(i => i !== n.id)); else setSelectedNotifications(s => [...s, n.id]); }} className=\"mt-1 rounded border-gray-300 text-orange-500 focus:ring-orange-500\" />\r\n                                        <div className=\"flex-shrink-0 mt-0.5\">{getIcon(n.type)}</div>\r\n                                        <div className=\"flex-1 min-w-0\">\r\n                                            <div className=\"flex items-center gap-2 mb-1\">\r\n                                                <h4 className={`text-sm font-semibold ${!n.is_read ? 'text-gray-900 dark:text-white' : 'text-gray-600 dark:text-gray-400'}`}>{n.title}</h4>\r\n                                                {!n.is_read && <span className=\"w-2 h-2 bg-orange-500 rounded-full flex-shrink-0\" />}\r\n                                            </div>\r\n                                            <p className=\"text-sm text-gray-600 dark:text-gray-400 line-clamp-2\">{n.message}</p>\r\n                                            <div className=\"flex items-center gap-2 mt-2\"><Clock size={14} className=\"text-gray-400\" /><span className=\"text-xs text-gray-400\">{formatTime(n.created_at)}</span></div>\r\n                                        </div>\r\n                                        <button onClick={(e) => { e.stopPropagation(); deleteNotification(n.id); }} className=\"text-gray-400 hover:text-red-500 transition-colors p-1\"><Trash2 size={16} /></button>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"names":["__iconNode","Inbox","createLucideIcon","ManagerNotificationsPage","navigate","useNavigate","notifications","setNotifications","useState","isLoading","setIsLoading","filter","setFilter","category","setCategory","searchQuery","setSearchQuery","selectedNotifications","setSelectedNotifications","fetchNotifs","res","notificationsService.getNotifications","error","useEffect","unreadCount","n","filteredNotifications","useMemo","matchesFilter","matchesCategory","matchesSearch","markAsRead","id","notificationsService.markRead","prev","markAllAsRead","notificationsService.markAllRead","deleteNotification","getIcon","type","jsx","CheckCircle","AlertCircle","FileText","Shield","MessageCircle","Home","DollarSign","Calendar","Bell","getColor","formatTime","dateString","diff","handleSelectAll","handleDeleteSelected","handleMarkSelectedAsRead","grouped","g","d","today","yesterday","key","groupOrder","jsxs","ArrowLeft","s","Search","e","X","f","Fragment","CheckCheck","Trash2","group","i","Clock"],"mappings":"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","x_google_ignoreList":[0]}