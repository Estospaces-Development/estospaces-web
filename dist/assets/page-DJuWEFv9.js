import{c as w,j as e,b as $,m as S,k as _,r as x,a3 as D,X as M}from"./index-D9fuy-ar.js";import{B as E}from"./BackButton-Dpcnjn0n.js";import{F as O}from"./funnel-BFpuJI0k.js";import{f as P}from"./formatDistanceToNow-DXTjigy3.js";import{E as F}from"./eye-off-CtlxpHPP.js";import{M as U}from"./message-circle-Bh_ZnSbQ.js";import{E as L}from"./eye-Dzbd2rxv.js";import{r as H}from"./index-DRtMzFzR.js";import{S as V}from"./send-DNdIEYqD.js";import{P as q}from"./plus-wruqDZww.js";import"./arrow-left-BaPK0xsr.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],X=w("arrow-up-narrow-wide",W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],J=w("ellipsis-vertical",G);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Q=w("handshake",K);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],A=w("pin",Y),Z=({totalPosts:t,activeBrokers:r,urgentPostsToday:b,dealsShared:y})=>{const i=[{icon:$,label:"Total Posts",value:t,bgColor:"bg-blue-50 dark:bg-blue-900/20",iconColor:"text-blue-600 dark:text-blue-400"},{icon:S,label:"Active Brokers",value:r,bgColor:"bg-purple-50 dark:bg-purple-900/20",iconColor:"text-purple-600 dark:text-purple-400"},{icon:_,label:"Urgent Posts Today",value:b,bgColor:"bg-orange-50 dark:bg-orange-900/20",iconColor:"text-orange-600 dark:text-orange-400"},{icon:Q,label:"Deals Shared",value:y,bgColor:"bg-green-50 dark:bg-green-900/20",iconColor:"text-green-600 dark:text-green-400"}];return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((d,h)=>{const g=d.icon;return e.jsx("div",{className:"bg-white dark:bg-black rounded-xl p-6 shadow-sm border border-gray-200 dark:border-zinc-800 hover:shadow-md transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-3 ${d.bgColor} rounded-lg`,children:e.jsx(g,{className:`w-6 h-6 ${d.iconColor}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d.value}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.label})]})]})},h)})})},ee=({selectedTag:t,selectedRole:r,sortBy:b,onTagChange:y,onRoleChange:i,onSortChange:d})=>{const h=[{value:"all",label:"All Tags"},{value:"urgent",label:"Urgent"},{value:"deal",label:"Deal"},{value:"announcement",label:"Announcement"},{value:"info",label:"Info"}],g=[{value:"all",label:"All Roles"},{value:"manager",label:"Managers"},{value:"broker",label:"Brokers"}],o=[{value:"latest",label:"Latest"},{value:"most_active",label:"Most Active"},{value:"pinned_first",label:"Pinned First"}];return e.jsx("div",{className:"bg-white dark:bg-black rounded-xl p-4 shadow-sm border border-gray-200 dark:border-zinc-800",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:"Filter:"})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:h.map(s=>e.jsx("button",{onClick:()=>y(s.value),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 ${t===s.value?"bg-indigo-600 text-white shadow-md":"bg-gray-100 dark:bg-zinc-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-zinc-700"}`,children:s.label},s.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:r,onChange:s=>i(s.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-sm text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:g.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),e.jsx("select",{value:b,onChange:s=>d(s.target.value),className:"px-3 py-2 rounded-lg border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-sm text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:o.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})]})]})})},te=({post:t,isManager:r=!0,onLike:b,onPin:y,onHide:i,onVisibilityChange:d,onCommentClick:h})=>{const[g,o]=x.useState(!1),[s,p]=x.useState(!1),[j,f]=x.useState(!1),m=()=>{o(!g),b(t.postId)},k=v=>{switch(v){case"urgent":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"deal":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"announcement":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";case"info":return"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},N=v=>v==="manager"?"bg-indigo-100 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400 border border-orange-200 dark:border-orange-800",C=t.content.length>200?t.content.slice(0,200)+"...":t.content,z=t.content.length>200;return e.jsxs("div",{className:`bg-white dark:bg-black rounded-xl p-5 shadow-sm border border-gray-200 dark:border-zinc-800 hover:shadow-md transition-all duration-300 ${t.isPinned?"ring-2 ring-indigo-500/30":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:t.authorName.charAt(0)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:t.authorName}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${N(t.authorRole)}`,children:t.authorRole.charAt(0).toUpperCase()+t.authorRole.slice(1)})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:P(t.createdAt,{addSuffix:!0})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-semibold uppercase ${k(t.tag)}`,children:t.tag}),t.isPinned&&e.jsx(A,{className:"w-4 h-4 text-indigo-600 fill-indigo-600"}),r&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>f(!j),className:"p-1 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:e.jsx(J,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),j&&e.jsxs("div",{className:"absolute right-0 top-8 bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-800 rounded-lg shadow-lg py-1 z-10 w-40",children:[e.jsxs("button",{onClick:()=>{y(t.postId),f(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-800 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"})," ",t.isPinned?"Unpin":"Pin"," Post"]}),e.jsxs("button",{onClick:()=>{i(t.postId),f(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-800 flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"})," Hide Post"]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-zinc-800 my-1"}),e.jsx("button",{onClick:()=>{d(t.postId,"all"),f(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-800",children:"Visible to All"}),e.jsx("button",{onClick:()=>{d(t.postId,"managers"),f(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-800",children:"Managers Only"}),e.jsx("button",{onClick:()=>{d(t.postId,"brokers"),f(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-800",children:"Brokers Only"})]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:s?t.content:C}),z&&e.jsx("button",{onClick:()=>p(!s),className:"text-indigo-600 hover:underline text-sm font-medium mt-2",children:s?"Show less":"Read more"})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-gray-200 dark:border-zinc-800",children:[e.jsxs("button",{onClick:m,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-200 ${g?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-zinc-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-zinc-700"}`,children:[e.jsx(D,{className:`w-4 h-4 ${g?"fill-current":""}`}),e.jsx("span",{className:"text-sm font-medium",children:t.likesCount+(g?1:0)})]}),e.jsxs("button",{onClick:()=>h(t),className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100 dark:bg-zinc-800 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors cursor-pointer",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:t.commentsCount})]}),t.visibility!=="all"&&e.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(L,{className:"w-3 h-3"}),e.jsxs("span",{className:"capitalize",children:[t.visibility," only"]})]})]})]})},ae=({isOpen:t,onClose:r,onSubmit:b})=>{const[y,i]=x.useState(""),[d,h]=x.useState("info"),[g,o]=x.useState("all"),[s,p]=x.useState({}),j=m=>{m.preventDefault();const k={};if(y.trim()||(k.content="Content is required"),d||(k.tag="Tag is required"),Object.keys(k).length>0){p(k);return}b(y,d,g),i(""),h("info"),o("all"),p({}),r()},f=()=>{i(""),h("info"),o("all"),p({}),r()};return t?H.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-zinc-800 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-zinc-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Post"}),e.jsx("button",{onClick:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:e.jsx(M,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Content ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"content",value:y,onChange:m=>i(m.target.value),placeholder:"Share updates, deals, or important information with the community...",rows:6,className:`w-full px-4 py-3 rounded-lg border ${s.content?"border-red-500":"border-gray-300 dark:border-zinc-700"} bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500`}),s.content&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.content})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Tag ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{value:"urgent",label:"Urgent"},{value:"deal",label:"Deal"},{value:"announcement",label:"Announcement"},{value:"info",label:"Info"}].map(m=>e.jsx("button",{type:"button",onClick:()=>h(m.value),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${d===m.value?"bg-indigo-600 text-white shadow-md":"bg-gray-100 dark:bg-zinc-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-zinc-700"}`,children:m.label},m.value))}),s.tag&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.tag})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"visibility",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Visibility"}),e.jsxs("select",{id:"visibility",value:g,onChange:m=>o(m.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"all",children:"All (Managers & Brokers)"}),e.jsx("option",{value:"managers",children:"Managers Only"}),e.jsx("option",{value:"brokers",children:"Brokers Only"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200 shadow-md hover:shadow-lg",children:"Post to Community"}),e.jsx("button",{type:"button",onClick:f,className:"px-6 py-3 bg-gray-200 dark:bg-zinc-800 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-300 dark:hover:bg-zinc-700 transition-colors duration-200",children:"Cancel"})]})]})]})}),document.body):null},re=({isOpen:t,post:r,onClose:b,onAddComment:y})=>{const[i,d]=x.useState("");if(!t||!r)return null;const h=o=>{o.preventDefault(),i.trim()&&(y(r.postId,i),d(""))},g=o=>o==="manager"?"bg-indigo-100 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-400 dark:border-indigo-800":"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400 border border-orange-200 dark:border-orange-800";return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-3xl max-h-[85vh] flex flex-col border border-gray-200 dark:border-zinc-800 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-zinc-800",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Comments"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[r.commentsCount," ",r.commentsCount===1?"comment":"comments"]})]}),e.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-lg transition-colors",children:e.jsx(M,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-950/50",children:e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:r.authorName.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:r.authorName}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${g(r.authorRole)}`,children:r.authorRole.charAt(0).toUpperCase()+r.authorRole.slice(1)}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:P(r.createdAt,{addSuffix:!0})})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:r.content})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:r.comments.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No comments yet. Be the first to comment!"})}):r.comments.map(o=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-semibold text-xs",children:o.authorName.charAt(0)})}),e.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-zinc-950/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white text-sm",children:o.authorName}),e.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs font-medium ${g(o.authorRole)}`,children:o.authorRole.charAt(0).toUpperCase()+o.authorRole.slice(1)}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:P(o.createdAt,{addSuffix:!0})})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm leading-relaxed",children:o.content})]})]},o.commentId))}),e.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-950/50",children:e.jsxs("form",{onSubmit:h,className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-semibold text-xs",children:"M"})}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:o=>d(o.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsxs("button",{type:"submit",disabled:!i.trim(),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]})]})})]})})},se=[],be=()=>{const[t,r]=x.useState(se),[b,y]=x.useState("all"),[i,d]=x.useState("all"),[h,g]=x.useState("pinned_first"),[o,s]=x.useState(!1),[p,j]=x.useState(!1),[f,m]=x.useState(null),k=x.useMemo(()=>{const n=new Date;n.setHours(0,0,0,0);const c=t.filter(u=>u.tag==="urgent"&&u.createdAt>=n).length,a=t.filter(u=>u.tag==="deal").length,l=new Set(t.filter(u=>u.authorRole==="broker").map(u=>u.authorName)).size;return{totalPosts:t.length,activeBrokers:l,urgentPostsToday:c,dealsShared:a}},[t]),N=x.useMemo(()=>{let n=t;b!=="all"&&(n=n.filter(a=>a.tag===b)),i!=="all"&&(n=n.filter(a=>a.authorRole===i));const c=[...n];switch(h){case"latest":c.sort((a,l)=>l.createdAt.getTime()-a.createdAt.getTime());break;case"most_active":c.sort((a,l)=>l.likesCount+l.commentsCount-(a.likesCount+a.commentsCount));break;case"pinned_first":c.sort((a,l)=>a.isPinned&&!l.isPinned?-1:!a.isPinned&&l.isPinned?1:l.createdAt.getTime()-a.createdAt.getTime());break}return c},[t,b,i,h]),C=n=>{r(c=>c.map(a=>a.postId===n?{...a,likesCount:a.likesCount+1}:a))},z=n=>{r(c=>c.map(a=>a.postId===n?{...a,isPinned:!a.isPinned}:a))},v=n=>{r(c=>c.filter(a=>a.postId!==n))},I=(n,c)=>{r(a=>a.map(l=>l.postId===n?{...l,visibility:c}:l))},R=(n,c,a)=>{const l={postId:`post-${Date.now()}`,authorName:"Current Manager",authorRole:"manager",content:n,tag:c,createdAt:new Date,likesCount:0,commentsCount:0,comments:[],isPinned:!1,visibility:a};r(u=>[l,...u]),window.scrollTo({top:0,behavior:"smooth"})},B=n=>{m(n),j(!0)},T=(n,c)=>{const a={commentId:`comment-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,authorName:"Current Manager",authorRole:"manager",content:c,createdAt:new Date};r(l=>l.map(u=>u.postId===n?{...u,comments:[...u.comments,a],commentsCount:u.commentsCount+1}:u)),m(l=>l&&l.postId===n?{...l,comments:[...l.comments,a],commentsCount:l.commentsCount+1}:l)};return e.jsx("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(E,{}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl shadow-lg shadow-orange-500/20",children:e.jsx(S,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Brokers Community"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Internal space for coordination, updates & deal acceleration"})]})]}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium px-6 py-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg",children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{children:"Create Post"})]})]}),e.jsx(Z,{totalPosts:k.totalPosts,activeBrokers:k.activeBrokers,urgentPostsToday:k.urgentPostsToday,dealsShared:k.dealsShared}),e.jsx(ee,{selectedTag:b,selectedRole:i,sortBy:h,onTagChange:y,onRoleChange:d,onSortChange:g}),e.jsx("div",{className:"space-y-4",children:N.length===0?e.jsxs("div",{className:"bg-white dark:bg-black rounded-xl p-12 text-center border border-gray-200 dark:border-zinc-800",children:[e.jsx(S,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No posts found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your filters or be the first to create a post!"})]}):N.map(n=>e.jsx(te,{post:n,isManager:!0,onLike:C,onPin:z,onHide:v,onVisibilityChange:I,onCommentClick:B},n.postId))}),e.jsx(ae,{isOpen:o,onClose:()=>s(!1),onSubmit:R}),e.jsx(re,{isOpen:p,post:f,onClose:()=>{j(!1),m(null)},onAddComment:T})]})})};export{be as default};
//# sourceMappingURL=page-DJuWEFv9.js.map
