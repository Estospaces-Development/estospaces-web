{"version":3,"file":"page-BF8jI2NU.js","sources":["../../node_modules/lucide-react/dist/esm/icons/compass.js","../../node_modules/lucide-react/dist/esm/icons/external-link.js","../../node_modules/lucide-react/dist/esm/icons/mic.js","../../node_modules/lucide-react/dist/esm/icons/sliders-vertical.js","../../src/components/dashboard/ApplicationTimelineWidget.tsx","../../src/components/dashboard/NearbyAgenciesList.tsx","../../src/components/dashboard/BrokerRequestWidget.tsx","../../src/components/dashboard/PropertyDiscoverySection.tsx","../../src/components/dashboard/LakshmiAssistant.tsx","../../src/components/dashboard/ProfileCompletionCard.tsx","../../src/pages/user/dashboard/DashboardClient.tsx","../../src/pages/user/dashboard/page.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z\",\n      key: \"9ktpf1\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]\n];\nconst Compass = createLucideIcon(\"compass\", __iconNode);\n\nexport { __iconNode, Compass as default };\n//# sourceMappingURL=compass.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"M10 14 21 3\", key: \"gplh6r\" }],\n  [\"path\", { d: \"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6\", key: \"a6xqqp\" }]\n];\nconst ExternalLink = createLucideIcon(\"external-link\", __iconNode);\n\nexport { __iconNode, ExternalLink as default };\n//# sourceMappingURL=external-link.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 19v3\", key: \"npa21l\" }],\n  [\"path\", { d: \"M19 10v2a7 7 0 0 1-14 0v-2\", key: \"1vc78b\" }],\n  [\"rect\", { x: \"9\", y: \"2\", width: \"6\", height: \"13\", rx: \"3\", key: \"s6n7sd\" }]\n];\nconst Mic = createLucideIcon(\"mic\", __iconNode);\n\nexport { __iconNode, Mic as default };\n//# sourceMappingURL=mic.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 8h4\", key: \"1sr2af\" }],\n  [\"path\", { d: \"M12 21v-9\", key: \"17s77i\" }],\n  [\"path\", { d: \"M12 8V3\", key: \"13r4qs\" }],\n  [\"path\", { d: \"M17 16h4\", key: \"h1uq16\" }],\n  [\"path\", { d: \"M19 12V3\", key: \"o1uvq1\" }],\n  [\"path\", { d: \"M19 21v-5\", key: \"qua636\" }],\n  [\"path\", { d: \"M3 14h4\", key: \"bcjad9\" }],\n  [\"path\", { d: \"M5 10V3\", key: \"cb8scm\" }],\n  [\"path\", { d: \"M5 21v-7\", key: \"1w1uti\" }]\n];\nconst SlidersVertical = createLucideIcon(\"sliders-vertical\", __iconNode);\n\nexport { __iconNode, SlidersVertical as default };\n//# sourceMappingURL=sliders-vertical.js.map\n","\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n    CheckCircle2, Clock, MapPin, ChevronDown, Activity, FileText,\r\n    Loader2, Eye, MessageCircle, ArrowRight,\r\n    Phone, AlertCircle, Info, ExternalLink, Send\r\n} from 'lucide-react';\r\nimport { format, formatDistanceToNow } from 'date-fns';\r\n\r\n// --- Types & Interfaces ---\r\n\r\ninterface Stage {\r\n    name: string;\r\n    description: string;\r\n    icon: any;\r\n    color: string;\r\n    tips?: string[];\r\n    requiredDocs?: string[];\r\n    status?: 'completed' | 'current' | 'upcoming';\r\n    completedAt?: Date | null;\r\n}\r\n\r\ninterface TimelineEventType {\r\n    date: Date;\r\n    event: string;\r\n    type: 'milestone' | 'success' | 'action' | 'info';\r\n}\r\n\r\ninterface ApplicationItem {\r\n    id: string;\r\n    type: 'buy' | 'rent' | 'sell';\r\n    currentStage: string;\r\n    currentStageNumber: number;\r\n    totalStages: number;\r\n    progress: number;\r\n    lastUpdated: Date;\r\n    nextAction: string;\r\n    viewingDate?: Date;\r\n    estimatedCompletion?: string;\r\n    property: {\r\n        id: string;\r\n        title: string;\r\n        city: string;\r\n        price: number;\r\n        image_urls: string[];\r\n    };\r\n    broker?: {\r\n        name: string;\r\n        phone: string;\r\n        avatar: string;\r\n    };\r\n    stages?: Stage[];\r\n    timeline?: TimelineEventType[];\r\n    stats?: { views: number; inquiries: number; saved: number };\r\n}\r\n\r\n// --- Constants & Config ---\r\n\r\nconst BUY_STAGES: Stage[] = [\r\n    { name: 'Application Submitted', description: 'Your buying application has been received.', icon: Send, color: 'blue', tips: ['Ensure documents ready'] },\r\n    { name: 'Document Verification', description: 'Verifying identity and funds.', icon: FileText, color: 'purple', tips: ['Upload ID'], requiredDocs: ['ID', 'Proof of Funds'] },\r\n    { name: 'Property Inspection', description: 'Schedule viewing.', icon: Eye, color: 'orange', tips: ['Check structure'] },\r\n    { name: 'Offer Negotiation', description: 'Offer under review.', icon: MessageCircle, color: 'yellow', tips: ['Set budget'] },\r\n    { name: 'Completion', description: 'Finalize contracts.', icon: CheckCircle2, color: 'green', tips: ['Sign contracts'] }\r\n];\r\n\r\nconst RENT_STAGES: Stage[] = [\r\n    { name: 'Interest Registered', description: 'Interest shown.', icon: ArrowRight, color: 'blue', tips: ['Broker will contact'] },\r\n    { name: 'Documents Submitted', description: 'Docs under review.', icon: FileText, color: 'purple', tips: ['Employment proof'], requiredDocs: ['ID', 'References'] },\r\n    { name: 'Viewing Scheduled', description: 'Viewing arranged.', icon: Clock, color: 'orange', tips: ['Ask about utilities'] },\r\n    { name: 'Tenancy Agreement', description: 'Sign agreement.', icon: CheckCircle2, color: 'green', tips: ['Read terms'] }\r\n];\r\n\r\nconst SELL_STAGES: Stage[] = [\r\n    { name: 'Property Listed', description: 'Listing prepared.', icon: FileText, color: 'blue' },\r\n    { name: 'Photos & Valuation', description: 'Photos in progress.', icon: Eye, color: 'purple' },\r\n    { name: 'Published & Live', description: 'Property is live.', icon: Activity, color: 'green' },\r\n    { name: 'Viewings & Offers', description: ' receiving offers.', icon: MessageCircle, color: 'orange' },\r\n    { name: 'Sale Completed', description: 'Sale complete.', icon: CheckCircle2, color: 'green' }\r\n];\r\n\r\n// --- Mock Data ---\r\n\r\nconst MOCK_APPLICATIONS: ApplicationItem[] = [\r\n    {\r\n        id: 'app-1',\r\n        type: 'buy',\r\n        currentStage: 'Document Verification',\r\n        currentStageNumber: 2,\r\n        totalStages: 5,\r\n        progress: 40,\r\n        lastUpdated: new Date(Date.now() - 7200000),\r\n        nextAction: 'Upload remaining documents',\r\n        estimatedCompletion: '3-5 business days',\r\n        property: {\r\n            id: 'prop-1',\r\n            title: 'Modern 3BR Apartment',\r\n            city: 'Canary Wharf, London',\r\n            price: 450000,\r\n            image_urls: ['https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=400']\r\n        },\r\n        broker: {\r\n            name: 'Sarah Mitchell',\r\n            phone: '+44 7700 900123',\r\n            avatar: 'https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=100'\r\n        },\r\n        stages: BUY_STAGES.map((s, i) => ({ ...s, status: i < 1 ? 'completed' : i === 1 ? 'current' : 'upcoming', completedAt: i < 1 ? new Date() : null })),\r\n        timeline: [\r\n            { date: new Date(Date.now() - 86400000), event: 'Application submitted', type: 'milestone' },\r\n            { date: new Date(Date.now() - 7200000), event: 'Awaiting: Proof of funds', type: 'action' }\r\n        ]\r\n    },\r\n    {\r\n        id: 'app-2',\r\n        type: 'rent',\r\n        currentStage: 'Viewing Scheduled',\r\n        currentStageNumber: 3,\r\n        totalStages: 4,\r\n        progress: 75,\r\n        lastUpdated: new Date(Date.now() - 1800000),\r\n        nextAction: 'Attend scheduled viewing',\r\n        viewingDate: new Date(Date.now() + 172800000),\r\n        estimatedCompletion: '1-2 weeks',\r\n        property: {\r\n            id: 'prop-2',\r\n            title: 'Luxury Studio Flat',\r\n            city: 'Manchester City Centre',\r\n            price: 1500,\r\n            image_urls: ['https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=400']\r\n        },\r\n        broker: {\r\n            name: 'James Wilson',\r\n            phone: '+44 7700 900456',\r\n            avatar: 'https://images.unsplash.com/photo-1560250097-0b93528c311a?w=100'\r\n        },\r\n        stages: RENT_STAGES.map((s, i) => ({ ...s, status: i < 2 ? 'completed' : i === 2 ? 'current' : 'upcoming', completedAt: i < 2 ? new Date() : null })),\r\n        timeline: [\r\n            { date: new Date(Date.now() - 1800000), event: 'Viewing scheduled for tomorrow', type: 'action' }\r\n        ]\r\n    }\r\n];\r\n\r\nconst MOCK_LISTINGS: ApplicationItem[] = [\r\n    {\r\n        id: 'list-1',\r\n        type: 'sell',\r\n        currentStage: 'Published & Live',\r\n        currentStageNumber: 3,\r\n        totalStages: 5,\r\n        progress: 60,\r\n        lastUpdated: new Date(Date.now() - 3600000),\r\n        nextAction: 'Review incoming inquiries',\r\n        property: {\r\n            id: 'prop-3',\r\n            title: 'Victorian Townhouse',\r\n            city: 'Cotswolds',\r\n            price: 850000,\r\n            image_urls: ['https://images.unsplash.com/photo-1568605114967-8130f3a36994?q=80&w=400']\r\n        },\r\n        stats: { views: 127, inquiries: 8, saved: 23 },\r\n        stages: SELL_STAGES.map((s, i) => ({ ...s, status: i < 2 ? 'completed' : i === 2 ? 'current' : 'upcoming', completedAt: i < 2 ? new Date() : null })),\r\n        timeline: [\r\n            { date: new Date(Date.now() - 3600000), event: '8 new inquiries received', type: 'info' }\r\n        ]\r\n    }\r\n];\r\n\r\n// --- Subcomponents ---\r\n\r\nconst StageIcon: React.FC<{ stage: Stage; size?: number }> = ({ stage, size = 20 }) => {\r\n    const IconComponent = stage.icon || CheckCircle2;\r\n    return <IconComponent size={size} />;\r\n};\r\n\r\nconst TimelineEvent: React.FC<{ event: TimelineEventType }> = ({ event }) => {\r\n    const typeStyles = {\r\n        milestone: 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 border-blue-200 dark:border-blue-800',\r\n        success: 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 border-green-200 dark:border-green-800',\r\n        action: 'bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 border-orange-200 dark:border-orange-800',\r\n        info: 'bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border-gray-200 dark:border-gray-700'\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex items-start gap-3 text-sm\">\r\n            <div className=\"flex-shrink-0 w-20 text-right text-xs text-gray-400 pt-0.5\">\r\n                {formatDistanceToNow(event.date, { addSuffix: true })}\r\n            </div>\r\n            <div className={`flex-1 px-3 py-2 rounded-lg border ${typeStyles[event.type] || typeStyles.info}`}>\r\n                {event.event}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TimelineSkeleton = () => (\r\n    <div className=\"animate-pulse space-y-4\">\r\n        {[1, 2].map((i) => (\r\n            <div key={i} className=\"px-6 py-5 border-b border-gray-100 dark:border-gray-800\">\r\n                <div className=\"flex items-start gap-5\">\r\n                    <div className=\"w-20 h-20 rounded-xl bg-gray-200 dark:bg-gray-700 flex-shrink-0\" />\r\n                    <div className=\"flex-1 space-y-3\">\r\n                        <div className=\"h-6 w-48 bg-gray-200 dark:bg-gray-700 rounded\" />\r\n                        <div className=\"h-4 w-32 bg-gray-200 dark:bg-gray-700 rounded\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        ))}\r\n    </div>\r\n);\r\n\r\n// --- Main Component ---\r\n\r\nconst ApplicationTimelineWidget = () => {\r\n    const navigate = useNavigate();\r\n    const [activeTab, setActiveTab] = useState<'applications' | 'listings'>('applications');\r\n    const [expandedId, setExpandedId] = useState<string | null>(null);\r\n    const [showTimeline, setShowTimeline] = useState<Record<string, boolean>>({});\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    const dataToShow = activeTab === 'applications' ? MOCK_APPLICATIONS : MOCK_LISTINGS;\r\n\r\n    const getStageColor = (status: string | undefined, color: string) => {\r\n        if (status === 'completed') return 'bg-green-500 border-green-500 text-white';\r\n        if (status === 'current') {\r\n            const colors: any = {\r\n                blue: 'bg-blue-500 border-blue-500',\r\n                purple: 'bg-purple-500 border-purple-500',\r\n                orange: 'bg-orange-500 border-orange-500',\r\n                yellow: 'bg-yellow-500 border-yellow-500',\r\n                green: 'bg-green-500 border-green-500'\r\n            };\r\n            return `${colors[color] || colors.orange} text-white ring-4 ring-orange-100 dark:ring-orange-900/30`;\r\n        }\r\n        return 'bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-400';\r\n    };\r\n\r\n    return (\r\n        <div id=\"realtime-tracking-widget\" className=\"bg-white dark:bg-gray-900 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-800 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"px-8 py-8 border-b border-gray-100 dark:border-gray-800 bg-gradient-to-r from-orange-50/50 to-transparent dark:from-orange-900/10\">\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <div className=\"p-4 bg-orange-100 dark:bg-orange-900/30 rounded-xl\">\r\n                            <Activity size={28} className=\"text-orange-600 dark:text-orange-400\" />\r\n                        </div>\r\n                        <div>\r\n                            <h2 className=\"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3\">\r\n                                Real-Time Tracking\r\n                                <span className=\"inline-flex items-center gap-1.5 px-3 py-1.5 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-sm font-semibold rounded-full\">\r\n                                    <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\r\n                                    Live\r\n                                </span>\r\n                            </h2>\r\n                            <p className=\"text-base text-gray-600 dark:text-gray-300 mt-1\">\r\n                                Track every step of your property journey in real-time\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex bg-gray-100 dark:bg-gray-800 rounded-xl p-1.5\">\r\n                        <button onClick={() => setActiveTab('applications')} className={`px-4 py-2.5 rounded-lg text-sm font-semibold transition-all ${activeTab === 'applications' ? 'bg-white dark:bg-gray-700 text-orange-600 dark:text-orange-400 shadow-sm' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700'}`}>\r\n                            My Applications ({MOCK_APPLICATIONS.length})\r\n                        </button>\r\n                        <button onClick={() => setActiveTab('listings')} className={`px-4 py-2.5 rounded-lg text-sm font-semibold transition-all ${activeTab === 'listings' ? 'bg-white dark:bg-gray-700 text-orange-600 dark:text-orange-400 shadow-sm' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700'}`}>\r\n                            My Listings ({MOCK_LISTINGS.length})\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"divide-y divide-gray-100 dark:divide-gray-800\">\r\n                {loading ? <TimelineSkeleton /> : dataToShow.length === 0 ? (\r\n                    <div className=\"py-16 text-center\">\r\n                        <div className=\"w-16 h-16 mx-auto mb-4 bg-gray-100 dark:bg-gray-800 rounded-2xl flex items-center justify-center\">\r\n                            <FileText className=\"w-8 h-8 text-gray-400\" />\r\n                        </div>\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-1\">No active {activeTab}</h3>\r\n                        <p className=\"text-gray-500 dark:text-gray-400 mb-4\">Start your property journey today</p>\r\n                    </div>\r\n                ) : (\r\n                    dataToShow.map((item) => (\r\n                        <div key={item.id} className=\"hover:bg-gray-50/50 dark:hover:bg-gray-800/30 transition-colors\">\r\n                            <div className=\"px-6 py-5 cursor-pointer\" onClick={() => setExpandedId(expandedId === item.id ? null : item.id)}>\r\n                                <div className=\"flex items-start gap-5\">\r\n                                    <div className=\"relative flex-shrink-0\">\r\n                                        <img src={item.property.image_urls[0]} alt={item.property.title} className=\"w-20 h-20 rounded-xl object-cover shadow-sm bg-gray-100 dark:bg-gray-700\" />\r\n                                        <span className={`absolute -bottom-1 -left-1 px-2 py-0.5 text-[10px] font-bold rounded-md uppercase shadow-sm ${item.type === 'buy' ? 'bg-blue-500' : item.type === 'rent' ? 'bg-purple-500' : 'bg-green-500'} text-white`}>\r\n                                            {item.type}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <div className=\"flex items-start justify-between mb-2\">\r\n                                            <div>\r\n                                                <h3 className=\"font-semibold text-gray-900 dark:text-white text-lg\">{item.property.title}</h3>\r\n                                                <p className=\"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1.5 mt-0.5\"><MapPin size={14} />{item.property.city}</p>\r\n                                            </div>\r\n                                            <div className=\"text-right\">\r\n                                                <p className=\"font-bold text-xl text-gray-900 dark:text-white\">£{item.property.price.toLocaleString()}</p>\r\n                                                <p className=\"text-xs text-gray-400 mt-1\">Updated {formatDistanceToNow(item.lastUpdated, { addSuffix: true })}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"flex items-center gap-4 mt-3\">\r\n                                            <div className=\"flex-1\">\r\n                                                <div className=\"flex items-center gap-2 mb-2\">\r\n                                                    <div className={`w-6 h-6 rounded-full flex items-center justify-center ${item.progress >= 75 ? 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400' : 'bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400'}`}>\r\n                                                        {item.progress >= 75 ? <CheckCircle2 size={14} /> : <Clock size={14} />}\r\n                                                    </div>\r\n                                                    <span className=\"font-semibold text-gray-900 dark:text-white\">{item.currentStage}</span>\r\n                                                    <span className=\"text-sm text-gray-400\">Step {item.currentStageNumber} of {item.totalStages}</span>\r\n                                                </div>\r\n                                                <div className=\"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\r\n                                                    <div className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-orange-400 to-orange-500 rounded-full transition-all duration-500\" style={{ width: `${item.progress}%` }} />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <ChevronDown size={20} className={`text-gray-400 transition-transform duration-200 ${expandedId === item.id ? 'rotate-180' : ''}`} />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {expandedId === item.id && (\r\n                                <div className=\"px-6 pb-6 animate-fadeIn\">\r\n                                    <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-xl p-5 mb-5\">\r\n                                        <h4 className=\"text-sm font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\"><Activity size={16} className=\"text-orange-500\" /> Complete Journey Progress</h4>\r\n                                        <div className=\"relative space-y-4\">\r\n                                            <div className=\"absolute left-5 top-4 bottom-4 w-0.5 bg-gray-200 dark:bg-gray-700\" />\r\n                                            {item.stages?.map((stage, idx) => (\r\n                                                <div key={idx} className=\"relative flex items-start gap-4\">\r\n                                                    <div className={`relative z-10 w-10 h-10 rounded-full flex items-center justify-center bg-white dark:bg-gray-900 ring-4 ring-gray-50 dark:ring-gray-800 ${getStageColor(stage.status, stage.color)}`}>\r\n                                                        <StageIcon stage={stage} size={16} />\r\n                                                    </div>\r\n                                                    <div className=\"flex-1 pb-2\">\r\n                                                        <h5 className=\"font-semibold text-gray-900 dark:text-white\">{stage.name}</h5>\r\n                                                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">{stage.description}</p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {item.timeline && (\r\n                                        <div className=\"mb-5\">\r\n                                            <button onClick={(e) => { e.stopPropagation(); setShowTimeline(prev => ({ ...prev, [item.id]: !prev[item.id] })); }} className=\"w-full flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg\">\r\n                                                <span className=\"text-sm font-semibold flex items-center gap-2 text-gray-700 dark:text-gray-300\"><Clock size={16} /> Activity Timeline</span>\r\n                                                <ChevronDown size={16} className={showTimeline[item.id] ? 'rotate-180' : ''} />\r\n                                            </button>\r\n                                            {showTimeline[item.id] && (\r\n                                                <div className=\"mt-3 space-y-2 pl-2\">\r\n                                                    {item.timeline.map((event, idx) => <TimelineEvent key={idx} event={event} />)}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <div className=\"flex gap-3\">\r\n                                        <button onClick={() => navigate(`/user/dashboard/property/${item.property.id}`)} className=\"px-5 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-semibold flex items-center gap-2\">View Property <ExternalLink size={14} /></button>\r\n                                        <button className=\"px-5 py-2.5 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg text-sm font-semibold flex items-center gap-2\"><MessageCircle size={14} /> Send Message</button>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ApplicationTimelineWidget;\r\n\r\n","\"use client\";\r\n\r\nimport React from 'react';\r\nimport { MapPin, Star, ChevronRight, Building } from 'lucide-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Mock Data\r\nconst NEARBY_AGENCIES = [\r\n    {\r\n        id: 'agency-1',\r\n        name: 'Prime Estate Agents',\r\n        rating: 4.8,\r\n        reviewCount: 124,\r\n        distance: '0.5 miles',\r\n        address: '123 High St',\r\n        image: 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80',\r\n        verified: true,\r\n    },\r\n    {\r\n        id: 'agency-2',\r\n        name: 'Luxury Living',\r\n        rating: 4.9,\r\n        reviewCount: 89,\r\n        distance: '1.2 miles',\r\n        address: '45 Park Lane',\r\n        image: 'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80',\r\n        verified: true,\r\n    },\r\n    {\r\n        id: 'agency-3',\r\n        name: 'Modern Homes UK',\r\n        rating: 4.6,\r\n        reviewCount: 205,\r\n        distance: '1.8 miles',\r\n        address: '78 Queen\\'s Road',\r\n        image: 'https://images.unsplash.com/photo-1554469384-e58fac16e23a?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80',\r\n        verified: true,\r\n    },\r\n];\r\n\r\nconst NearbyAgenciesList = () => {\r\n    return (\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6\">\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <div className=\"flex items-center gap-3\">\r\n                    <div className=\"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg\">\r\n                        <Building size={20} className=\"text-blue-600 dark:text-blue-400\" />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"font-bold text-gray-900 dark:text-white\">Top Rated Agencies</h3>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">Nearby professionals</p>\r\n                    </div>\r\n                </div>\r\n                <Link\r\n                    to=\"/user/dashboard/agencies\"\r\n                    className=\"text-xs font-semibold text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 flex items-center gap-1\"\r\n                >\r\n                    View All <ChevronRight size={14} />\r\n                </Link>\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n                {NEARBY_AGENCIES.map((agency) => (\r\n                    <div key={agency.id} className=\"flex items-center gap-4 group cursor-pointer\">\r\n                        <img\r\n                            src={agency.image}\r\n                            alt={agency.name}\r\n                            className=\"w-12 h-12 rounded-lg object-cover bg-gray-200 dark:bg-gray-700\"\r\n                        />\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <h4 className=\"font-semibold text-sm text-gray-900 dark:text-white truncate group-hover:text-orange-600 transition-colors\">\r\n                                    {agency.name}\r\n                                </h4>\r\n                                {agency.verified && (\r\n                                    <span className=\"text-[10px] bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 px-1.5 py-0.5 rounded-full font-medium\">\r\n                                        Verified\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 mt-0.5\">\r\n                                <div className=\"flex items-center text-xs font-medium text-gray-900 dark:text-white\">\r\n                                    <Star size={12} className=\"text-yellow-400 fill-yellow-400 mr-0.5\" />\r\n                                    {agency.rating}\r\n                                    <span className=\"text-gray-400 dark:text-gray-500 font-normal ml-0.5\">({agency.reviewCount})</span>\r\n                                </div>\r\n                                <span className=\"text-gray-300 dark:text-gray-600 text-xs\">•</span>\r\n                                <div className=\"flex items-center text-xs text-gray-500 dark:text-gray-400\">\r\n                                    <MapPin size={10} className=\"mr-0.5\" />\r\n                                    {agency.distance}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <button className=\"w-full mt-6 py-2 text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors font-medium\">\r\n                Find Agent by Postcode\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NearbyAgenciesList;\r\n\r\n","\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { Send, CheckCircle, AlertCircle, MapPin, Building, Phone } from 'lucide-react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nconst BrokerRequestWidget = () => {\r\n    const { user } = useAuth();\r\n    const [requestType, setRequestType] = useState('buy'); // buy, rent, sell, let\r\n    const [details, setDetails] = useState('');\r\n    const [location, setLocation] = useState('');\r\n    const [budget, setBudget] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [success, setSuccess] = useState(false);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError(null);\r\n        setSuccess(false);\r\n\r\n        try {\r\n            // Simulate API call\r\n            await new Promise(resolve => setTimeout(resolve, 1500));\r\n\r\n            // Verification logic logic (e.g. check if user has verified phone)\r\n            // For now, just succeed\r\n            setSuccess(true);\r\n            setDetails('');\r\n            setLocation('');\r\n            setBudget('');\r\n        } catch (err: any) {\r\n            setError('Failed to submit request. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 h-full flex flex-col items-center justify-center text-center\">\r\n                <div className=\"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4\">\r\n                    <CheckCircle size={32} className=\"text-green-600 dark:text-green-400\" />\r\n                </div>\r\n                <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-2\">Request Sent!</h3>\r\n                <p className=\"text-gray-600 dark:text-gray-300 text-sm mb-6 max-w-xs\">\r\n                    Your request has been broadcasted to verified top-rated brokers in your area. You'll receive proposals shortly.\r\n                </p>\r\n                <button\r\n                    onClick={() => setSuccess(false)}\r\n                    className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors text-sm font-medium\"\r\n                >\r\n                    Send Another Request\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6\">\r\n            <div className=\"flex items-center gap-3 mb-6\">\r\n                <div className=\"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg\">\r\n                    <Send size={20} className=\"text-orange-600 dark:text-orange-400\" />\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"font-bold text-gray-900 dark:text-white\">Request a Broker</h3>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">Get proposals from top-rated agents</p>\r\n                </div>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                {/* Request Type Tabs */}\r\n                <div className=\"flex bg-gray-100 dark:bg-gray-700/50 p-1 rounded-lg\">\r\n                    {['buy', 'rent', 'sell'].map((type) => (\r\n                        <button\r\n                            key={type}\r\n                            type=\"button\"\r\n                            onClick={() => setRequestType(type)}\r\n                            className={`flex-1 py-1.5 text-xs font-medium rounded-md capitalize transition-all ${requestType === type\r\n                                ? 'bg-white dark:bg-gray-600 text-gray-900 dark:text-white shadow-sm'\r\n                                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\r\n                                }`}\r\n                        >\r\n                            {type}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Form Fields */}\r\n                <div className=\"space-y-3\">\r\n                    <div>\r\n                        <label className=\"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                            Preferred Location\r\n                        </label>\r\n                        <div className=\"relative\">\r\n                            <MapPin size={14} className=\"absolute left-3 top-2.5 text-gray-400\" />\r\n                            <input\r\n                                type=\"text\"\r\n                                value={location}\r\n                                onChange={(e) => setLocation(e.target.value)}\r\n                                placeholder=\"e.g. Downtown, West End\"\r\n                                className=\"w-full pl-9 pr-3 py-2 text-sm bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 outline-none transition-all\"\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                            Budget / Price Range\r\n                        </label>\r\n                        <div className=\"relative\">\r\n                            <span className=\"absolute left-3 top-2.5 text-gray-400 text-xs font-bold\">£</span>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={budget}\r\n                                onChange={(e) => setBudget(e.target.value)}\r\n                                placeholder=\"e.g. 500k - 600k\"\r\n                                className=\"w-full pl-9 pr-3 py-2 text-sm bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 outline-none transition-all\"\r\n                                required\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label className=\"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                            Requirements\r\n                        </label>\r\n                        <textarea\r\n                            value={details}\r\n                            onChange={(e) => setDetails(e.target.value)}\r\n                            placeholder=\"e.g. 2 bedrooms, balcony, pet friendly...\"\r\n                            rows={3}\r\n                            className=\"w-full p-3 text-sm bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 outline-none transition-all resize-none\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {error && (\r\n                    <div className=\"flex items-center gap-2 text-xs text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/10 p-2 rounded-lg\">\r\n                        <AlertCircle size={14} />\r\n                        {error}\r\n                    </div>\r\n                )}\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    className=\"w-full py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-medium rounded-lg shadow-md shadow-orange-500/20 transition-all active:scale-[0.98] disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n                >\r\n                    {loading ? (\r\n                        <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                    ) : (\r\n                        <Send size={16} />\r\n                    )}\r\n                    {loading ? 'Broadcasting...' : 'Broadcast Request'}\r\n                </button>\r\n\r\n                <p className=\"text-[10px] text-center text-gray-400 dark:text-gray-500\">\r\n                    Your request will be sent to verified brokers only.\r\n                </p>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default BrokerRequestWidget;\r\n","\"use client\";\r\n\r\nimport React, { useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ArrowRight, TrendingUp, Star, Clock, Zap, Eye } from 'lucide-react';\r\nimport PropertyCard from '@/components/dashboard/PropertyCard';\r\nimport PropertyCardSkeleton from '@/components/dashboard/PropertyCardSkeleton';\r\n\r\ninterface PropertyDiscoverySectionProps {\r\n    title: string;\r\n    description?: string;\r\n    icon?: any;\r\n    properties?: any[];\r\n    loading?: boolean;\r\n    error?: string | null;\r\n    badge?: { type: string; label?: string } | null;\r\n    viewAllLink?: string;\r\n    emptyMessage?: string;\r\n    limit?: number;\r\n}\r\n\r\nconst PropertyDiscoverySection: React.FC<PropertyDiscoverySectionProps> = ({\r\n    title,\r\n    description,\r\n    icon: Icon,\r\n    properties = [],\r\n    loading = false,\r\n    error = null,\r\n    badge = null,\r\n    viewAllLink = '/user/dashboard/discover',\r\n    emptyMessage = 'No properties found in this section.',\r\n    limit = 6,\r\n}) => {\r\n    const navigate = useNavigate();\r\n\r\n    // Transform property for card display\r\n    const transformPropertyForCard = (property: any) => {\r\n        if (!property) return null;\r\n\r\n        let images: string[] = [];\r\n        if (property.image_urls) {\r\n            if (Array.isArray(property.image_urls)) {\r\n                images = property.image_urls;\r\n            } else if (typeof property.image_urls === 'string') {\r\n                try {\r\n                    images = JSON.parse(property.image_urls);\r\n                } catch (e) {\r\n                    images = [];\r\n                }\r\n            }\r\n        }\r\n\r\n        const locationParts = [\r\n            property.address_line_1,\r\n            property.city,\r\n            property.postcode,\r\n        ].filter(Boolean);\r\n        const location = locationParts.length > 0 ? locationParts.join(', ') : 'UK';\r\n\r\n        return {\r\n            id: property.id,\r\n            title: property.title || 'Property',\r\n            location: location,\r\n            price: property.price || 0,\r\n            type: property.property_type === 'rent' ? 'Rent' : property.property_type === 'sale' ? 'Sale' : 'Property',\r\n            property_type: property.property_type,\r\n            beds: property.bedrooms || 0,\r\n            baths: property.bathrooms || 0,\r\n            area: property.property_size_sqm || null,\r\n            image: images[0] || 'https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800',\r\n            images: images.length > 0 ? images : ['https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800'],\r\n            description: property.description || '',\r\n            is_saved: property.is_saved || false,\r\n            is_applied: property.is_applied || false,\r\n            application_status: property.application_status || null,\r\n            view_count: property.view_count || 0,\r\n            latitude: property.latitude,\r\n            longitude: property.longitude,\r\n            listedDate: property.created_at ? new Date(property.created_at) : new Date(),\r\n            featured: property.featured || false,\r\n\r\n            trending: property.trending || false,\r\n            recently_added: property.recently_added || false,\r\n            high_demand: property.high_demand || false,\r\n            applications_count: property.applications_count || 0,\r\n        };\r\n    };\r\n\r\n    const displayedProperties = useMemo(() => {\r\n        return (properties || []).slice(0, limit).map(transformPropertyForCard).filter(Boolean);\r\n    }, [properties, limit]);\r\n\r\n    const renderBadge = () => {\r\n        if (!badge) return null;\r\n\r\n        switch (badge.type) {\r\n            case 'trending':\r\n                return (\r\n                    <span className=\"inline-flex items-center gap-1 px-2.5 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full text-xs font-semibold\">\r\n                        <TrendingUp size={12} />\r\n                        Trending\r\n                    </span>\r\n                );\r\n            case 'new':\r\n                return (\r\n                    <span className=\"inline-flex items-center gap-1 px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full text-xs font-semibold\">\r\n                        <Clock size={12} />\r\n                        New\r\n                    </span>\r\n                );\r\n            case 'high-demand':\r\n                return (\r\n                    <span className=\"inline-flex items-center gap-1 px-2.5 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full text-xs font-semibold\">\r\n                        <Zap size={12} />\r\n                        High Demand\r\n                    </span>\r\n                );\r\n            case 'most-viewed':\r\n                return (\r\n                    <span className=\"inline-flex items-center gap-1 px-2.5 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs font-semibold\">\r\n                        <Eye size={12} />\r\n                        Most Viewed\r\n                    </span>\r\n                );\r\n            case 'featured':\r\n                return (\r\n                    <span className=\"inline-flex items-center gap-1 px-2.5 py-1 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 rounded-full text-xs font-semibold\">\r\n                        <Star size={12} />\r\n                        Featured\r\n                    </span>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"mb-8\">\r\n                <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\r\n                    <p className=\"text-sm text-red-700 dark:text-red-400\">{error}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"mb-8 lg:mb-12\">\r\n            {/* Section Header */}\r\n            <div className=\"flex items-start justify-between mb-4 lg:mb-6\">\r\n                <div className=\"flex-1\">\r\n                    <div className=\"flex items-center gap-3 mb-2\">\r\n                        {Icon && (\r\n                            <div className=\"p-2 bg-orange-100 dark:bg-orange-900/30 rounded-lg\">\r\n                                <Icon className=\"text-orange-600 dark:text-orange-400\" size={20} />\r\n                            </div>\r\n                        )}\r\n                        <h2 className=\"text-xl lg:text-2xl font-semibold text-gray-900 dark:text-gray-100\">\r\n                            {title}\r\n                        </h2>\r\n                        {renderBadge()}\r\n                    </div>\r\n                    {description && (\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1 max-w-2xl\">\r\n                            {description}\r\n                        </p>\r\n                    )}\r\n                </div>\r\n                {displayedProperties.length > 0 && (\r\n                    <button\r\n                        onClick={() => navigate(viewAllLink)}\r\n                        className=\"hidden sm:flex items-center gap-2 px-4 py-2 text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 text-sm font-medium transition-colors whitespace-nowrap\"\r\n                    >\r\n                        <span>View All</span>\r\n                        <ArrowRight size={16} />\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {/* Loading State */}\r\n            {loading && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6\">\r\n                    {[1, 2, 3].map((i) => (\r\n                        <PropertyCardSkeleton key={i} />\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Empty State */}\r\n            {!loading && displayedProperties.length === 0 && (\r\n                <div className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700 p-8 lg:p-12 text-center\">\r\n                    <div className=\"max-w-md mx-auto\">\r\n                        {Icon && (\r\n                            <div className=\"mb-4 flex justify-center\">\r\n                                <div className=\"p-4 bg-gray-100 dark:bg-gray-700 rounded-full\">\r\n                                    <Icon className=\"text-gray-400 dark:text-gray-500\" size={32} />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">\r\n                            No Properties Found\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\r\n                            {emptyMessage}\r\n                        </p>\r\n                        <button\r\n                            onClick={() => navigate(viewAllLink)}\r\n                            className=\"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-sm font-medium transition-colors\"\r\n                        >\r\n                            Browse All Properties\r\n                            <ArrowRight size={16} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Properties Grid */}\r\n            {!loading && displayedProperties.length > 0 && (\r\n                <>\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6\">\r\n                        {displayedProperties.map((property: any) => (\r\n                            <PropertyCard\r\n                                key={property.id}\r\n                                property={property}\r\n                                onViewDetails={(prop: any) => navigate(`/user/dashboard/property/${prop.id}`)}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n\r\n                    {/* Mobile View All Button */}\r\n                    {displayedProperties.length >= limit && (\r\n                        <div className=\"mt-4 sm:hidden\">\r\n                            <button\r\n                                onClick={() => navigate(viewAllLink)}\r\n                                className=\"w-full flex items-center justify-center gap-2 px-4 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors\"\r\n                            >\r\n                                <span>View All Properties</span>\r\n                                <ArrowRight size={18} />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PropertyDiscoverySection;\r\n\r\n","\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { MessageCircle, X, Send, Bot, ArrowRight, Mic, MicOff, Loader2, MapPin, Home, TrendingUp, Eye, Heart, FileText, Map as MapIcon, Sparkles, User } from 'lucide-react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n// import { useProperties } from '@/contexts/PropertiesContext'; // Use new PropertyContext\r\nimport { useUserLocation } from '@/contexts/LocationContext';\r\nimport { useSavedProperties } from '@/contexts/SavedPropertiesContext';\r\n\r\nconst LakshmiAssistant = () => {\r\n    const navigate = useNavigate();\r\n    const { user } = useAuth();\r\n    const { activeLocation } = useUserLocation();\r\n    const { savedProperties } = useSavedProperties();\r\n\r\n    // Mock properties contexts for now\r\n    const viewedProperties: any[] = [];\r\n    const appliedProperties: any[] = [];\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [messages, setMessages] = useState<any[]>([]);\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n    const [isListening, setIsListening] = useState(false);\r\n    const [showOnboarding, setShowOnboarding] = useState(true);\r\n    const [onboardingCompleted, setOnboardingCompleted] = useState(false);\r\n    const [smartSuggestions, setSmartSuggestions] = useState<any[]>([]);\r\n    const [showWelcomeAnimation, setShowWelcomeAnimation] = useState(false);\r\n\r\n    // Draggable button state\r\n    const [buttonPosition, setButtonPosition] = useState<{ x: number | null, y: number | null }>({ x: null, y: null });\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [hasDragged, setHasDragged] = useState(false);\r\n    const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\r\n    const buttonRef = useRef<HTMLDivElement>(null);\r\n    const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Time-based greeting\r\n    const getTimeBasedGreeting = () => {\r\n        const hour = new Date().getHours();\r\n        if (hour < 12) return 'Good morning';\r\n        if (hour < 17) return 'Good afternoon';\r\n        return 'Good evening';\r\n    };\r\n\r\n    // Initialize Chat\r\n    useEffect(() => {\r\n        if (typeof window !== 'undefined') {\r\n            const onboardingKey = user ? `lakshmi_onboarding_${user.id}` : 'lakshmi_onboarding_guest';\r\n            const hasCompleted = localStorage.getItem(onboardingKey) === 'true';\r\n\r\n            if (hasCompleted) {\r\n                setOnboardingCompleted(true);\r\n                setShowOnboarding(false);\r\n            } else {\r\n                setShowOnboarding(true);\r\n            }\r\n        }\r\n    }, [user]);\r\n\r\n    // Welcome message\r\n    useEffect(() => {\r\n        if (isOpen && messages.length === 0) {\r\n            const userName = user?.name?.split(' ')[0] || 'there';\r\n            const greeting = getTimeBasedGreeting();\r\n            const welcomeMessage = {\r\n                id: Date.now() + Math.random(),\r\n                type: 'bot',\r\n                text: `${greeting}, ${userName}! 👋\\n\\nI'm Lakshmi, your AI property assistant. I can help you:\\n\\n• Find properties near you\\n• Search by price, bedrooms, or location\\n• Navigate the dashboard\\n• Answer property questions\\n\\nWhat would you like to explore today?`,\r\n                data: null,\r\n                timestamp: new Date(),\r\n            };\r\n            setMessages([welcomeMessage]);\r\n        }\r\n    }, [isOpen]); // user in dep array causing loop if not careful? No, user is stable from context ideally.\r\n\r\n    // Drag handlers\r\n    const handleDragStart = useCallback((e: React.MouseEvent | React.TouchEvent) => {\r\n        if (!buttonRef.current) return;\r\n\r\n        // Prevent default only for touch to avoid scrolling, careful with mouse to allow click\r\n        // e.preventDefault(); \r\n\r\n        setIsDragging(true);\r\n        setHasDragged(false);\r\n\r\n        const clientX = 'touches' in e ? e.touches[0].clientX : (e as React.MouseEvent).clientX;\r\n        const clientY = 'touches' in e ? e.touches[0].clientY : (e as React.MouseEvent).clientY;\r\n\r\n        const rect = buttonRef.current.getBoundingClientRect();\r\n        setDragOffset({\r\n            x: clientX - rect.left,\r\n            y: clientY - rect.top\r\n        });\r\n    }, []);\r\n\r\n    const handleDragMove = useCallback((e: MouseEvent | TouchEvent) => {\r\n        if (!isDragging) return;\r\n        e.preventDefault();\r\n        setHasDragged(true);\r\n\r\n        const clientX = 'touches' in e ? (e as TouchEvent).touches[0].clientX : (e as MouseEvent).clientX;\r\n        const clientY = 'touches' in e ? (e as TouchEvent).touches[0].clientY : (e as MouseEvent).clientY;\r\n\r\n        const buttonWidth = buttonRef.current?.offsetWidth || 140;\r\n        const buttonHeight = buttonRef.current?.offsetHeight || 44;\r\n\r\n        const newX = Math.max(0, Math.min(window.innerWidth - buttonWidth, clientX - dragOffset.x));\r\n        const newY = Math.max(0, Math.min(window.innerHeight - buttonHeight, clientY - dragOffset.y));\r\n\r\n        setButtonPosition({ x: newX, y: newY });\r\n    }, [isDragging, dragOffset]);\r\n\r\n    const handleDragEnd = useCallback(() => {\r\n        setTimeout(() => setIsDragging(false), 10);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (isDragging) {\r\n            window.addEventListener('mousemove', handleDragMove);\r\n            window.addEventListener('mouseup', handleDragEnd);\r\n            window.addEventListener('touchmove', handleDragMove, { passive: false });\r\n            window.addEventListener('touchend', handleDragEnd);\r\n        }\r\n        return () => {\r\n            window.removeEventListener('mousemove', handleDragMove);\r\n            window.removeEventListener('mouseup', handleDragEnd);\r\n            window.removeEventListener('touchmove', handleDragMove);\r\n            window.removeEventListener('touchend', handleDragEnd);\r\n        };\r\n    }, [isDragging, handleDragMove, handleDragEnd]);\r\n\r\n    // Scroll to bottom\r\n    useEffect(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n    }, [messages]);\r\n\r\n    const handleSendMessage = async (text: string | null = null) => {\r\n        const messageText = text || inputValue.trim();\r\n        if (!messageText || isProcessing) return;\r\n\r\n        // Add user message\r\n        const userMsg = {\r\n            id: Date.now(),\r\n            type: 'user',\r\n            text: messageText,\r\n            timestamp: new Date()\r\n        };\r\n        setMessages(prev => [...prev, userMsg]);\r\n        setInputValue('');\r\n        setIsProcessing(true);\r\n\r\n        // Simulate response\r\n        setTimeout(() => {\r\n            const botMsg = {\r\n                id: Date.now() + 1,\r\n                type: 'bot',\r\n                text: \"I'm currently in demo mode, but I can help you navigate! Try clicking on 'Dashboard', 'Saved Properties', or browsing the 'Discover' section.\",\r\n                timestamp: new Date()\r\n            };\r\n            setMessages(prev => [...prev, botMsg]);\r\n            setIsProcessing(false);\r\n        }, 1000);\r\n    };\r\n\r\n    const getButtonStyle = () => {\r\n        if (buttonPosition.x !== null && buttonPosition.y !== null) {\r\n            return { left: buttonPosition.x, top: buttonPosition.y, right: 'auto', bottom: 'auto' };\r\n        }\r\n        return { right: 24, bottom: 24 };\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {!isOpen && (\r\n                <div\r\n                    ref={buttonRef}\r\n                    className=\"fixed z-40\"\r\n                    style={getButtonStyle() as React.CSSProperties}\r\n                >\r\n                    <button\r\n                        onMouseDown={handleDragStart as any}\r\n                        onTouchStart={handleDragStart as any}\r\n                        onClick={() => {\r\n                            if (!hasDragged) setIsOpen(true);\r\n                            setHasDragged(false);\r\n                        }}\r\n                        className={`px-4 py-3 bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 relative select-none ${isDragging ? 'cursor-grabbing scale-105 opacity-90' : 'cursor-grab hover:scale-105'}`}\r\n                    >\r\n                        <Bot size={20} />\r\n                        <span className=\"font-medium text-sm whitespace-nowrap\">Ask Lakshmi</span>\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {isOpen && (\r\n                <div className=\"fixed bottom-6 right-6 w-96 h-[600px] bg-white dark:bg-gray-800 rounded-lg shadow-2xl flex flex-col z-50 border border-gray-200 dark:border-gray-700 font-sans\">\r\n                    {/* Header */}\r\n                    <div className=\"bg-gradient-to-r from-orange-500 to-orange-600 p-4 rounded-t-lg flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <div className=\"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center\">\r\n                                <Bot size={20} className=\"text-white\" />\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"font-bold text-white text-base\">Lakshmi Assistant</h3>\r\n                                <div className=\"flex items-center gap-1.5\">\r\n                                    <span className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></span>\r\n                                    <span className=\"text-xs text-white/90\">Online</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => setIsOpen(false)}\r\n                            className=\"p-2 hover:bg-white/20 rounded-lg transition-colors text-white\"\r\n                        >\r\n                            <X size={20} />\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Messages Area */}\r\n                    <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50 dark:bg-gray-900/50\">\r\n                        {messages.map((msg) => (\r\n                            <div\r\n                                key={msg.id}\r\n                                className={`flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}\r\n                            >\r\n                                <div\r\n                                    className={`max-w-[80%] rounded-2xl p-3.5 text-sm shadow-sm ${msg.type === 'user'\r\n                                        ? 'bg-orange-500 text-white rounded-tr-none'\r\n                                        : 'bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-100 dark:border-gray-700 rounded-tl-none'\r\n                                        }`}\r\n                                >\r\n                                    <div className=\"whitespace-pre-wrap leading-relaxed\">{msg.text}</div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                        {isProcessing && (\r\n                            <div className=\"flex justify-start\">\r\n                                <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-4 border border-gray-100 dark:border-gray-700 rounded-tl-none shadow-sm flex gap-1.5\">\r\n                                    <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0ms' }} />\r\n                                    <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '150ms' }} />\r\n                                    <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '300ms' }} />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                        <div ref={messagesEndRef} />\r\n                    </div>\r\n\r\n                    {/* Input Area */}\r\n                    <div className=\"p-4 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700\">\r\n                        <form\r\n                            onSubmit={(e) => { e.preventDefault(); handleSendMessage(); }}\r\n                            className=\"flex items-center gap-2\"\r\n                        >\r\n                            <div className=\"flex-1 relative\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={inputValue}\r\n                                    onChange={(e) => setInputValue(e.target.value)}\r\n                                    placeholder=\"Ask anything...\"\r\n                                    className=\"w-full pl-4 pr-10 py-3 bg-gray-100 dark:bg-gray-900 border-transparent focus:border-orange-500 focus:bg-white dark:focus:bg-black rounded-xl text-sm transition-all outline-none\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-orange-500 transition-colors\"\r\n                                >\r\n                                    <Mic size={18} />\r\n                                </button>\r\n                            </div>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={!inputValue.trim() || isProcessing}\r\n                                className=\"p-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl shadow-md shadow-orange-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95\"\r\n                            >\r\n                                <Send size={18} />\r\n                            </button>\r\n                        </form>\r\n                        <div className=\"text-center mt-2\">\r\n                            <span className=\"text-[10px] text-gray-400\">Powered by Estospaces AI</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default LakshmiAssistant;\r\n\r\n","\"use client\";\r\n\r\nimport React, { useMemo, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ArrowRight, Sparkles, X } from 'lucide-react';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\nconst ProfileCompletionCard = () => {\r\n    const navigate = useNavigate();\r\n    const { user, loading } = useAuth(); // User might be null, handle safely\r\n    const [isVisible, setIsVisible] = useState(true);\r\n\r\n    // Check if profile is incomplete\r\n    const isProfileIncomplete = useMemo(() => {\r\n        if (loading || !user) return false;\r\n\r\n        // Check for missing essential fields\r\n        const hasName = user?.name || user?.user_metadata?.full_name;\r\n        const hasPhone = user?.user_metadata?.phone;\r\n\r\n        return !hasName || !hasPhone;\r\n    }, [user, loading]);\r\n\r\n    // DEMO: Force visibility for user review if user is logged in\r\n    // In production, uncomment checking isProfileIncomplete\r\n    // if (!isProfileIncomplete || !isVisible) return null;\r\n    if (!user || !isVisible) return null;\r\n\r\n    return (\r\n        <div id=\"profile-widget\" className=\"animate-slideInRight\">\r\n            <div className=\"relative group\">\r\n                {/* Blinking/Pulsing Glow Effect - Refined for elegance */}\r\n                <div className=\"absolute -inset-0.5 bg-gradient-to-r from-orange-400/50 to-pink-600/50 rounded-xl opacity-50 blur-sm group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-pulse\"></div>\r\n\r\n                <div className=\"relative flex items-center gap-4 bg-white dark:bg-gray-800 p-3 pr-8 rounded-xl shadow-lg border border-gray-100 dark:border-gray-700 max-w-sm hover:shadow-xl transition-shadow duration-300\">\r\n\r\n                    {/* Icon */}\r\n                    <div className=\"flex-shrink-0 w-10 h-10 bg-orange-50 dark:bg-orange-900/20 rounded-full flex items-center justify-center\">\r\n                        <Sparkles size={18} className=\"text-orange-500\" />\r\n                    </div>\r\n\r\n                    {/* Content */}\r\n                    <div className=\"flex-1 mr-2\">\r\n                        <h4 className=\"text-sm font-bold text-gray-900 dark:text-white leading-tight\">\r\n                            Complete Profile\r\n                        </h4>\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5 leading-tight\">\r\n                            Unlock verified access\r\n                        </p>\r\n                    </div>\r\n\r\n                    {/* Action Button */}\r\n                    <button\r\n                        onClick={() => navigate('/user/dashboard/profile')}\r\n                        className=\"flex-shrink-0 flex items-center justify-center w-8 h-8 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full hover:scale-105 transition-transform shadow-md\"\r\n                    >\r\n                        <ArrowRight size={14} />\r\n                    </button>\r\n\r\n                    {/* Close Button - More subtle */}\r\n                    <button\r\n                        onClick={() => setIsVisible(false)}\r\n                        className=\"absolute top-2 right-2 w-5 h-5 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 rounded-full flex items-center justify-center hover:bg-red-50 hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100\"\r\n                    >\r\n                        <X size={10} />\r\n                    </button>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileCompletionCard;\r\n\r\n","\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  MapPin,\r\n  TrendingUp,\r\n  Search,\r\n  Sliders,\r\n  Bell,\r\n  Home,\r\n  Star,\r\n  Compass,\r\n  Building2,\r\n  DollarSign,\r\n  Briefcase,\r\n  ArrowRight,\r\n  Filter\r\n} from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\n// Contexts\r\nimport { useUserLocation } from '@/contexts/LocationContext';\r\nimport { usePropertyFilter } from '@/contexts/PropertyFilterContext';\r\nimport { useSavedProperties } from '@/contexts/SavedPropertiesContext';\r\nimport { useProperties } from '@/contexts/PropertyContext';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\n// Components\r\nimport ApplicationTimelineWidget from '@/components/dashboard/ApplicationTimelineWidget';\r\nimport NearbyAgenciesList from '@/components/dashboard/NearbyAgenciesList';\r\nimport BrokerRequestWidget from '@/components/dashboard/BrokerRequestWidget';\r\nimport PropertyDiscoverySection from '@/components/dashboard/PropertyDiscoverySection';\r\nimport LakshmiAssistant from '@/components/dashboard/LakshmiAssistant';\r\nimport ProfileCompletionCard from '@/components/dashboard/ProfileCompletionCard';\r\n\r\nconst DashboardClient = () => {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const { activeLocation, loading: locationLoading } = useUserLocation();\r\n  const { activeTab, setActiveTab } = usePropertyFilter(); // We will use this with shouldNavigate=false\r\n  const { savedProperties } = useSavedProperties();\r\n\r\n  // Local state for filters mimicking legacy behavior\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [filters, setFilters] = useState({\r\n    priceRange: [0, 10000000],\r\n    bedrooms: 'any',\r\n    propertyType: 'any'\r\n  });\r\n\r\n  // Mock properties for now to allow render\r\n  const featuredProperties: any[] = [];\r\n  const trendingProperties: any[] = [];\r\n  const isLoadingProperties = false;\r\n\r\n  // Local state for welcome message\r\n  const [greeting, setGreeting] = useState('');\r\n\r\n  useEffect(() => {\r\n    const hour = new Date().getHours();\r\n    if (hour < 12) setGreeting('Good morning');\r\n    else if (hour < 17) setGreeting('Good afternoon');\r\n    else setGreeting('Good evening');\r\n  }, []);\r\n\r\n  const handleSearch = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Navigate to discover with search params\r\n    const params = new URLSearchParams();\r\n    if (searchQuery) params.set('q', searchQuery);\r\n    params.set('type', activeTab);\r\n    navigate(`/user/dashboard/discover?${params.toString()}`);\r\n  };\r\n\r\n  const dashboardTabs = [\r\n    { id: 'all', label: 'All', icon: Compass },\r\n    { id: 'rent', label: 'Rent', icon: Home },\r\n    { id: 'buy', label: 'Buy', icon: DollarSign },\r\n    { id: 'invest', label: 'Invest', icon: TrendingUp },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-black pb-24 lg:pb-12\">\r\n      {/* Lakshmi AI Assistant */}\r\n      <LakshmiAssistant />\r\n\r\n      {/* Profile Completion Widget - Floating */}\r\n      <div className=\"fixed bottom-6 right-6 z-40\">\r\n        <ProfileCompletionCard />\r\n      </div>\r\n\r\n      {/* Hero Section - Legacy Style */}\r\n      <div className=\"relative h-[500px] w-full bg-gray-900 overflow-hidden\">\r\n        {/* Background Image */}\r\n        <div\r\n          className=\"absolute inset-0 bg-cover bg-center bg-no-repeat opacity-60\"\r\n          style={{ backgroundImage: 'url(\"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80\")' }}\r\n        />\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 to-transparent\" />\r\n\r\n        <div className=\"relative h-full max-w-7xl mx-auto px-4 lg:px-6 flex flex-col justify-center\">\r\n          <div className=\"max-w-3xl\">\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5 }}\r\n            >\r\n              <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6\">\r\n                Find your place<br />\r\n                <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-rose-500\">\r\n                  in the world\r\n                </span>\r\n              </h1>\r\n            </motion.div>\r\n\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.5, delay: 0.1 }}\r\n              className=\"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-4 md:p-6\"\r\n            >\r\n              {/* Tabs */}\r\n              <div className=\"flex items-center gap-2 mb-6 overflow-x-auto pb-2 md:pb-0 scrollbars-none\">\r\n                {dashboardTabs.map((tab) => {\r\n                  const isActive = activeTab === tab.id;\r\n                  const Icon = tab.icon;\r\n                  return (\r\n                    <button\r\n                      key={tab.id}\r\n                      onClick={() => setActiveTab(tab.id, false)}\r\n                      className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-medium transition-all whitespace-nowrap ${isActive\r\n                        ? 'bg-white text-gray-900 shadow-lg scale-105'\r\n                        : 'bg-white/10 text-white hover:bg-white/20'\r\n                        }`}\r\n                    >\r\n                      <Icon size={16} />\r\n                      {tab.label}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n\r\n              {/* Search Bar */}\r\n              <form onSubmit={handleSearch} className=\"flex flex-col md:flex-row gap-3\">\r\n                <div className=\"flex-1 relative\">\r\n                  <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500\">\r\n                    <Search size={20} />\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    placeholder=\"City, Neighborhood, or Address...\"\r\n                    className=\"w-full h-14 pl-12 pr-4 bg-white rounded-xl text-gray-900 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500 shadow-xl\"\r\n                  />\r\n                </div>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"h-14 px-8 bg-gradient-to-r from-orange-500 to-rose-600 hover:from-orange-600 hover:to-rose-700 text-white font-semibold rounded-xl shadow-lg shadow-orange-500/30 transition-all flex items-center justify-center gap-2\"\r\n                >\r\n                  Search\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"h-14 w-14 bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 rounded-xl flex items-center justify-center text-white transition-all\"\r\n                  title=\"Advanced Filters\"\r\n                >\r\n                  <Sliders size={20} />\r\n                </button>\r\n              </form>\r\n\r\n              {/* Quick Filters / Tags */}\r\n              <div className=\"mt-4 flex flex-wrap gap-2\">\r\n                {['Apartment', 'House', 'Villa', 'Office', 'Studio'].map((type) => (\r\n                  <button\r\n                    key={type}\r\n                    onClick={() => setFilters(prev => ({ ...prev, propertyType: type.toLowerCase() }))}\r\n                    className={`px-3 py-1 rounded-lg text-xs font-medium border transition-all ${filters.propertyType === type.toLowerCase()\r\n                      ? 'bg-orange-500 border-orange-500 text-white'\r\n                      : 'bg-white/5 border-white/10 text-white/70 hover:bg-white/10'\r\n                      }`}\r\n                  >\r\n                    {type}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 lg:px-6 -mt-20 relative z-10 space-y-8\">\r\n\r\n        {/* 1. Welcome & Location Status (Moved slightly down from legacy, but matches structure) */}\r\n        <div className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl shadow-black/5 flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n          <div>\r\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n              {greeting}, {user?.name?.split(' ')[0] || 'User'}!\r\n            </h2>\r\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n              You have {savedProperties?.length || 0} saved properties and 2 upcoming viewings.\r\n            </p>\r\n          </div>\r\n          {locationLoading ? (\r\n            <div className=\"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-full animate-pulse\">\r\n              <div className=\"w-4 h-4 bg-gray-300 dark:bg-gray-600 rounded-full\" />\r\n              <div className=\"w-24 h-4 bg-gray-300 dark:bg-gray-600 rounded\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-700/50 px-4 py-2 rounded-xl\">\r\n              <MapPin size={16} className=\"text-orange-500\" />\r\n              {activeLocation?.city || 'Location not found'}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* 2. Real-Time Application Tracking (Priority) */}\r\n        <section>\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\r\n              <Briefcase size={20} className=\"text-orange-500\" />\r\n              Your Applications\r\n            </h3>\r\n          </div>\r\n          <ApplicationTimelineWidget />\r\n        </section>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n          {/* Left Column - Discovery */}\r\n          <div className=\"lg:col-span-2 space-y-8\">\r\n            {/* 3. Property Discovery - Featured/Trending */}\r\n            <PropertyDiscoverySection\r\n              title=\"Recommended for You\"\r\n              description={`Based on your search in ${activeLocation?.city || 'your area'}`}\r\n              icon={TrendingUp}\r\n              properties={trendingProperties}\r\n              loading={isLoadingProperties}\r\n              badge={{ type: 'trending' }}\r\n              emptyMessage=\"No recommendations available yet.\"\r\n            />\r\n\r\n            <PropertyDiscoverySection\r\n              title=\"New to Market\"\r\n              description=\"Fresh listings added within the last 48 hours\"\r\n              icon={Star}\r\n              properties={featuredProperties}\r\n              loading={isLoadingProperties}\r\n              badge={{ type: 'new' }}\r\n              emptyMessage=\"No new properties listed recently.\"\r\n            />\r\n          </div>\r\n\r\n          {/* Right Column - Actions & Widgets */}\r\n          <div className=\"space-y-6\">\r\n            {/* 4. Broker Request Widget */}\r\n            <BrokerRequestWidget />\r\n\r\n            {/* 5. Incoming Nearby Agencies */}\r\n            <NearbyAgenciesList />\r\n\r\n            {/* 6. Quick Stats/Summary Card */}\r\n            <div className=\"bg-gradient-to-br from-orange-500 to-rose-600 rounded-2xl p-6 text-white shadow-lg\">\r\n              <h3 className=\"font-bold text-lg mb-4 flex items-center gap-2\">\r\n                <TrendingUp size={20} />\r\n                Your Activity\r\n              </h3>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\r\n                  <div className=\"text-3xl font-bold\">{savedProperties?.length || 0}</div>\r\n                  <div className=\"text-xs text-white/80 mt-1\">Saved Homes</div>\r\n                </div>\r\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\r\n                  <div className=\"text-3xl font-bold\">2</div>\r\n                  <div className=\"text-xs text-white/80 mt-1\">Viewings</div>\r\n                </div>\r\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\r\n                  <div className=\"text-3xl font-bold\">1</div>\r\n                  <div className=\"text-xs text-white/80 mt-1\">Offers Made</div>\r\n                </div>\r\n                <div className=\"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/10\">\r\n                  <div className=\"text-3xl font-bold\">5</div>\r\n                  <div className=\"text-xs text-white/80 mt-1\">Searches</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardClient;\r\n\r\n","\"use client\";\r\n\r\nimport DashboardClient from './DashboardClient';\r\n\r\nexport default function DashboardPage() {\r\n  return <DashboardClient />;\r\n}\r\n"],"names":["__iconNode","Compass","createLucideIcon","ExternalLink","Mic","SlidersVertical","BUY_STAGES","Send","FileText","Eye","MessageCircle","CheckCircle2","RENT_STAGES","ArrowRight","Clock","SELL_STAGES","Activity","MOCK_APPLICATIONS","s","i","MOCK_LISTINGS","StageIcon","stage","size","IconComponent","jsx","TimelineEvent","event","typeStyles","jsxs","formatDistanceToNow","TimelineSkeleton","ApplicationTimelineWidget","navigate","useNavigate","activeTab","setActiveTab","useState","expandedId","setExpandedId","showTimeline","setShowTimeline","loading","setLoading","useEffect","dataToShow","getStageColor","status","color","colors","item","MapPin","ChevronDown","_a","idx","e","prev","NEARBY_AGENCIES","NearbyAgenciesList","Building","Link","ChevronRight","agency","Star","BrokerRequestWidget","user","useAuth","requestType","setRequestType","details","setDetails","location","setLocation","budget","setBudget","success","setSuccess","error","setError","handleSubmit","resolve","CheckCircle","type","AlertCircle","PropertyDiscoverySection","title","description","Icon","properties","badge","viewAllLink","emptyMessage","limit","transformPropertyForCard","property","images","locationParts","displayedProperties","useMemo","renderBadge","TrendingUp","Zap","PropertyCardSkeleton","Fragment","PropertyCard","prop","LakshmiAssistant","activeLocation","useUserLocation","savedProperties","useSavedProperties","isOpen","setIsOpen","messages","setMessages","inputValue","setInputValue","isProcessing","setIsProcessing","isListening","setIsListening","showOnboarding","setShowOnboarding","onboardingCompleted","setOnboardingCompleted","smartSuggestions","setSmartSuggestions","showWelcomeAnimation","setShowWelcomeAnimation","buttonPosition","setButtonPosition","isDragging","setIsDragging","hasDragged","setHasDragged","dragOffset","setDragOffset","buttonRef","useRef","messagesEndRef","getTimeBasedGreeting","hour","onboardingKey","userName","greeting","welcomeMessage","handleDragStart","useCallback","clientX","clientY","rect","handleDragMove","buttonWidth","buttonHeight","_b","newX","newY","handleDragEnd","handleSendMessage","text","messageText","userMsg","botMsg","getButtonStyle","Bot","X","msg","ProfileCompletionCard","isVisible","setIsVisible","hasName","hasPhone","Sparkles","DashboardClient","locationLoading","usePropertyFilter","searchQuery","setSearchQuery","filters","setFilters","featuredProperties","trendingProperties","isLoadingProperties","setGreeting","handleSearch","params","dashboardTabs","Home","DollarSign","motion","tab","isActive","Search","Sliders","Briefcase","DashboardPage"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}