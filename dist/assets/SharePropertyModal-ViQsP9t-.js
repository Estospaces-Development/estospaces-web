import{c as F,r as I,j as e,V as M,W as U,X as E,M as _,C as T,a1 as A}from"./index-Da7XMO_V.js";import{S as V}from"./share-2-ClnZqC4G.js";import{F as q,T as z,L as W,C as L}from"./twitter-BFJNeGBu.js";import{M as X}from"./message-circle-DHy2dGbh.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],D=F("link-2",B),O=({isOpen:m,onClose:h,property:a,onShare:i})=>{var w,k,f,j,v,C,N,$;const[d,l]=I.useState(!1),[g,b]=I.useState({message:"",type:"success",visible:!1});if(!a)return null;const r=typeof window<"u"?`${window.location.origin}/manager/dashboard/properties/edit/${a.id}`:"",y=((f=(k=(w=a.media)==null?void 0:w.images)==null?void 0:k[0])==null?void 0:f.url)||(typeof((j=a.images)==null?void 0:j[0])=="string"?a.images[0]:"")||"",c=a.priceString||((v=a.price)!=null&&v.amount?`${(C=a.price)==null?void 0:C.currency} ${(N=a.price)==null?void 0:N.amount}`:"Price on Request"),u=a.location?`${a.location.city||""}${a.location.city&&a.location.state?", ":""}${a.location.state||""}`:a.address||"";($=a.description)!=null&&$.slice(0,200)||`${a.title}${c}`;const P=[{id:"facebook",name:"Facebook",icon:q,color:"bg-blue-600 hover:bg-blue-700",iconColor:"text-white"},{id:"twitter",name:"Twitter / X",icon:z,color:"bg-black dark:bg-gray-800 hover:bg-gray-900",iconColor:"text-white"},{id:"linkedin",name:"LinkedIn",icon:W,color:"bg-blue-700 hover:bg-blue-800",iconColor:"text-white"},{id:"whatsapp",name:"WhatsApp",icon:X,color:"bg-green-600 hover:bg-green-700",iconColor:"text-white"},{id:"email",name:"Email",icon:_,color:"bg-gray-600 hover:bg-gray-700",iconColor:"text-white"},{id:"copy",name:"Copy Link",icon:L,color:"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700",iconColor:"text-gray-700 dark:text-gray-300"}],x=(t,n="success")=>{b({message:t,type:n,visible:!0})},R=()=>{b(t=>({...t,visible:!1}))},p=async(t,n)=>{n&&(n.preventDefault(),n.stopPropagation());try{switch(t){case"copy":{if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(r),l(!0),x("Link copied to clipboard!","success"),setTimeout(()=>l(!1),2e3),i&&i(t);return}catch(o){console.warn("Clipboard API failed",o)}const s=document.createElement("textarea");s.value=r,s.style.position="fixed",s.style.left="-999999px",document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),l(!0),x("Link copied to clipboard!","success"),setTimeout(()=>l(!1),2e3),i&&i(t);return}case"facebook":{const s=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r)}`;window.open(s,"_blank","width=626,height=436"),i&&i(t);break}case"twitter":{const s=`${a.title} - ${c}
${r}`,o=`https://twitter.com/intent/tweet?url=${encodeURIComponent(r)}&text=${encodeURIComponent(s)}`;window.open(o,"_blank","width=550,height=420"),i&&i(t);break}case"linkedin":{const s=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(r)}`;window.open(s,"_blank","width=520,height=570"),i&&i(t);break}case"whatsapp":{const s=`ðŸ  *${a.title}*

${c}
${r}`,o=`https://wa.me/?text=${encodeURIComponent(s)}`;window.open(o,"_blank"),i&&i(t);break}case"email":{const s=encodeURIComponent(`${a.title} - Property Listing`),o=encodeURIComponent(`Check out this property:

${a.title}
${c}

View property: ${r}`);window.location.href=`mailto:?subject=${s}&body=${o}`,i&&i(t);break}}}catch(s){console.error("Error sharing:",s),x("Failed to share","error")}};return m?e.jsxs(e.Fragment,{children:[e.jsx(M,{children:m&&e.jsxs(e.Fragment,{children:[e.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsx(U.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto pointer-events-auto",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(V,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Share Property"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share this property with others"})]})]}),e.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(E,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex gap-4",children:[y&&e.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 dark:bg-gray-800",children:e.jsx("img",{src:y,alt:a.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-1 line-clamp-2",children:a.title}),e.jsx("p",{className:"text-lg font-bold text-primary mb-2",children:c}),u&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(D,{className:"w-3 h-3"}),u]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-4",children:"Share on"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:P.map(t=>{const n=t.icon,s=t.id==="copy"&&d;return e.jsxs("button",{type:"button",onClick:o=>p(t.id,o),className:`flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all cursor-pointer ${s?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-primary hover:bg-primary/5 dark:hover:bg-primary/10 active:scale-95"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${t.color} transition-colors`,children:s?e.jsx(T,{className:"w-6 h-6 text-white"}):e.jsx(n,{className:`w-6 h-6 ${t.iconColor}`})}),e.jsx("span",{className:`text-sm font-medium ${s?"text-green-600 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:s?"Copied!":t.name})]},t.id)})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property URL"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 px-4 py-2 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg text-sm text-gray-700 dark:text-gray-300"}),e.jsx("button",{type:"button",onClick:t=>p("copy",t),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 cursor-pointer active:scale-95 ${d?"bg-green-500 text-white":"bg-primary text-white hover:bg-primary/90"}`,children:d?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4"}),"Copied"]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4"}),"Copy"]})})]})]})]})]})})]})}),e.jsx(A,{id:"share-modal-toast",message:g.message,type:g.type,isVisible:g.visible,onClose:R,duration:3e3})]}):null};export{O as default};
//# sourceMappingURL=SharePropertyModal-ViQsP9t-.js.map
