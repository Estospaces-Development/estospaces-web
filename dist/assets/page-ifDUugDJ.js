import{r as a,j as e,Z as p}from"./index-Da7XMO_V.js";import{F as b,O as j,a as y,g as k,u as v}from"./FastTrackCaseDetail-D5cEiJT2.js";import{B as N}from"./BackButton-CqCFDLWv.js";import{C as w}from"./clock-DxdokMfQ.js";import{C}from"./circle-check-BOtlr7mK.js";import"./arrow-right-Ds6Oqwjp.js";import"./index-CPQUb8Kj.js";import"./arrow-left-BwO-D1-S.js";import"./activity-CjNLBg-e.js";import"./eye-DZPq23ha.js";import"./send-Br80mSum.js";const L=()=>{const[t,n]=a.useState([]),[r,l]=a.useState(null),[S,o]=a.useState(!0),[T,f]=a.useState(null),[F,x]=a.useState({message:"",type:"success",visible:!1}),m=async()=>{o(!0);const{data:s,error:c}=await k();s?(n(s),r&&!s.find(d=>d.caseId===r)&&r&&l(null)):f(c||"Failed to fetch cases"),o(!1)};a.useEffect(()=>{m()},[]);const h=async s=>{n(u=>u.map(d=>d.caseId===s.caseId?s:d));const{error:c}=await v(s.id,{current_step:s.currentStep,final_status:s.finalStatus,documents:s.documents});c?(x({message:"Failed to update case",type:"error",visible:!0}),m()):x({message:"Case updated successfully",type:"success",visible:!0})},g=a.useMemo(()=>t.find(s=>s.caseId===r),[t,r]),i=a.useMemo(()=>({active:t.filter(s=>s.finalStatus==="in_progress").length,completedToday:t.filter(s=>s.finalStatus==="completed").length,expired:t.filter(s=>s.finalStatus==="expired").length}),[t]);return g?e.jsx("div",{className:"h-[calc(100vh-100px)] animate-in slide-in-from-right duration-300",children:e.jsx(b,{caseData:g,onClose:()=>l(null),onUpdate:h})}):e.jsx("div",{className:"relative h-full",children:e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(N,{}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl shadow-lg shadow-orange-500/20",children:e.jsx(p,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Fast Track Oversight"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Monitor and intervene in 24-hour fast track deals"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 p-6 rounded-xl flex items-center justify-between shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Cases"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:i.active})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 p-6 rounded-xl flex items-center justify-between shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Completed Today"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:i.completedToday})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:e.jsx(C,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]}),e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 p-6 rounded-xl flex items-center justify-between shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Expired / Delayed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:i.expired})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:e.jsx(j,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2 mb-4",children:"Priority Queue"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(s=>e.jsx("div",{onClick:()=>l(s.caseId),className:"cursor-pointer transition-transform hover:scale-[1.02]",children:e.jsx(y,{caseData:s,onUpdate:h})},s.caseId))}),t.length===0&&e.jsx("div",{className:"text-center py-20 bg-gray-50 dark:bg-black/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No active fast track cases."})})]})]})})};export{L as default};
//# sourceMappingURL=page-ifDUugDJ.js.map
