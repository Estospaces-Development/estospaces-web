import{c as g,a5 as n,a6 as p,r as i,j as e,b as h}from"./index-D9fuy-ar.js";import{S as d}from"./star-Xdww4Nds.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],y=g("thumbs-up",u),c=()=>p("core");async function v(r){try{return await n(`${c()}/api/v1/reviews/property/${r}`)}catch(t){return console.error("[reviewsService] Error:",t.message),{success:!1,data:null,error:t.message}}}async function f(){try{return await n(`${c()}/api/v1/reviews/mine`)}catch(r){return console.error("[reviewsService] Error:",r.message),{success:!1,data:null,error:r.message}}}async function j(r){try{return await n(`${c()}/api/v1/reviews`,{method:"POST",body:JSON.stringify(r)})}catch(t){return console.error("[reviewsService] Error:",t.message),{success:!1,data:null,error:t.message}}}const b={getPropertyReviews:v,getUserReviews:f,createReview:j};function R(){const[r,t]=i.useState([]),[m,o]=i.useState(!0),x=async()=>{o(!0);try{const s=await b.getUserReviews();if(s.data){const l=s.data.map(a=>({...a,property_title:"Property Review",property_image:"https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=200&h=200&fit=crop",date:new Date(a.created_at).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}),likes:0}));t(l)}}catch(s){console.error("[Reviews] Error fetching:",s)}finally{o(!1)}};return i.useEffect(()=>{x()},[]),e.jsxs("div",{className:"p-4 lg:p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 dark:text-orange-500 mb-2",children:"My Reviews"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Reviews you've written for properties and agents"})]}),m?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):r.length>0?e.jsx("div",{className:"grid gap-6",children:r.map(s=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:s.property_image,alt:s.property_title,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.property_title}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[[...Array(5)].map((l,a)=>e.jsx(d,{size:14,className:`${a<s.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},a)),e.jsx("span",{className:"text-sm text-gray-500 ml-2",children:s.date})]})]})]}),e.jsx("div",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",children:"Published"})]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:s.comment}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("button",{className:"flex items-center gap-1 hover:text-orange-600 transition-colors",children:[e.jsx(y,{size:16}),e.jsxs("span",{children:["Helpful (",s.likes,")"]})]}),e.jsxs("button",{className:"flex items-center gap-1 hover:text-orange-600 transition-colors",children:[e.jsx(h,{size:16}),e.jsx("span",{children:"Reply"})]})]})]},s.id))}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-12 text-center",children:[e.jsx(d,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-orange-500 mb-2",children:"No reviews yet"}),e.jsx("p",{className:"text-gray-600 dark:text-orange-400 mb-4",children:"Review properties you've visited or rented"}),e.jsx("button",{className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors",children:"View Properties"})]})]})}export{R as default};
//# sourceMappingURL=page-2elvhmAp.js.map
