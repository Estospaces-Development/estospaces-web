import{u as R,h as L,r as t,i as j,j as e,l as k,U as O,X as U,L as $}from"./index-DOVRzmjE.js";import{A as u}from"./AuthLayout-FGIN97Hx.js";import{B}from"./briefcase-CZLf4pVj.js";import{E as M}from"./eye-off-B7PrfAnN.js";import{E as Z}from"./eye-ZHS1zas0.js";function X(){const i=R(),{isAuthenticated:y,loading:d,getRole:p,register:N}=L(),[c,v]=t.useState(""),[n,w]=t.useState(""),[a,S]=t.useState(""),[s,h]=t.useState("user"),[m,E]=t.useState(!1),[b,x]=t.useState(!1),[f,l]=t.useState(""),[P,C]=t.useState(!1),g={length:a.length>=8,upper:/[A-Z]/.test(a),lower:/[a-z]/.test(a),number:/[0-9]/.test(a),symbol:/[^A-Za-z0-9]/.test(a)},A=Object.values(g).every(Boolean);t.useEffect(()=>{if(y&&!d){const r=p();i(j(r))}},[y,d,p,i]);const z=async r=>{if(r.preventDefault(),!c.trim()){l("Please enter your name");return}if(!n.trim()||!/^\S+@\S+\.\S+$/.test(n)){l("Please enter a valid email");return}if(!A){l("Please meet all password requirements");return}x(!0),l("");try{const o=await N(c,n,a,s);if(!o.success){l(o.error||"Sign-up failed. Please try again."),x(!1);return}C(!0),setTimeout(()=>{i(j(s))},1500)}catch{l("An unexpected error occurred. Please try again.")}finally{x(!1)}};return d?e.jsx(u,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px]",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mb-4"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading..."})]})}):P?e.jsx(u,{children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:"/images/auth/logo.jpg",alt:"Estospaces",width:160,height:40,className:"h-10 w-auto"})}),e.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-6",children:e.jsx(k,{className:"text-green-600 dark:text-green-400",size:32})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Account Created!"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:"Redirecting to your dashboard..."}),e.jsx("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg px-4 py-2 mb-4",children:e.jsxs("p",{className:"text-primary text-sm font-medium",children:["Signed up as: ",s==="manager"?"Property Manager":"User"]})})]})}):e.jsx(u,{children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-8",children:e.jsx("img",{src:"/images/auth/logo.jpg",alt:"Estospaces",width:160,height:40,className:"h-10 w-auto"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2 text-center",children:"Sign up for Estospaces"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-8 text-center",children:"Create your account to get started"}),e.jsxs("form",{onSubmit:z,className:"w-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-3",children:"I am a"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>h("user"),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${s==="user"?"border-primary bg-orange-50 dark:bg-orange-900/20 text-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx(O,{size:24,className:s==="user"?"text-primary":"text-gray-400"}),e.jsx("span",{className:"mt-2 font-medium text-sm",children:"User"}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Looking for property"})]}),e.jsxs("button",{type:"button",onClick:()=>h("manager"),className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all duration-200 ${s==="manager"?"border-primary bg-orange-50 dark:bg-orange-900/20 text-primary":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx(B,{size:24,className:s==="manager"?"text-primary":"text-gray-400"}),e.jsx("span",{className:"mt-2 font-medium text-sm",children:"Manager"}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"Managing properties"})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"Enter your full name",value:c,onChange:r=>v(r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Email"}),e.jsx("input",{type:"email",placeholder:"Enter your email",value:n,onChange:r=>w(r.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:m?"text":"password",placeholder:"Create a password",value:a,onChange:r=>S(r.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 dark:border-gray-600 rounded-md outline-none focus:border-primary transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500"}),e.jsx("button",{type:"button",onClick:()=>E(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?e.jsx(M,{size:20}):e.jsx(Z,{size:20})})]})]}),e.jsx("ul",{className:"mb-6 space-y-1",children:[{key:"length",text:"At least 8 characters"},{key:"upper",text:"One uppercase letter"},{key:"lower",text:"One lowercase letter"},{key:"number",text:"One number"},{key:"symbol",text:"One special symbol"}].map(({key:r,text:o})=>e.jsxs("li",{className:`flex items-center gap-2 text-xs ${g[r]?"text-green-600":"text-gray-400"}`,children:[g[r]?e.jsx(k,{size:14}):e.jsx(U,{size:14}),o]},r))}),f&&e.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:f}),e.jsx("button",{type:"submit",disabled:b,className:"w-full py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Creating account...":"Sign Up"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-6",children:["Already have an account?"," ",e.jsx($,{to:"/login",className:"text-primary font-medium hover:underline",children:"Sign in"})]})]})})}export{X as default};
//# sourceMappingURL=page-BIXMaG3Y.js.map
