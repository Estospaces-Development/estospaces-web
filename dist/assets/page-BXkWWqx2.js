import{h,al as N,r as i,j as e,U as x,M as j,P as k,G as v,a as w,C,w as S,a5 as z,a6 as P}from"./index-D9fuy-ar.js";import{U as M}from"./upload-CgTRKx3z.js";import{B as A}from"./building-HY8bZul1.js";import{S as _}from"./save-BmzIB3o3.js";const L=()=>P("core");function E(){const{user:n}=h(),{managerProfile:r,verificationStatus:y,isVerified:d}=N(),[g,m]=i.useState(!1),[u,o]=i.useState(!1),[a,c]=i.useState({firstName:"",lastName:"",email:"",phone:"",companyName:"",companyAddress:"",website:"",bio:"",licenseNumber:""});i.useEffect(()=>{if(n){const s=(n.name||"").split(" ");c(l=>({...l,firstName:s[0]||"",lastName:s.slice(1).join(" ")||"",email:n.email||""}))}r&&c(s=>({...s,companyName:r.company_name||"",companyAddress:r.company_address||"",licenseNumber:r.company_registration_number||r.license_number||"",bio:r.company_description||s.bio}))},[n,r]);const t=s=>{c(l=>({...l,[s.target.name]:s.target.value})),o(!1)},b=async s=>{s.preventDefault(),m(!0);try{await z(`${L()}/api/v1/users/profile`,{method:"PUT",body:JSON.stringify({name:`${a.firstName} ${a.lastName}`.trim(),email:a.email,phone:a.phone})}),o(!0),setTimeout(()=>o(!1),3e3)}catch(l){console.error("Failed to update profile:",l)}finally{m(!1)}},p=d?"Active":y||"Pending",f=d?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-400";return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-in fade-in duration-500",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(x,{className:"text-orange-500"}),"Manager Profile"]}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Manage your professional profile and company details."})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 flex flex-col items-center text-center",children:[e.jsxs("div",{className:"relative mb-4 group cursor-pointer",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center border-4 border-white dark:border-gray-800 shadow-md overflow-hidden",children:e.jsxs("span",{className:"text-4xl font-bold text-orange-600 dark:text-orange-400",children:[a.firstName[0]||"M",a.lastName[0]||"P"]})}),e.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(M,{className:"text-white",size:24})})]}),e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[a.firstName," ",a.lastName]}),e.jsx("p",{className:"text-orange-600 dark:text-orange-400 font-medium text-sm mb-1",children:d?"Verified Manager":"Manager"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mb-4",children:a.companyName||"No company set"}),e.jsx("div",{className:"w-full pt-4 border-t border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Verification Status"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${f}`,children:p})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Account Status"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Member Since"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:r!=null&&r.created_at?new Date(r.created_at).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Role"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 capitalize",children:(n==null?void 0:n.role)||"Manager"})]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:b,className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(x,{size:18,className:"text-orange-500"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:a.firstName,onChange:t,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:t,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:a.email,onChange:t,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(k,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:t,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100"})]})]})]})]}),e.jsx("hr",{className:"border-gray-100 dark:border-gray-700"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[e.jsx(A,{size:18,className:"text-blue-500"}),"Professional Details"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Company Name"}),e.jsx("input",{type:"text",name:"companyName",value:a.companyName,onChange:t,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"License Number"}),e.jsx("input",{type:"text",name:"licenseNumber",value:a.licenseNumber,onChange:t,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"url",name:"website",value:a.website,onChange:t,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Office Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{size:16,className:"absolute left-3 top-[14px] text-gray-400"}),e.jsx("textarea",{name:"companyAddress",value:a.companyAddress,onChange:t,rows:2,className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100 resize-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Bio"}),e.jsx("textarea",{name:"bio",value:a.bio,onChange:t,rows:4,className:"w-full px-4 py-2 bg-gray-50 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-gray-900 dark:text-gray-100 resize-none"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be displayed on your property listings."})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-100 dark:border-gray-700",children:[u&&e.jsxs("span",{className:"flex items-center gap-1.5 text-sm font-medium text-green-600 dark:text-green-400 animate-in fade-in",children:[e.jsx(C,{size:16}),"Profile Updated"]}),e.jsx("button",{type:"submit",disabled:g,className:"flex items-center gap-2 px-6 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-orange-400 text-white font-medium rounded-lg transition-colors shadow-sm",children:g?e.jsxs(e.Fragment,{children:[e.jsx(S,{size:18,className:"animate-spin"})," Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{size:18})," Save Changes"]})})]})]})})]})]})}export{E as default};
//# sourceMappingURL=page-BXkWWqx2.js.map
