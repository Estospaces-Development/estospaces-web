{"version":3,"file":"FastTrackCaseDetail-D5cEiJT2.js","sources":["../../node_modules/lucide-react/dist/esm/icons/file-pen-line.js","../../node_modules/lucide-react/dist/esm/icons/octagon-alert.js","../../node_modules/lucide-react/dist/esm/icons/pen-tool.js","../../node_modules/lucide-react/dist/esm/icons/scale.js","../../src/services/fastTrackService.ts","../../src/components/manager/FastTrack/FastTrackProgress.tsx","../../src/components/manager/FastTrack/FastTrackDocuments.tsx","../../src/components/manager/FastTrack/FastTrackActions.tsx","../../src/components/manager/FastTrack/FastTrackCaseCard.tsx","../../src/components/manager/FastTrack/FastTrackCaseDetail.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351\",\n      key: \"1k2beg\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z\",\n      key: \"2t3380\"\n    }\n  ],\n  [\"path\", { d: \"M8 18h1\", key: \"13wk12\" }]\n];\nconst FilePenLine = createLucideIcon(\"file-pen-line\", __iconNode);\n\nexport { __iconNode, FilePenLine as default };\n//# sourceMappingURL=file-pen-line.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 16h.01\", key: \"1drbdi\" }],\n  [\"path\", { d: \"M12 8v4\", key: \"1got3b\" }],\n  [\n    \"path\",\n    {\n      d: \"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z\",\n      key: \"1fd625\"\n    }\n  ]\n];\nconst OctagonAlert = createLucideIcon(\"octagon-alert\", __iconNode);\n\nexport { __iconNode, OctagonAlert as default };\n//# sourceMappingURL=octagon-alert.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z\",\n      key: \"nt11vn\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18\",\n      key: \"15qc1e\"\n    }\n  ],\n  [\"path\", { d: \"m2.3 2.3 7.286 7.286\", key: \"1wuzzi\" }],\n  [\"circle\", { cx: \"11\", cy: \"11\", r: \"2\", key: \"xmgehs\" }]\n];\nconst PenTool = createLucideIcon(\"pen-tool\", __iconNode);\n\nexport { __iconNode, PenTool as default };\n//# sourceMappingURL=pen-tool.js.map\n","/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v18\", key: \"108xh3\" }],\n  [\"path\", { d: \"m19 8 3 8a5 5 0 0 1-6 0zV7\", key: \"zcdpyk\" }],\n  [\"path\", { d: \"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1\", key: \"1yorad\" }],\n  [\"path\", { d: \"m5 8 3 8a5 5 0 0 1-6 0zV7\", key: \"eua70x\" }],\n  [\"path\", { d: \"M7 21h10\", key: \"1b0cd5\" }]\n];\nconst Scale = createLucideIcon(\"scale\", __iconNode);\n\nexport { __iconNode, Scale as default };\n//# sourceMappingURL=scale.js.map\n","import { apiFetch, getServiceUrl } from '@/lib/apiUtils';\r\n\r\nconst BOOKING_URL = () => getServiceUrl('booking');\r\n\r\nexport type FastTrackStep =\r\n    | 'documents'\r\n    | 'owner_approval'\r\n    | 'legal_check'\r\n    | 'payment_ready'\r\n    | 'completed';\r\n\r\nexport type PropertyType = 'rent' | 'lease' | 'buy';\r\n\r\nexport type DocStatus = 'pending' | 'verified';\r\n\r\nexport interface FastTrackDocuments {\r\n    idProof: DocStatus;\r\n    incomeProof: DocStatus;\r\n    propertyDocs: DocStatus;\r\n}\r\n\r\n// Backend Model structure\r\ninterface BackendFastTrackCase {\r\n    id: string;\r\n    property_id: string;\r\n    client_id: string;\r\n    client_name: string;\r\n    property_title: string;\r\n    property_type: PropertyType;\r\n    current_step: FastTrackStep;\r\n    final_status: 'in_progress' | 'completed' | 'expired' | 'rejected';\r\n    documents: FastTrackDocuments;\r\n    submitted_at: string;\r\n    updated_at: string;\r\n    hours_remaining: number;\r\n}\r\n\r\n// Frontend Model structure (matching existing components)\r\nexport interface FastTrackCase {\r\n    caseId: string;\r\n    propertyTitle: string;\r\n    propertyType: PropertyType;\r\n    clientName: string;\r\n    submittedAt: string;\r\n    hoursRemaining: number;\r\n    currentStep: FastTrackStep;\r\n    documents: FastTrackDocuments;\r\n    finalStatus: 'in_progress' | 'completed' | 'expired';\r\n    // extra fields to preserve ID\r\n    id: string;\r\n}\r\n\r\n// Mapper function\r\nconst mapBackendToFrontend = (apiCase: BackendFastTrackCase): FastTrackCase => ({\r\n    caseId: apiCase.id,\r\n    id: apiCase.id,\r\n    propertyTitle: apiCase.property_title,\r\n    propertyType: apiCase.property_type,\r\n    clientName: apiCase.client_name,\r\n    submittedAt: apiCase.submitted_at,\r\n    hoursRemaining: apiCase.hours_remaining,\r\n    currentStep: apiCase.current_step,\r\n    documents: apiCase.documents,\r\n    finalStatus: apiCase.final_status === 'rejected' ? 'expired' : apiCase.final_status // mapping rejected to expired if UI doesn't support rejected yet\r\n});\r\n\r\nexport interface CreateFastTrackRequest {\r\n    property_id: string;\r\n    client_id: string;\r\n    client_name: string;\r\n    property_title: string;\r\n    property_type: PropertyType;\r\n}\r\n\r\nexport interface UpdateFastTrackRequest {\r\n    current_step?: string;\r\n    final_status?: string;\r\n    documents?: FastTrackDocuments;\r\n}\r\n\r\nexport const getFastTrackCases = async () => {\r\n    try {\r\n        const result = await apiFetch<BackendFastTrackCase[]>(`${BOOKING_URL()}/api/v1/fast-track`);\r\n        if (result) {\r\n            return { data: result.map(mapBackendToFrontend), error: null };\r\n        }\r\n        return { data: [], error: null };\r\n    } catch (error: any) {\r\n        console.error('Error fetching fast track cases:', error);\r\n        return { data: null, error: error.message };\r\n    }\r\n};\r\n\r\nexport const getFastTrackCaseById = async (id: string) => {\r\n    try {\r\n        const result = await apiFetch<BackendFastTrackCase>(`${BOOKING_URL()}/api/v1/fast-track/${id}`);\r\n        if (result) {\r\n            return { data: mapBackendToFrontend(result), error: null };\r\n        }\r\n        return { data: null, error: 'Case not found' };\r\n    } catch (error: any) {\r\n        console.error('Error fetching fast track case:', error);\r\n        return { data: null, error: error.message };\r\n    }\r\n};\r\n\r\nexport const createFastTrackCase = async (req: CreateFastTrackRequest) => {\r\n    try {\r\n        const result = await apiFetch<BackendFastTrackCase>(`${BOOKING_URL()}/api/v1/fast-track`, {\r\n            method: 'POST',\r\n            body: JSON.stringify(req)\r\n        });\r\n        if (result) {\r\n            return { data: mapBackendToFrontend(result), error: null };\r\n        }\r\n        return { data: null, error: 'Failed to create case' };\r\n    } catch (error: any) {\r\n        console.error('Error creating fast track case:', error);\r\n        return { data: null, error: error.message };\r\n    }\r\n};\r\n\r\nexport const updateFastTrackCase = async (id: string, req: UpdateFastTrackRequest) => {\r\n    try {\r\n        // Map frontend fields back to backend if necessary, but update request is simple\r\n        const result = await apiFetch<BackendFastTrackCase>(`${BOOKING_URL()}/api/v1/fast-track/${id}`, {\r\n            method: 'PUT',\r\n            body: JSON.stringify(req)\r\n        });\r\n        if (result) {\r\n            return { data: mapBackendToFrontend(result), error: null };\r\n        }\r\n        return { data: null, error: 'Failed to update case' };\r\n    } catch (error: any) {\r\n        console.error('Error updating fast track case:', error);\r\n        return { data: null, error: error.message };\r\n    }\r\n};\r\n","import React from 'react';\r\nimport { FastTrackStep } from '../../../services/fastTrackService';\r\nimport { FileText, Home, Scale, CreditCard, CheckCircle2 } from 'lucide-react';\r\n\r\ninterface FastTrackProgressProps {\r\n    currentStep: FastTrackStep;\r\n}\r\n\r\nconst steps: { id: FastTrackStep; label: string; icon: React.ElementType }[] = [\r\n    { id: 'documents', label: 'Docs', icon: FileText },\r\n    { id: 'owner_approval', label: 'Owner', icon: Home },\r\n    { id: 'legal_check', label: 'Legal', icon: Scale },\r\n    { id: 'payment_ready', label: 'Pay', icon: CreditCard },\r\n    { id: 'completed', label: 'Ready', icon: CheckCircle2 },\r\n];\r\n\r\nconst FastTrackProgress: React.FC<FastTrackProgressProps> = ({ currentStep }) => {\r\n    const getCurrentStepIndex = () => {\r\n        return steps.findIndex((s) => s.id === currentStep);\r\n    };\r\n\r\n    const currentIndex = getCurrentStepIndex();\r\n\r\n    return (\r\n        <div className=\"w-full relative mt-4 mb-6\">\r\n            <div className=\"absolute top-1/2 left-0 w-full h-1 bg-gray-100 dark:bg-zinc-800 -translate-y-1/2 rounded-full -z-10\" />\r\n            <div className=\"flex justify-between items-center w-full px-2\">\r\n                {steps.map((step, index) => {\r\n                    let status: 'completed' | 'current' | 'upcoming' = 'upcoming';\r\n                    if (index < currentIndex) status = 'completed';\r\n                    else if (index === currentIndex) status = 'current';\r\n\r\n                    const Icon = step.icon;\r\n\r\n                    return (\r\n                        <div key={step.id} className=\"flex flex-col items-center\">\r\n                            <div\r\n                                className={`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300 z-10\r\n                  ${status === 'completed' ? 'bg-green-500 border-green-500 text-white' : ''}\r\n                  ${status === 'current' ? 'bg-orange-500 border-orange-500 text-white scale-110 shadow-lg ring-4 ring-orange-100 dark:ring-orange-900/30' : ''}\r\n                  ${status === 'upcoming' ? 'bg-white dark:bg-zinc-900 border-gray-200 dark:border-gray-700 text-gray-300 dark:text-gray-600' : ''}\r\n                `}\r\n                            >\r\n                                <Icon className=\"w-4 h-4\" />\r\n                            </div>\r\n                            <span\r\n                                className={`text-[10px] sm:text-xs mt-2 font-medium tracking-tight transition-colors duration-300 absolute -bottom-6\r\n                  ${status === 'current' ? 'text-orange-600 dark:text-orange-400 font-bold' : ''}\r\n                  ${status === 'completed' ? 'text-green-600 dark:text-green-500' : ''}\r\n                  ${status === 'upcoming' ? 'text-gray-300 dark:text-gray-600' : ''}\r\n                `}\r\n                            >\r\n                                {step.label}\r\n                            </span>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n            <div className=\"h-6\" aria-hidden=\"true\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FastTrackProgress;\r\n","import React from 'react';\r\nimport { FastTrackDocuments as IFastTrackDocuments } from '../../../services/fastTrackService';\r\nimport { Check, Loader2 } from 'lucide-react';\r\n\r\ninterface FastTrackDocumentsProps {\r\n    documents: IFastTrackDocuments;\r\n    onVerify: (docType: keyof IFastTrackDocuments) => void;\r\n    isReadOnly: boolean;\r\n}\r\n\r\nconst FastTrackDocuments: React.FC<FastTrackDocumentsProps> = ({ documents, onVerify, isReadOnly }) => {\r\n    const docLabels: { key: keyof IFastTrackDocuments; label: string }[] = [\r\n        { key: 'idProof', label: 'ID Proof' },\r\n        { key: 'incomeProof', label: 'Income Proof' },\r\n        { key: 'propertyDocs', label: 'Property Docs' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"bg-gray-50 dark:bg-zinc-900/50 rounded-lg p-3 border border-gray-100 dark:border-zinc-800 my-2\">\r\n            <h4 className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2\">Required Documents</h4>\r\n            <div className=\"space-y-2\">\r\n                {docLabels.map(({ key, label }) => (\r\n                    <div key={key} className=\"flex items-center justify-between text-sm\">\r\n                        <span className=\"text-gray-700 dark:text-gray-300\">{label}</span>\r\n                        {documents[key] === 'verified' ? (\r\n                            <span className=\"flex items-center gap-1 text-green-600 text-xs font-medium bg-green-50 dark:bg-green-900/20 px-2 py-0.5 rounded-full\">\r\n                                <Check className=\"w-3 h-3\" /> Verified\r\n                            </span>\r\n                        ) : (\r\n                            <button\r\n                                onClick={() => onVerify(key)}\r\n                                disabled={isReadOnly}\r\n                                className={`flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full transition-colors\r\n                        ${isReadOnly\r\n                                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                                        : 'bg-blue-50 text-blue-600 hover:bg-blue-100 cursor-pointer dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/40'}\r\n                    `}\r\n                            >\r\n                                {isReadOnly ? 'Pending' : 'Verify'}\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FastTrackDocuments;\r\n","import React from 'react';\r\nimport { FastTrackStep } from '../../../mocks/fastTrackCases';\r\nimport { CheckCircle, Home, Scale, CreditCard, ArrowRight } from 'lucide-react';\r\n\r\ninterface FastTrackActionsProps {\r\n    currentStep: FastTrackStep;\r\n    onAdvance: () => void;\r\n    isDocumentsVerified: boolean;\r\n    isReadOnly: boolean;\r\n}\r\n\r\nconst FastTrackActions: React.FC<FastTrackActionsProps> = ({ currentStep, onAdvance, isDocumentsVerified, isReadOnly }) => {\r\n\r\n    if (isReadOnly && currentStep !== 'completed') {\r\n        return (\r\n            <div className=\"mt-4 pt-4 border-t border-gray-100 dark:border-zinc-800 text-center\">\r\n                <p className=\"text-sm text-red-500 font-medium\">Case Expired. Actions Locked.</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (currentStep === 'completed') {\r\n        return (\r\n            <div className=\"mt-4 pt-4 border-t border-gray-100 dark:border-zinc-800 text-center\">\r\n                <p className=\"text-sm text-green-600 font-medium flex items-center justify-center gap-2\">\r\n                    <CheckCircle className=\"w-4 h-4\" /> Deal Ready\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const getButtonConfig = () => {\r\n        switch (currentStep) {\r\n            case 'documents':\r\n                return {\r\n                    label: 'Request Owner Approval',\r\n                    icon: Home,\r\n                    disabled: !isDocumentsVerified,\r\n                    hint: !isDocumentsVerified ? 'Verify all documents first' : undefined\r\n                };\r\n            case 'owner_approval':\r\n                return {\r\n                    label: 'Mark Legal Check Complete',\r\n                    icon: Scale,\r\n                    disabled: false\r\n                };\r\n            case 'legal_check':\r\n                return {\r\n                    label: 'Confirm Payment Ready',\r\n                    icon: CreditCard,\r\n                    disabled: false\r\n                };\r\n            case 'payment_ready':\r\n                return {\r\n                    label: 'Mark Deal Ready',\r\n                    icon: CheckCircle,\r\n                    disabled: false\r\n                };\r\n            default:\r\n                return { label: 'Continue', icon: ArrowRight, disabled: false };\r\n        }\r\n    };\r\n\r\n    const config = getButtonConfig();\r\n    const Icon = config.icon;\r\n\r\n    return (\r\n        <div className=\"mt-4 pt-4 border-t border-gray-100 dark:border-zinc-800\">\r\n            <button\r\n                onClick={onAdvance}\r\n                disabled={config.disabled}\r\n                className={`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-300\r\n          ${config.disabled\r\n                        ? 'bg-gray-100 text-gray-400 cursor-not-allowed dark:bg-zinc-800 dark:text-gray-600'\r\n                        : 'bg-orange-600 text-white hover:bg-orange-700 hover:shadow-md hover:scale-[1.02]'\r\n                    }\r\n        `}\r\n                title={config.hint}\r\n            >\r\n                <Icon className=\"w-4 h-4\" />\r\n                {config.label}\r\n            </button>\r\n            {config.hint && (\r\n                <p className=\"text-xs text-center text-amber-500 mt-2\">{config.hint}</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FastTrackActions;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FastTrackCase, FastTrackStep, FastTrackDocuments as IFastTrackDocuments } from '../../../services/fastTrackService';\r\nimport FastTrackProgress from './FastTrackProgress';\r\nimport FastTrackDocuments from './FastTrackDocuments';\r\nimport FastTrackActions from './FastTrackActions';\r\nimport { Clock, AlertTriangle, AlertCircle } from 'lucide-react';\r\n\r\ninterface FastTrackCaseCardProps {\r\n    caseData: FastTrackCase;\r\n    onUpdate: (updatedCase: FastTrackCase) => void;\r\n}\r\n\r\nconst FastTrackCaseCard: React.FC<FastTrackCaseCardProps> = ({ caseData, onUpdate }) => {\r\n    const [timeLeft, setTimeLeft] = useState<{ hours: number; minutes: number } | null>(null);\r\n    const [isExpired, setIsExpired] = useState(caseData.finalStatus === 'expired');\r\n\r\n    useEffect(() => {\r\n        const calculateTimeLeft = () => {\r\n            if (caseData.finalStatus === 'completed') {\r\n                setTimeLeft(null);\r\n                return;\r\n            }\r\n\r\n            const submitTime = new Date(caseData.submittedAt).getTime();\r\n            const targetTime = submitTime + 24 * 60 * 60 * 1000;\r\n            const now = new Date().getTime();\r\n            const diff = targetTime - now;\r\n\r\n            if (diff <= 0) {\r\n                setTimeLeft({ hours: 0, minutes: 0 });\r\n                setIsExpired(true);\r\n                return;\r\n            }\r\n\r\n            const hours = Math.floor(diff / (1000 * 60 * 60));\r\n            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n            setTimeLeft({ hours, minutes });\r\n        };\r\n\r\n        calculateTimeLeft();\r\n        const timer = setInterval(calculateTimeLeft, 60000);\r\n        return () => clearInterval(timer);\r\n    }, [caseData.submittedAt, caseData.finalStatus]);\r\n\r\n    const handleVerifyDoc = (docType: keyof IFastTrackDocuments) => {\r\n        const updatedDocs = { ...caseData.documents, [docType]: 'verified' as const };\r\n        const updatedCase = { ...caseData, documents: updatedDocs };\r\n        onUpdate(updatedCase);\r\n    };\r\n\r\n    const handleAdvanceStep = () => {\r\n        let nextStep: FastTrackStep = caseData.currentStep;\r\n        let nextStatus = caseData.finalStatus;\r\n\r\n        switch (caseData.currentStep) {\r\n            case 'documents': nextStep = 'owner_approval'; break;\r\n            case 'owner_approval': nextStep = 'legal_check'; break;\r\n            case 'legal_check': nextStep = 'payment_ready'; break;\r\n            case 'payment_ready':\r\n                nextStep = 'completed';\r\n                nextStatus = 'completed';\r\n                break;\r\n        }\r\n\r\n        onUpdate({ ...caseData, currentStep: nextStep, finalStatus: nextStatus });\r\n    };\r\n\r\n    const isDocsVerified = Object.values(caseData.documents).every(status => status === 'verified');\r\n    const isAtRisk = timeLeft ? timeLeft.hours < 6 : false;\r\n\r\n    const getTypeColor = (type: string) => {\r\n        switch (type) {\r\n            case 'rent': return 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400';\r\n            case 'lease': return 'bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400';\r\n            case 'buy': return 'bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400';\r\n            default: return 'bg-gray-100 text-gray-700';\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`bg-white dark:bg-black border rounded-xl shadow-sm hover:shadow-md transition-all duration-300 p-5 flex flex-col h-full\r\n        ${isExpired ? 'border-red-200 dark:border-red-900/50 opacity-90' : 'border-gray-200 dark:border-zinc-800'}\r\n    `}>\r\n            {/* Header */}\r\n            <div className=\"flex justify-between items-start mb-3\">\r\n                <div>\r\n                    <div className=\"flex items-center gap-2 mb-1\">\r\n                        <span className={`text-[10px] uppercase font-bold px-2 py-0.5 rounded-full ${getTypeColor(caseData.propertyType)}`}>\r\n                            {caseData.propertyType}\r\n                        </span>\r\n                        {isAtRisk && !isExpired && caseData.finalStatus !== 'completed' && (\r\n                            <span className=\"text-[10px] font-bold px-2 py-0.5 rounded-full bg-orange-100 text-orange-700 flex items-center gap-1 animate-pulse\">\r\n                                <AlertTriangle className=\"w-3 h-3\" /> At Risk\r\n                            </span>\r\n                        )}\r\n                        {isExpired && caseData.finalStatus !== 'completed' && (\r\n                            <span className=\"text-[10px] font-bold px-2 py-0.5 rounded-full bg-red-100 text-red-700 flex items-center gap-1\">\r\n                                <AlertCircle className=\"w-3 h-3\" /> Expired\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                    <h3 className=\"font-semibold text-gray-800 dark:text-gray-100 line-clamp-1\" title={caseData.propertyTitle}>\r\n                        {caseData.propertyTitle}\r\n                    </h3>\r\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">Client: {caseData.clientName}</p>\r\n                </div>\r\n\r\n                {timeLeft && (\r\n                    <div className={`flex flex-col items-end ${isAtRisk ? 'text-orange-600' : 'text-gray-600'}`}>\r\n                        <div className=\"flex items-center gap-1 font-mono font-bold text-lg leading-none\">\r\n                            <Clock className=\"w-4 h-4\" />\r\n                            {String(timeLeft.hours).padStart(2, '0')}:{String(timeLeft.minutes).padStart(2, '0')}\r\n                        </div>\r\n                        <span className=\"text-[10px] opacity-70\">remains</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <FastTrackProgress currentStep={caseData.currentStep} />\r\n\r\n            {caseData.currentStep === 'documents' && caseData.finalStatus !== 'completed' && !isExpired && (\r\n                <FastTrackDocuments\r\n                    documents={caseData.documents}\r\n                    onVerify={handleVerifyDoc}\r\n                    isReadOnly={isExpired}\r\n                />\r\n            )}\r\n\r\n            <div className=\"mt-auto\">\r\n                <FastTrackActions\r\n                    currentStep={caseData.currentStep}\r\n                    onAdvance={handleAdvanceStep}\r\n                    isDocumentsVerified={isDocsVerified}\r\n                    isReadOnly={isExpired && caseData.finalStatus !== 'completed'}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FastTrackCaseCard;\r\n","\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport {\r\n    ArrowLeft,\r\n    Clock,\r\n    CheckCircle2,\r\n    FileText,\r\n    User,\r\n    Shield,\r\n    Activity,\r\n    MessageSquare,\r\n    Phone,\r\n    Mail,\r\n    Send,\r\n    PenTool,\r\n    FileSignature,\r\n    Eye\r\n} from 'lucide-react';\r\nimport { FastTrackCase, FastTrackStep } from '../../../services/fastTrackService';\r\n\r\ninterface FastTrackCaseDetailProps {\r\n    caseData: FastTrackCase;\r\n    onClose: () => void;\r\n    onUpdate: (updatedCase: FastTrackCase) => void;\r\n}\r\n\r\nconst FastTrackCaseDetail: React.FC<FastTrackCaseDetailProps> = ({ caseData, onClose, onUpdate }) => {\r\n    const [activeTab, setActiveTab] = useState<'overview' | 'documents' | 'esignature'>('overview');\r\n\r\n    // Create Envelope Modal State\r\n    const [showEnvelopeModal, setShowEnvelopeModal] = useState(false);\r\n    const [newEnvelope, setNewEnvelope] = useState({ name: '', recipient: caseData.clientName, type: 'agreement' });\r\n\r\n    // Helper to calculate time elapsed/remaining\r\n    const getTimeStatus = () => {\r\n        if (caseData.finalStatus === 'expired') return 'expired';\r\n        if (caseData.finalStatus === 'completed') return 'completed';\r\n        return caseData.hoursRemaining > 0 ? 'active' : 'expired';\r\n    };\r\n\r\n    const timeStatus = getTimeStatus();\r\n\r\n    // Mock timeline generation based on steps\r\n    const getTimeline = () => {\r\n        const steps: { step: FastTrackStep; label: string; description: string }[] = [\r\n            { step: 'documents', label: 'Documents Verification', description: 'Identity and income proof checks' },\r\n            { step: 'owner_approval', label: 'Owner Approval', description: 'Property owner confirmation pending' },\r\n            { step: 'legal_check', label: 'Legal Check', description: 'Contract and compliance verification' },\r\n            { step: 'payment_ready', label: 'Payment Processing', description: 'Initial deposit and fee handling' },\r\n            { step: 'completed', label: 'Ready for Handover', description: 'Process completed successfully' }\r\n        ];\r\n\r\n        const currentIndex = steps.findIndex(s => s.step === caseData.currentStep);\r\n\r\n        return steps.map((s, index) => ({\r\n            ...s,\r\n            status: index < currentIndex ? 'completed' : index === currentIndex ? 'current' : 'pending',\r\n            date: index <= currentIndex ? new Date(new Date(caseData.submittedAt).getTime() + index * 3600000).toISOString() : null\r\n        }));\r\n    };\r\n\r\n    const timeline = getTimeline();\r\n\r\n    // Mock E-Signature Documents\r\n    const [esignDocs, setEsignDocs] = useState([\r\n        { id: 1, name: 'Tenancy Agreement', status: 'pending', recipient: caseData.clientName },\r\n        { id: 2, name: 'Direct Debit Mandate', status: 'signed', recipient: caseData.clientName },\r\n        { id: 3, name: 'Inventory Check-in', status: 'pending', recipient: caseData.clientName }\r\n    ]);\r\n\r\n    const handleSignRequest = (id: number) => {\r\n        setEsignDocs(prev => prev.map(doc => doc.id === id ? { ...doc, status: 'sent' as string } : doc));\r\n    };\r\n\r\n    // Handle Document Verification\r\n    const toggleDocument = (docType: keyof typeof caseData.documents) => {\r\n        const newStatus = caseData.documents[docType] === 'verified' ? 'pending' : 'verified';\r\n        const updatedDocs = { ...caseData.documents, [docType]: newStatus };\r\n\r\n        const updatedCase = {\r\n            ...caseData,\r\n            documents: updatedDocs,\r\n            // Simple auto-advance for demo if current step is documents\r\n            currentStep: (caseData.currentStep === 'documents' && Object.values(updatedDocs).every(s => s === 'verified'))\r\n                ? 'owner_approval' as FastTrackStep\r\n                : caseData.currentStep\r\n        };\r\n\r\n        onUpdate(updatedCase);\r\n    };\r\n\r\n    const advanceStep = () => {\r\n        const steps: FastTrackStep[] = ['documents', 'owner_approval', 'legal_check', 'payment_ready', 'completed'];\r\n        const currentIndex = steps.indexOf(caseData.currentStep);\r\n        if (currentIndex < steps.length - 1) {\r\n            const nextStep = steps[currentIndex + 1];\r\n            const updatedCase = {\r\n                ...caseData,\r\n                currentStep: nextStep,\r\n                finalStatus: nextStep === 'completed' ? 'completed' : caseData.finalStatus\r\n            } as FastTrackCase; // Type assertion needed here\r\n            onUpdate(updatedCase);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-white dark:bg-black rounded-2xl shadow-sm border border-gray-200 dark:border-zinc-800 flex flex-col h-full animate-in slide-in-from-right duration-300\">\r\n            {/* Header */}\r\n            <div className=\"p-6 border-b border-gray-100 dark:border-zinc-800 sticky top-0 bg-white/80 dark:bg-black/80 backdrop-blur-md z-10 rounded-t-2xl\">\r\n                <div className=\"flex flex-col gap-4\">\r\n                    {/* Top Row */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <button\r\n                                onClick={onClose}\r\n                                className=\"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-colors\"\r\n                            >\r\n                                <ArrowLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\r\n                            </button>\r\n                            <div>\r\n                                <h2 className=\"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                                    {caseData.propertyTitle}\r\n                                    <span className={`px-2.5 py-0.5 text-xs rounded-full font-medium border ${caseData.propertyType === 'rent' ? 'bg-blue-50 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800' :\r\n                                        caseData.propertyType === 'buy' ? 'bg-purple-50 text-purple-700 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800' :\r\n                                            'bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800'\r\n                                        }`}>\r\n                                        {caseData.propertyType.toUpperCase()}\r\n                                    </span>\r\n                                </h2>\r\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400 flex items-center gap-2\">\r\n                                    ID: {caseData.caseId} â€¢ Submitted {new Date(caseData.submittedAt).toLocaleDateString()}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-4\">\r\n                            <div className={`flex items-center gap-2 px-4 py-2 rounded-xl border ${timeStatus === 'expired' ? 'bg-red-50 text-red-700 border-red-200 dark:bg-red-900/20 dark:border-red-800' :\r\n                                timeStatus === 'completed' ? 'bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:border-green-800' :\r\n                                    'bg-orange-50 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800'\r\n                                }`}>\r\n                                {timeStatus === 'completed' ? <CheckCircle2 size={18} /> : <Clock size={18} className={timeStatus === 'active' ? 'animate-pulse' : ''} />}\r\n                                <span className=\"font-bold\">\r\n                                    {timeStatus === 'completed' ? 'Completed' :\r\n                                        timeStatus === 'expired' ? 'Expired' :\r\n                                            `${caseData.hoursRemaining}h remaining`}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Navigation Tabs */}\r\n                    <div className=\"flex gap-2 border-b border-gray-100 dark:border-zinc-800 pb-1\">\r\n                        <button\r\n                            onClick={() => setActiveTab('overview')}\r\n                            className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${activeTab === 'overview' ? 'bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-white' : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'}`}\r\n                        >\r\n                            <Activity size={16} />\r\n                            Overview & Tracking\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab('documents')}\r\n                            className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${activeTab === 'documents' ? 'bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-white' : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'}`}\r\n                        >\r\n                            <Shield size={16} />\r\n                            Documents\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab('esignature')}\r\n                            className={`px-4 py-2 text-sm font-medium rounded-lg transition-colors flex items-center gap-2 ${activeTab === 'esignature' ? 'bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-white' : 'text-gray-500 hover:text-gray-700 dark:hover:text-gray-300'}`}\r\n                        >\r\n                            <PenTool size={16} />\r\n                            E-Signature\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-1 overflow-hidden\">\r\n                {/* Main Content Scrollable */}\r\n                <div className=\"flex-1 overflow-y-auto p-6 space-y-8\">\r\n\r\n                    {/* Overview Tab Content */}\r\n                    {activeTab === 'overview' && (\r\n                        <div className=\"space-y-6\">\r\n                            {/* Status Tracker (Timeline) */}\r\n                            <div className=\"bg-gray-50 dark:bg-zinc-900/50 rounded-2xl p-6 border border-gray-100 dark:border-zinc-800\">\r\n                                <div className=\"flex items-center justify-between mb-6\">\r\n                                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                                        <Activity className=\"text-indigo-500\" size={20} />\r\n                                        Application Tracking\r\n                                    </h3>\r\n                                    <span className=\"text-xs font-medium px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-full flex items-center gap-1\">\r\n                                        <span className=\"w-1.5 h-1.5 bg-green-600 rounded-full animate-pulse\" />\r\n                                        Live Updates\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"relative pl-4\">\r\n                                    {/* Vertical Line */}\r\n                                    <div className=\"absolute left-[19px] top-4 bottom-4 w-0.5 bg-gray-200 dark:bg-zinc-800\" />\r\n\r\n                                    <div className=\"space-y-8 relative\">\r\n                                        {timeline.map((step, idx) => (\r\n                                            <div key={idx} className=\"flex gap-4 relative\">\r\n                                                {/* Status Dot */}\r\n                                                <div className={`w-10 h-10 rounded-full flex items-center justify-center border-4 z-10 bg-white dark:bg-black transition-all duration-500 ${step.status === 'completed' ? 'border-green-500 text-green-500' :\r\n                                                    step.status === 'current' ? 'border-indigo-500 text-indigo-500 shadow-[0_0_0_4px_rgba(99,102,241,0.2)]' :\r\n                                                        'border-gray-200 dark:border-zinc-700 text-gray-300 dark:text-zinc-600'\r\n                                                    }`}>\r\n                                                    {step.status === 'completed' ? <CheckCircle2 size={20} /> :\r\n                                                        step.status === 'current' ? <div className=\"w-3 h-3 bg-indigo-500 rounded-full animate-ping\" /> :\r\n                                                            <div className=\"w-3 h-3 bg-gray-200 dark:bg-zinc-700 rounded-full\" />\r\n                                                    }\r\n                                                </div>\r\n\r\n                                                {/* Content */}\r\n                                                <div className={`flex-1 pt-1 ${step.status === 'pending' ? 'opacity-50' : ''}`}>\r\n                                                    <div className=\"flex justify-between items-start\">\r\n                                                        <div>\r\n                                                            <h4 className={`font-semibold text-base ${step.status === 'current' ? 'text-indigo-600 dark:text-indigo-400' : 'text-gray-900 dark:text-white'}`}>\r\n                                                                {step.label}\r\n                                                            </h4>\r\n                                                            <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">{step.description}</p>\r\n                                                        </div>\r\n                                                        {step.date && (\r\n                                                            <span className=\"text-xs font-medium text-gray-400 bg-gray-100 dark:bg-zinc-800 px-2 py-1 rounded-md\">\r\n                                                                {new Date(step.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </div>\r\n\r\n                                                    {/* Action Button for Current Step */}\r\n                                                    {step.status === 'current' && (\r\n                                                        <div className=\"mt-3\">\r\n                                                            <button\r\n                                                                onClick={advanceStep}\r\n                                                                className=\"text-sm font-medium bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2\"\r\n                                                            >\r\n                                                                Mark as Complete\r\n                                                                <ArrowLeft className=\"w-4 h-4 rotate-180\" />\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Client Info */}\r\n                            <div className=\"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 rounded-2xl p-6\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\r\n                                    <User className=\"text-blue-500\" size={20} />\r\n                                    Client Details\r\n                                </h3>\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    <div className=\"w-12 h-12 bg-gray-200 dark:bg-zinc-800 rounded-full flex items-center justify-center text-xl font-bold text-gray-600 dark:text-gray-400\">\r\n                                        {caseData.clientName.charAt(0)}\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-bold text-gray-900 dark:text-white text-lg\">{caseData.clientName}</p>\r\n                                        <p className=\"text-sm text-gray-500\">Premium Client</p>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex gap-2 mt-4\">\r\n                                    <button className=\"flex-1 py-2 bg-gray-100 dark:bg-zinc-800 hover:bg-gray-200 dark:hover:bg-zinc-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors\">\r\n                                        <Phone size={16} />\r\n                                        Call\r\n                                    </button>\r\n                                    <button className=\"flex-1 py-2 bg-gray-100 dark:bg-zinc-800 hover:bg-gray-200 dark:hover:bg-zinc-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors\">\r\n                                        <MessageSquare size={16} />\r\n                                        Chat\r\n                                    </button>\r\n                                    <button className=\"flex-1 py-2 bg-gray-100 dark:bg-zinc-800 hover:bg-gray-200 dark:hover:bg-zinc-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium flex items-center justify-center gap-2 transition-colors\">\r\n                                        <Mail size={16} />\r\n                                        Email\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Documents Tab Content */}\r\n                    {activeTab === 'documents' && (\r\n                        <div className=\"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 rounded-2xl p-6\">\r\n                            <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\r\n                                <Shield className=\"text-orange-500\" size={20} />\r\n                                Required Documents\r\n                            </h3>\r\n                            <div className=\"space-y-3\">\r\n                                {Object.entries(caseData.documents).map(([key, status]) => (\r\n                                    <div key={key} className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-zinc-900/50 rounded-xl border border-gray-100 dark:border-zinc-800\">\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <div className={`p-2 rounded-lg ${status === 'verified' ? 'bg-green-100 dark:bg-green-900/30 text-green-600' : 'bg-gray-200 dark:bg-zinc-700 text-gray-500'\r\n                                                }`}>\r\n                                                <FileText size={18} />\r\n                                            </div>\r\n                                            <div>\r\n                                                <p className=\"font-medium text-gray-900 dark:text-white capitalize\">\r\n                                                    {key.replace(/([A-Z])/g, ' $1').trim()}\r\n                                                </p>\r\n                                                <p className=\"text-xs text-gray-500\">{status}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"flex gap-2\">\r\n                                            <button className=\"p-2 text-gray-500 hover:bg-gray-200 dark:hover:bg-zinc-700 rounded-lg transition-colors\">\r\n                                                <Eye size={16} />\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={() => toggleDocument(key as keyof typeof caseData.documents)}\r\n                                                className={`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${status === 'verified'\r\n                                                    ? 'bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400'\r\n                                                    : 'bg-indigo-50 text-indigo-600 hover:bg-indigo-100 dark:bg-indigo-900/20 dark:text-indigo-400'\r\n                                                    }`}\r\n                                            >\r\n                                                {status === 'verified' ? 'Verified' : 'Verify'}\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* E-Signature Tab Content */}\r\n                    {activeTab === 'esignature' && (\r\n                        <div className=\"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 rounded-2xl p-6\">\r\n                            <div className=\"flex items-center justify-between mb-6\">\r\n                                <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                                    <FileSignature className=\"text-purple-500\" size={20} />\r\n                                    Digital Signatures\r\n                                </h3>\r\n                                <button\r\n                                    onClick={() => setShowEnvelopeModal(true)}\r\n                                    className=\"text-sm bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors font-medium shadow-md shadow-purple-500/20 flex items-center gap-2\"\r\n                                >\r\n                                    <PenTool size={16} />\r\n                                    Create New Envelope\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"space-y-4\">\r\n                                {esignDocs.map(doc => (\r\n                                    <div key={doc.id} className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-zinc-900/50 rounded-xl border border-gray-100 dark:border-zinc-800\">\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <div className=\"p-3 bg-purple-100 dark:bg-purple-900/30 text-purple-600 rounded-xl\">\r\n                                                <FileText size={20} />\r\n                                            </div>\r\n                                            <div>\r\n                                                <h4 className=\"font-semibold text-gray-900 dark:text-white\">{doc.name}</h4>\r\n                                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                                                    Recipient: {doc.recipient}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <span className={`px-3 py-1 rounded-full text-xs font-semibold ${doc.status === 'signed' ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400' :\r\n                                                doc.status === 'sent' ? 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400' :\r\n                                                    'bg-gray-200 text-gray-600 dark:bg-zinc-800 dark:text-gray-400'\r\n                                                }`}>\r\n                                                {doc.status.toUpperCase()}\r\n                                            </span>\r\n\r\n                                            {doc.status === 'pending' && (\r\n                                                <button\r\n                                                    onClick={() => handleSignRequest(doc.id)}\r\n                                                    className=\"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-300 dark:bg-zinc-800 dark:border-zinc-700 rounded-lg text-sm font-medium hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors\"\r\n                                                >\r\n                                                    <Send size={14} />\r\n                                                    Send\r\n                                                </button>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n            </div>\r\n\r\n            {/* Create Envelope Modal */}\r\n            {showEnvelopeModal && createPortal(\r\n                <div className=\"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200\">\r\n                    <div className=\"bg-white dark:bg-zinc-900 rounded-2xl shadow-2xl w-full max-w-md border border-gray-200 dark:border-zinc-800 p-6 animate-in zoom-in-95 duration-200\">\r\n                        <div className=\"flex items-center justify-between mb-6\">\r\n                            <h3 className=\"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                                <FileSignature className=\"text-purple-500\" size={24} />\r\n                                New Envelope\r\n                            </h3>\r\n                            <button\r\n                                onClick={() => setShowEnvelopeModal(false)}\r\n                                className=\"p-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-colors\"\r\n                            >\r\n                                <ArrowLeft className=\"w-5 h-5 rotate-180 text-gray-500\" />\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                    Document Name\r\n                                </label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={newEnvelope.name}\r\n                                    onChange={(e) => setNewEnvelope({ ...newEnvelope, name: e.target.value })}\r\n                                    placeholder=\"e.g. Lease Renewal Agreement\"\r\n                                    className=\"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                    Recipient\r\n                                </label>\r\n                                <div className=\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-zinc-800 rounded-xl border border-gray-200 dark:border-zinc-700\">\r\n                                    <div className=\"w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center text-purple-700 dark:text-purple-400 font-bold text-sm\">\r\n                                        {caseData.clientName.charAt(0)}\r\n                                    </div>\r\n                                    <span className=\"text-gray-900 dark:text-white font-medium\">{caseData.clientName}</span>\r\n                                    <span className=\"ml-auto text-xs text-gray-500\">(Client)</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                                    Document Type\r\n                                </label>\r\n                                <select\r\n                                    className=\"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-zinc-700 bg-gray-50 dark:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n                                    value={newEnvelope.type}\r\n                                    onChange={(e) => setNewEnvelope({ ...newEnvelope, type: e.target.value })}\r\n                                >\r\n                                    <option value=\"agreement\">Tenancy Agreement</option>\r\n                                    <option value=\"addendum\">Addendum</option>\r\n                                    <option value=\"inventory\">Inventory Report</option>\r\n                                    <option value=\"invoice\">Invoice / Receipt</option>\r\n                                    <option value=\"other\">Other</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-3 mt-8\">\r\n                            <button\r\n                                onClick={() => setShowEnvelopeModal(false)}\r\n                                className=\"flex-1 py-2.5 text-gray-600 dark:text-gray-400 font-medium hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-xl transition-colors\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    if (!newEnvelope.name) return;\r\n                                    setEsignDocs([...esignDocs, {\r\n                                        id: Date.now(),\r\n                                        name: newEnvelope.name,\r\n                                        status: 'pending',\r\n                                        recipient: newEnvelope.recipient\r\n                                    }]);\r\n                                    setShowEnvelopeModal(false);\r\n                                    setNewEnvelope({ name: '', recipient: caseData.clientName, type: 'agreement' });\r\n                                }}\r\n                                disabled={!newEnvelope.name}\r\n                                className=\"flex-1 py-2.5 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-xl transition-colors shadow-lg shadow-purple-500/20\"\r\n                            >\r\n                                Create & Send\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>,\r\n                document.body\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FastTrackCaseDetail;\r\n"],"names":["__iconNode","FilePenLine","createLucideIcon","OctagonAlert","PenTool","Scale","BOOKING_URL","getServiceUrl","mapBackendToFrontend","apiCase","getFastTrackCases","result","apiFetch","error","createFastTrackCase","req","updateFastTrackCase","id","steps","FileText","Home","CreditCard","CheckCircle2","FastTrackProgress","currentStep","currentIndex","s","jsxs","jsx","step","index","status","Icon","FastTrackDocuments","documents","onVerify","isReadOnly","docLabels","key","label","Check","FastTrackActions","onAdvance","isDocumentsVerified","CheckCircle","config","ArrowRight","FastTrackCaseCard","caseData","onUpdate","timeLeft","setTimeLeft","useState","isExpired","setIsExpired","useEffect","calculateTimeLeft","targetTime","now","diff","hours","minutes","timer","handleVerifyDoc","docType","updatedDocs","updatedCase","handleAdvanceStep","nextStep","nextStatus","isDocsVerified","isAtRisk","getTypeColor","type","AlertTriangle","AlertCircle","Clock","FastTrackCaseDetail","onClose","activeTab","setActiveTab","showEnvelopeModal","setShowEnvelopeModal","newEnvelope","setNewEnvelope","timeStatus","timeline","esignDocs","setEsignDocs","handleSignRequest","prev","doc","toggleDocument","newStatus","advanceStep","ArrowLeft","Activity","Shield","idx","User","Phone","MessageSquare","Mail","Eye","FileSignature","Send","createPortal","e"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}