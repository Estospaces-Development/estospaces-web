{"version":3,"file":"PropertyCard-CPXXlEvn.js","sources":["../../node_modules/lucide-react/dist/esm/icons/maximize-2.js","../../src/components/dashboard/VirtualTourModal.tsx","../../src/components/dashboard/PropertyCard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.563.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"m21 3-7 7\", key: \"1l2asr\" }],\n  [\"path\", { d: \"m3 21 7-7\", key: \"tjx5ai\" }],\n  [\"path\", { d: \"M9 21H3v-6\", key: \"wtvkvv\" }]\n];\nconst Maximize2 = createLucideIcon(\"maximize-2\", __iconNode);\n\nexport { __iconNode, Maximize2 as default };\n//# sourceMappingURL=maximize-2.js.map\n","\"use client\";\r\n\r\nimport React from 'react';\r\nimport { X, Maximize2 } from 'lucide-react';\r\n\r\ninterface VirtualTourModalProps {\r\n    property: {\r\n        title: string;\r\n        virtual_tour_url?: string;\r\n    };\r\n    onClose: () => void;\r\n}\r\n\r\nconst VirtualTourModal: React.FC<VirtualTourModalProps> = ({ property, onClose }) => {\r\n    // Mock tour URL if none provided\r\n    const tourUrl = property?.virtual_tour_url || \"https://my.matterport.com/show/?m=JGPnGQ6wM5l&play=1\";\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fadeIn\">\r\n            <div className=\"bg-white dark:bg-gray-900 rounded-2xl w-full max-w-5xl h-[80vh] flex flex-col overflow-hidden shadow-2xl relative\">\r\n\r\n                {/* Header */}\r\n                <div className=\"p-4 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between bg-white dark:bg-gray-900\">\r\n                    <div>\r\n                        <h3 className=\"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                            <span className=\"w-2 h-2 rounded-full bg-green-500 animate-pulse\"></span>\r\n                            3D Virtual Tour\r\n                        </h3>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">{property?.title}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <button\r\n                            onClick={() => window.open(tourUrl, '_blank')}\r\n                            className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors hidden sm:block\"\r\n                            title=\"Open in new tab\"\r\n                        >\r\n                            <Maximize2 size={20} className=\"text-gray-600 dark:text-gray-300\" />\r\n                        </button>\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors\"\r\n                        >\r\n                            <X size={24} className=\"text-gray-600 dark:text-gray-300\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"flex-1 bg-gray-100 dark:bg-black relative group\">\r\n                    <iframe\r\n                        src={tourUrl}\r\n                        className=\"w-full h-full border-0\"\r\n                        allow=\"fullscreen\"\r\n                        title={`Virtual Tour of ${property?.title}`}\r\n                        loading=\"lazy\"\r\n                    />\r\n\r\n                    {/* Overlay hint */}\r\n                    <div className=\"absolute inset-x-0 bottom-0 p-4 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\">\r\n                        <p className=\"text-white text-center text-sm font-medium\">\r\n                            Click and drag to look around • Use arrow keys to move\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VirtualTourModal;\r\n","\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n;\r\nimport {\r\n    Heart,\r\n    Bed,\r\n    Bath,\r\n    Maximize,\r\n    MapPin,\r\n    Star,\r\n    Share2,\r\n    ChevronLeft,\r\n    ChevronRight,\r\n    CheckCircle,\r\n    Eye,\r\n    Loader2,\r\n} from 'lucide-react';\r\nimport VirtualTourModal from './VirtualTourModal';\r\nimport ShareModal from './ShareModal';\r\nimport { useSavedProperties } from '@/contexts/SavedPropertiesContext';\r\nimport { useProperties } from '@/contexts/PropertyContext';\r\nimport { useApplications } from '@/contexts/ApplicationsContext';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\n\r\ninterface PropertyCardProps {\r\n    property: any;\r\n    onViewDetails?: (property: any) => void;\r\n    onClick?: () => void;\r\n}\r\n\r\nconst PropertyCard: React.FC<PropertyCardProps> = ({ property, onViewDetails, onClick }) => {\r\n    const navigate = useNavigate();\r\n    const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n    const [showVirtualTour, setShowVirtualTour] = useState(false);\r\n    const [showShareModal, setShowShareModal] = useState(false);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [saveToastMessage, setSaveToastMessage] = useState('');\r\n    const [showSaveToast, setShowSaveToast] = useState(false);\r\n\r\n    const { toggleProperty, isPropertySaved } = useSavedProperties();\r\n    const { user } = useAuth();\r\n    const { incrementViews } = useProperties();\r\n    const { allApplications } = useApplications();\r\n\r\n    const isSaved = isPropertySaved(property.id);\r\n    const existingApplication = allApplications.find(app => app.propertyId === property.id);\r\n    const isApplied = !!existingApplication || property.is_applied || false;\r\n    const applicationStatus = existingApplication?.status || property.application_status || null;\r\n    const viewCount = property.view_count || 0;\r\n\r\n    const handleViewDetails = (e: React.MouseEvent) => {\r\n        e?.stopPropagation();\r\n        if (user) incrementViews(property.id);\r\n\r\n        if (onClick) {\r\n            onClick();\r\n        } else if (onViewDetails) {\r\n            onViewDetails(property);\r\n        } else {\r\n            navigate(`/user/dashboard/property/${property.id}`);\r\n        }\r\n    };\r\n\r\n    const handleSave = async (e: React.MouseEvent) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        const wasAlreadySaved = isSaved;\r\n        setIsSaving(true);\r\n\r\n        try {\r\n            await toggleProperty(property);\r\n\r\n            const message = wasAlreadySaved ? 'Property removed from saved' : 'Property saved successfully!';\r\n            setSaveToastMessage(message);\r\n            setShowSaveToast(true);\r\n\r\n            setTimeout(() => setShowSaveToast(false), 3000);\r\n        } catch (err) {\r\n            console.error('Error saving property:', err);\r\n            setSaveToastMessage('Failed to save property');\r\n            setShowSaveToast(true);\r\n            setTimeout(() => setShowSaveToast(false), 3000);\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    // Helper to get images\r\n    const getPropertyImages = () => {\r\n        let imagesList: any[] = [];\r\n\r\n        if (Array.isArray(property.images)) {\r\n            imagesList = property.images;\r\n        } else if (Array.isArray(property.image_urls)) {\r\n            imagesList = property.image_urls;\r\n        } else if (property.media?.images?.length > 0) {\r\n            imagesList = property.media.images.map((img: any) => img.url);\r\n        } else if (typeof property.images === 'string') {\r\n            try {\r\n                const parsed = JSON.parse(property.images);\r\n                if (Array.isArray(parsed)) imagesList = parsed;\r\n                else if (typeof parsed === 'string' && parsed.startsWith('[')) {\r\n                    imagesList = JSON.parse(parsed);\r\n                }\r\n            } catch {\r\n                if (property.images.startsWith('http') || property.images.startsWith('data:')) imagesList = [property.images];\r\n            }\r\n        } else if (typeof property.image_urls === 'string') {\r\n            try {\r\n                const parsed = JSON.parse(property.image_urls);\r\n                if (Array.isArray(parsed)) imagesList = parsed;\r\n                else if (typeof parsed === 'string' && parsed.startsWith('[')) {\r\n                    imagesList = JSON.parse(parsed);\r\n                }\r\n            } catch {\r\n                if (property.image_urls.startsWith('http') || property.image_urls.startsWith('data:')) imagesList = [property.image_urls];\r\n            }\r\n        }\r\n\r\n        // Strictly filter to strings that actually look like urls, or relative paths, filtering out empty or stringified array brackets \"[]\"\r\n        let validImages = imagesList.filter((img): img is string => typeof img === 'string' && img.length > 5 && !img.includes('[]'));\r\n\r\n        if (validImages.length === 0) {\r\n            const singleImage = property.image || property.image_url || property.thumbnail_url || property.photo || property.main_image;\r\n            if (typeof singleImage === 'string' && singleImage.length > 5 && !singleImage.includes('[]')) {\r\n                validImages = [singleImage];\r\n            }\r\n        }\r\n\r\n        return validImages;\r\n    };\r\n\r\n    const images = getPropertyImages();\r\n    const hasMultipleImages = images.length > 1;\r\n\r\n    const nextImage = (e: React.MouseEvent) => {\r\n        e.stopPropagation();\r\n        setCurrentImageIndex((prev) => (prev + 1) % images.length);\r\n    };\r\n\r\n    const prevImage = (e: React.MouseEvent) => {\r\n        e.stopPropagation();\r\n        setCurrentImageIndex((prev) => (prev - 1 + images.length) % images.length);\r\n    };\r\n\r\n    const formatPrice = (price: number | string | any) => {\r\n        if (typeof price === 'object' && price !== null && 'amount' in price) {\r\n            const { amount, currency } = price;\r\n            const formatted = new Intl.NumberFormat('en-GB', {\r\n                style: 'currency',\r\n                currency: currency || 'GBP',\r\n                maximumFractionDigits: 0\r\n            }).format(amount);\r\n\r\n            if (property.property_type === 'rent' || property.listingType === 'rent' || property.type?.toLowerCase() === 'rent') {\r\n                return `${formatted}/month`;\r\n            }\r\n            return formatted;\r\n        }\r\n\r\n        if (typeof price === 'number') {\r\n            const formatted = `£${price.toLocaleString('en-GB')}`;\r\n            if (property.property_type === 'rent' || property.type?.toLowerCase() === 'rent') {\r\n                return `${formatted}/month`;\r\n            }\r\n            return formatted;\r\n        }\r\n        return price;\r\n    };\r\n\r\n    const formatListedDate = (date: string | Date) => {\r\n        if (!date) return '';\r\n        const days = Math.floor((new Date().getTime() - new Date(date).getTime()) / (1000 * 60 * 60 * 24));\r\n        if (days === 0) return 'Listed today';\r\n        if (days === 1) return 'Listed 1 day ago';\r\n        if (days < 7) return `Listed ${days} days ago`;\r\n        if (days < 14) return 'Listed 1 week ago';\r\n        return `Listed ${Math.floor(days / 7)} weeks ago`;\r\n    };\r\n\r\n    // Toast Component\r\n    const ToastNotification = () => {\r\n        if (!showSaveToast) return null;\r\n        return (\r\n            <div\r\n                className=\"fixed bottom-8 left-1/2 z-[99999] pointer-events-auto transform -translate-x-1/2\"\r\n            >\r\n                <div\r\n                    className={`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-2xl ${saveToastMessage.includes('removed') || saveToastMessage.includes('Failed')\r\n                        ? 'bg-gray-900 text-white'\r\n                        : 'bg-green-500 text-white'\r\n                        }`}\r\n                >\r\n                    {saveToastMessage.includes('removed') ? (\r\n                        <Heart size={24} className=\"text-white flex-shrink-0\" />\r\n                    ) : saveToastMessage.includes('Failed') ? (\r\n                        <span className=\"text-xl\">⚠️</span>\r\n                    ) : (\r\n                        <CheckCircle size={24} className=\"text-white flex-shrink-0\" />\r\n                    )}\r\n                    <span className=\"font-bold text-base whitespace-nowrap\">{saveToastMessage}</span>\r\n                    <button\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setShowSaveToast(false);\r\n                        }}\r\n                        className=\"ml-3 text-white/80 hover:text-white transition-colors text-xl font-bold\"\r\n                    >\r\n                        ×\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <ToastNotification />\r\n\r\n            <div\r\n                onClick={handleViewDetails}\r\n                className=\"bg-white dark:bg-gray-900 rounded-2xl overflow-hidden shadow-sm hover:shadow-2xl hover:shadow-gray-200/50 dark:hover:shadow-gray-900/50 hover:-translate-y-1.5 transition-all duration-300 group cursor-pointer h-full flex flex-col\"\r\n            >\r\n                {/* Image Carousel */}\r\n                <div className=\"relative h-56 bg-gray-100 dark:bg-gray-800 overflow-hidden flex-shrink-0\">\r\n                    {images.length > 0 ? (\r\n                        <>\r\n                            <img\r\n                                src={images[currentImageIndex]}\r\n                                alt={property.title}\r\n                                className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\r\n                                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\r\n                            />\r\n\r\n                            {hasMultipleImages && (\r\n                                <>\r\n                                    <button\r\n                                        onClick={prevImage}\r\n                                        className=\"absolute left-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md\"\r\n                                    >\r\n                                        <ChevronLeft size={16} className=\"text-gray-700\" />\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={nextImage}\r\n                                        className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-md\"\r\n                                    >\r\n                                        <ChevronRight size={16} className=\"text-gray-700\" />\r\n                                    </button>\r\n\r\n                                    <div className=\"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1.5\">\r\n                                        {images.map((_, index) => (\r\n                                            <button\r\n                                                key={index}\r\n                                                onClick={(e) => {\r\n                                                    e.stopPropagation();\r\n                                                    setCurrentImageIndex(index);\r\n                                                }}\r\n                                                className={`h-1.5 rounded-full transition-all ${index === currentImageIndex\r\n                                                    ? 'bg-white w-4'\r\n                                                    : 'bg-white/50 w-1.5 hover:bg-white/75'\r\n                                                    }`}\r\n                                            />\r\n                                        ))}\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"w-full h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center\">\r\n                            <span className=\"text-gray-500 font-medium font-manager\">No Image</span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Property Type Badge */}\r\n                    {property.type && (\r\n                        <div className=\"absolute top-3 left-3\">\r\n                            <span className={`px-3 py-1.5 rounded-lg text-xs font-bold font-manager shadow-sm ${property.type?.toLowerCase() === 'rent'\r\n                                ? 'bg-blue-500 text-white'\r\n                                : property.type?.toLowerCase() === 'sale'\r\n                                    ? 'bg-emerald-500 text-white'\r\n                                    : 'bg-white/95 backdrop-blur-sm text-gray-800'\r\n                                }`}>\r\n                                {property.type === 'Sale' ? 'For Sale' : property.type === 'Rent' ? 'For Rent' : property.type}\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"absolute top-3 right-3 flex gap-2\">\r\n                        <button\r\n                            onClick={handleSave}\r\n                            disabled={isSaving}\r\n                            className={`p-2 rounded-full backdrop-blur-sm transition-all ${isSaved\r\n                                ? 'bg-red-500 text-white shadow-lg'\r\n                                : 'bg-white/90 dark:bg-gray-800/90 text-gray-700 dark:text-gray-200 hover:bg-white dark:hover:bg-gray-800 shadow-sm'\r\n                                } ${isSaving ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                            aria-label={isSaved ? 'Remove from saved' : 'Save property'}\r\n                            title={isSaved ? 'Saved' : 'Save property'}\r\n                        >\r\n                            {isSaving ? <Loader2 size={16} className=\"animate-spin\" /> : <Heart size={16} className={isSaved ? 'fill-current' : ''} />}\r\n                        </button>\r\n                        {isApplied && (\r\n                            <button\r\n                                className=\"p-2 rounded-full backdrop-blur-sm bg-green-500 text-white shadow-lg\"\r\n                                title={`Applied - ${applicationStatus}`}\r\n                                aria-label=\"Already applied\"\r\n                            >\r\n                                <CheckCircle size={16} className=\"fill-current\" />\r\n                            </button>\r\n                        )}\r\n                        {viewCount > 0 && (\r\n                            <div\r\n                                className=\"p-2 rounded-full backdrop-blur-sm bg-blue-500 text-white flex items-center gap-1 shadow-lg\"\r\n                                title={`Viewed ${viewCount} time${viewCount > 1 ? 's' : ''}`}\r\n                            >\r\n                                <Eye size={14} />\r\n                                <span className=\"text-[10px] font-bold\">{viewCount}</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"absolute bottom-3 left-3\">\r\n                        <span className=\"bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm text-gray-900 dark:text-white px-3 py-1.5 rounded-xl font-bold font-manager text-lg shadow-sm\">\r\n                            {formatPrice(property.price)}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Content */}\r\n                <div className=\"p-4 flex flex-col flex-1\">\r\n                    <h3 className=\"text-base font-semibold text-gray-900 dark:text-white mb-1 line-clamp-1\">{property.title}</h3>\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-1\">\r\n                        <MapPin size={14} className=\"text-gray-400 dark:text-gray-500 flex-shrink-0\" />\r\n                        <span className=\"line-clamp-1\">\r\n                            {typeof property.location === 'string'\r\n                                ? property.location\r\n                                : (property.address || property.location?.addressLine1 || property.location?.city || 'Location unavailable')}\r\n                        </span>\r\n                    </p>\r\n\r\n                    <div className=\"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3\">\r\n                        {property.bedrooms && (\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <Bed size={16} className=\"text-gray-400 dark:text-gray-500\" />\r\n                                <span>{property.bedrooms} Bed{property.bedrooms > 1 ? 's' : ''}</span>\r\n                            </div>\r\n                        )}\r\n                        {property.bathrooms && (\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <Bath size={16} className=\"text-gray-400 dark:text-gray-500\" />\r\n                                <span>{property.bathrooms} Bath{property.bathrooms > 1 ? 's' : ''}</span>\r\n                            </div>\r\n                        )}\r\n                        {property.area && (\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <Maximize size={16} className=\"text-gray-400 dark:text-gray-500\" />\r\n                                <span>{property.area} sqft</span>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Rating & Date */}\r\n                    {(property.rating || property.createdAt) && (\r\n                        <div className=\"flex items-center gap-2 mb-3\">\r\n                            {property.rating && (\r\n                                <div className=\"flex items-center gap-1 px-2 py-0.5 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg\">\r\n                                    <Star size={14} className=\"text-yellow-500 fill-yellow-500\" />\r\n                                    <span className=\"text-xs font-bold text-yellow-700 dark:text-yellow-400\">{property.rating}</span>\r\n                                    {property.reviews_count && (\r\n                                        <span className=\"text-[10px] text-yellow-600/60 dark:text-yellow-400/60\">({property.reviews_count})</span>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                            {(property.createdAt || property.listedDate) && (\r\n                                <span className=\"text-[10px] text-gray-400 font-medium ml-auto\">\r\n                                    {formatListedDate(property.createdAt || property.listedDate)}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Tags */}\r\n                    {property.tags && Array.isArray(property.tags) && property.tags.length > 0 && (\r\n                        <div className=\"flex flex-wrap gap-1 mb-4\">\r\n                            {property.tags.slice(0, 3).map((tag: string, index: number) => (\r\n                                <span\r\n                                    key={index}\r\n                                    className=\"px-2 py-0.5 bg-gray-50 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-[10px] font-bold uppercase tracking-wider rounded-md\"\r\n                                >\r\n                                    {tag}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"mt-auto pt-4 flex gap-2\">\r\n                        <button\r\n                            onClick={handleViewDetails}\r\n                            className=\"flex-1 bg-orange-500 hover:bg-orange-600 active:bg-orange-700 text-white px-4 py-2.5 rounded-xl font-medium text-sm transition-all duration-200 shadow-sm hover:shadow-md\"\r\n                        >\r\n                            View Details\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                setShowVirtualTour(true);\r\n                            }}\r\n                            className=\"px-4 py-2.5 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl text-sm font-medium transition-all duration-200\"\r\n                        >\r\n                            Virtual Tour\r\n                        </button>\r\n                        <button\r\n                            onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                setShowShareModal(true);\r\n                            }}\r\n                            className=\"p-2.5 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-xl transition-all duration-200\"\r\n                            title=\"Share Property\"\r\n                        >\r\n                            <Share2 size={16} />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {showVirtualTour && (\r\n                <VirtualTourModal\r\n                    property={property}\r\n                    onClose={() => setShowVirtualTour(false)}\r\n                />\r\n            )}\r\n\r\n            {showShareModal && (\r\n                <ShareModal\r\n                    property={property}\r\n                    onClose={() => setShowShareModal(false)}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default React.memo(PropertyCard);\r\n\r\n"],"names":["__iconNode","Maximize2","createLucideIcon","VirtualTourModal","property","onClose","tourUrl","jsxs","jsx","PropertyCard","onViewDetails","onClick","navigate","useNavigate","currentImageIndex","setCurrentImageIndex","useState","showVirtualTour","setShowVirtualTour","showShareModal","setShowShareModal","isSaving","setIsSaving","saveToastMessage","setSaveToastMessage","showSaveToast","setShowSaveToast","toggleProperty","isPropertySaved","useSavedProperties","user","useAuth","incrementViews","useProperties","allApplications","useApplications","isSaved","existingApplication","app","isApplied","applicationStatus","viewCount","handleViewDetails","e","handleSave","wasAlreadySaved","err","images","imagesList","_b","_a","img","parsed","validImages","singleImage","hasMultipleImages","nextImage","prev","prevImage","formatPrice","price","amount","currency","formatted","formatListedDate","date","days","ToastNotification","Heart","CheckCircle","Fragment","ChevronLeft","ChevronRight","_","index","Loader2","Eye","MapPin","_c","_d","Bed","Bath","Maximize","Star","tag","Share2","ShareModal","PropertyCard$1","React"],"mappings":"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","x_google_ignoreList":[0]}