{"version":3,"file":"page-DoRW4t03.js","sources":["../../src/pages/user/dashboard/notifications/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n    Bell,\r\n    CheckCircle,\r\n    AlertCircle,\r\n    FileText,\r\n    Shield,\r\n    MessageCircle,\r\n    Calendar,\r\n    Home,\r\n    DollarSign,\r\n    Trash2,\r\n    CheckCheck,\r\n    Clock,\r\n    Search,\r\n    X,\r\n    Inbox,\r\n    ArrowLeft,\r\n    Settings\r\n} from 'lucide-react';\r\nimport { useNotifications, NOTIFICATION_TYPES } from '@/contexts/NotificationsContext';\r\n\r\ntype FilterType = 'all' | 'unread' | 'read';\r\ntype CategoryType = 'all' | 'appointments' | 'applications' | 'messages' | 'system';\r\n\r\nexport default function NotificationsPage() {\r\n    const navigate = useNavigate();\r\n    const {\r\n        notifications,\r\n        unreadCount,\r\n        loading,\r\n        markAsRead,\r\n        markAllAsRead,\r\n        deleteNotification,\r\n    } = useNotifications();\r\n\r\n    const [filter, setFilter] = useState<FilterType>('all');\r\n    const [category, setCategory] = useState<CategoryType>('all');\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [selectedNotifications, setSelectedNotifications] = useState<string[]>([]);\r\n\r\n    // Filter notifications\r\n    const filteredNotifications = useMemo(() => {\r\n        return notifications.filter((notification: any) => {\r\n            // Read/unread filter\r\n            if (filter === 'unread' && notification.read) return false;\r\n            if (filter === 'read' && !notification.read) return false;\r\n\r\n            // Category filter\r\n            if (category !== 'all') {\r\n                const typeCategories: Record<CategoryType, string[]> = {\r\n                    appointments: [\r\n                        NOTIFICATION_TYPES.APPOINTMENT_APPROVED,\r\n                        NOTIFICATION_TYPES.APPOINTMENT_REJECTED,\r\n                    ],\r\n                    applications: [NOTIFICATION_TYPES.APPLICATION_UPDATE],\r\n                    messages: [NOTIFICATION_TYPES.TICKET_RESPONSE],\r\n                    system: [\r\n                        NOTIFICATION_TYPES.DOCUMENT_VERIFIED,\r\n                        NOTIFICATION_TYPES.PROFILE_VERIFIED,\r\n                        NOTIFICATION_TYPES.SYSTEM,\r\n                    ],\r\n                    all: [],\r\n                };\r\n                if (!typeCategories[category].includes(notification.type)) return false;\r\n            }\r\n\r\n            // Search filter\r\n            if (searchQuery) {\r\n                const query = searchQuery.toLowerCase();\r\n                return (\r\n                    notification.title.toLowerCase().includes(query) ||\r\n                    notification.message.toLowerCase().includes(query)\r\n                );\r\n            }\r\n\r\n            return true;\r\n        });\r\n    }, [notifications, filter, category, searchQuery]);\r\n\r\n    const getNotificationIcon = (type: string) => {\r\n        switch (type) {\r\n            case NOTIFICATION_TYPES.APPOINTMENT_APPROVED:\r\n                return <CheckCircle size={20} className=\"text-green-500\" />;\r\n            case NOTIFICATION_TYPES.APPOINTMENT_REJECTED:\r\n                return <AlertCircle size={20} className=\"text-red-500\" />;\r\n            case NOTIFICATION_TYPES.APPLICATION_UPDATE:\r\n                return <FileText size={20} className=\"text-blue-500\" />;\r\n            case NOTIFICATION_TYPES.DOCUMENT_VERIFIED:\r\n            case NOTIFICATION_TYPES.PROFILE_VERIFIED:\r\n                return <Shield size={20} className=\"text-green-500\" />;\r\n            case NOTIFICATION_TYPES.TICKET_RESPONSE:\r\n                return <MessageCircle size={20} className=\"text-purple-500\" />;\r\n            case 'property_saved':\r\n                return <Home size={20} className=\"text-orange-500\" />;\r\n            case 'price_drop':\r\n                return <DollarSign size={20} className=\"text-green-500\" />;\r\n            case 'viewing_booked':\r\n                return <Calendar size={20} className=\"text-blue-500\" />;\r\n            default:\r\n                return <Bell size={20} className=\"text-gray-500\" />;\r\n        }\r\n    };\r\n\r\n    const getNotificationColor = (type: string) => {\r\n        switch (type) {\r\n            case NOTIFICATION_TYPES.APPOINTMENT_APPROVED:\r\n            case NOTIFICATION_TYPES.DOCUMENT_VERIFIED:\r\n            case NOTIFICATION_TYPES.PROFILE_VERIFIED:\r\n            case 'price_drop':\r\n                return 'bg-green-50 dark:bg-green-900/20';\r\n            case NOTIFICATION_TYPES.APPOINTMENT_REJECTED:\r\n                return 'bg-red-50 dark:bg-red-900/20';\r\n            case NOTIFICATION_TYPES.APPLICATION_UPDATE:\r\n            case 'viewing_booked':\r\n                return 'bg-blue-50 dark:bg-blue-900/20';\r\n            case NOTIFICATION_TYPES.TICKET_RESPONSE:\r\n                return 'bg-purple-50 dark:bg-purple-900/20';\r\n            case 'property_saved':\r\n                return 'bg-orange-50 dark:bg-orange-900/20';\r\n            default:\r\n                return 'bg-gray-50 dark:bg-gray-700/50';\r\n        }\r\n    };\r\n\r\n    const formatTime = (dateString: string) => {\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diffInSeconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n\r\n        if (diffInSeconds < 60) return 'Just now';\r\n        if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;\r\n        if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;\r\n        if (diffInSeconds < 604800) return `${Math.floor(diffInSeconds / 86400)} days ago`;\r\n\r\n        return date.toLocaleDateString('en-GB', {\r\n            day: 'numeric',\r\n            month: 'short',\r\n            year: 'numeric',\r\n        });\r\n    };\r\n\r\n    const handleNotificationClick = (notification: any) => {\r\n        if (!notification.read) {\r\n            markAsRead(notification.id);\r\n        }\r\n\r\n        if (notification.data?.propertyId) {\r\n            navigate(`/user/dashboard/property/${notification.data.propertyId}`);\r\n        } else if (notification.data?.applicationId) {\r\n            navigate('/user/dashboard/applications');\r\n        } else if (notification.data?.viewingId) {\r\n            navigate('/user/dashboard/viewings');\r\n        }\r\n    };\r\n\r\n    const handleSelectNotification = (id: string) => {\r\n        setSelectedNotifications((prev) =>\r\n            prev.includes(id) ? prev.filter((nId) => nId !== id) : [...prev, id]\r\n        );\r\n    };\r\n\r\n    const handleSelectAll = () => {\r\n        if (selectedNotifications.length === filteredNotifications.length) {\r\n            setSelectedNotifications([]);\r\n        } else {\r\n            setSelectedNotifications(filteredNotifications.map((n: any) => n.id));\r\n        }\r\n    };\r\n\r\n    const handleDeleteSelected = () => {\r\n        selectedNotifications.forEach((id) => deleteNotification(id));\r\n        setSelectedNotifications([]);\r\n    };\r\n\r\n    const handleMarkSelectedAsRead = () => {\r\n        selectedNotifications.forEach((id) => markAsRead(id));\r\n        setSelectedNotifications([]);\r\n    };\r\n\r\n    // Group notifications by date\r\n    const groupedNotifications = useMemo(() => {\r\n        const groups: Record<string, any[]> = {};\r\n\r\n        filteredNotifications.forEach((notification: any) => {\r\n            const date = new Date(notification.created_at);\r\n            const today = new Date();\r\n            const yesterday = new Date(today);\r\n            yesterday.setDate(yesterday.getDate() - 1);\r\n\r\n            let groupKey: string;\r\n            if (date.toDateString() === today.toDateString()) {\r\n                groupKey = 'Today';\r\n            } else if (date.toDateString() === yesterday.toDateString()) {\r\n                groupKey = 'Yesterday';\r\n            } else if (date > new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000)) {\r\n                groupKey = 'This Week';\r\n            } else if (date > new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000)) {\r\n                groupKey = 'This Month';\r\n            } else {\r\n                groupKey = 'Older';\r\n            }\r\n\r\n            if (!groups[groupKey]) {\r\n                groups[groupKey] = [];\r\n            }\r\n            groups[groupKey].push(notification);\r\n        });\r\n\r\n        return groups;\r\n    }, [filteredNotifications]);\r\n\r\n    const groupOrder = ['Today', 'Yesterday', 'This Week', 'This Month', 'Older'];\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 pb-12\">\r\n            {/* Header Area */}\r\n            <div className=\"bg-white dark:bg-gray-800\">\r\n                <div className=\"max-w-4xl mx-auto px-4 lg:px-6 py-8\">\r\n                    <button\r\n                        onClick={() => navigate('/user/dashboard')}\r\n                        className=\"mb-6 flex items-center gap-2 text-gray-500 hover:text-orange-500 transition-colors group\"\r\n                    >\r\n                        <ArrowLeft size={18} className=\"group-hover:-translate-x-1 transition-transform\" />\r\n                        <span>Back to Dashboard</span>\r\n                    </button>\r\n\r\n                    <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n                        <div>\r\n                            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white flex items-center gap-3\">\r\n                                <Bell className=\"text-orange-500\" />\r\n                                Notifications\r\n                            </h1>\r\n                            <p className=\"text-gray-500 dark:text-gray-400 mt-1\">\r\n                                Stay updated with your property activities and communications\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-4\">\r\n                            {unreadCount > 0 && (\r\n                                <button\r\n                                    onClick={markAllAsRead}\r\n                                    className=\"flex items-center gap-2 px-4 py-2 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-lg text-sm font-medium hover:bg-orange-200 transition-colors\"\r\n                                >\r\n                                    <CheckCheck size={18} />\r\n                                    Mark all as read\r\n                                </button>\r\n                            )}\r\n                            <button\r\n                                onClick={() => navigate('/user/dashboard/settings')}\r\n                                className=\"p-2 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-lg hover:bg-gray-200 transition-colors\"\r\n                            >\r\n                                <Settings size={20} />\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8\">\r\n                        <div className=\"bg-orange-50 dark:bg-orange-900/10 p-4 rounded-xl\">\r\n                            <span className=\"text-sm text-orange-600 dark:text-orange-400 font-medium\">Unread</span>\r\n                            <p className=\"text-2xl font-bold text-gray-900 dark:text-white mt-1\">{unreadCount}</p>\r\n                        </div>\r\n                        <div className=\"bg-blue-50 dark:bg-blue-900/10 p-4 rounded-xl\">\r\n                            <span className=\"text-sm text-blue-600 dark:text-blue-400 font-medium\">Total</span>\r\n                            <p className=\"text-2xl font-bold text-gray-900 dark:text-white mt-1\">{notifications.length}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-4xl mx-auto px-4 lg:px-6 mt-8\">\r\n                {/* Filters & Search */}\r\n                <div className=\"flex flex-col md:flex-row gap-4 mb-8\">\r\n                    <div className=\"flex-1 relative\">\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search notifications...\"\r\n                            className=\"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-all text-gray-900 dark:text-white\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                        />\r\n                    </div>\r\n\r\n                    <select\r\n                        className=\"px-4 py-2.5 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl outline-none font-medium text-sm text-gray-900 dark:text-white\"\r\n                        value={category}\r\n                        onChange={(e) => setCategory(e.target.value as CategoryType)}\r\n                    >\r\n                        <option value=\"all\">All Categories</option>\r\n                        <option value=\"appointments\">Appointments</option>\r\n                        <option value=\"applications\">Applications</option>\r\n                        <option value=\"messages\">Messages</option>\r\n                        <option value=\"system\">System</option>\r\n                    </select>\r\n\r\n                    <select\r\n                        className=\"px-4 py-2.5 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl outline-none font-medium text-sm text-gray-900 dark:text-white\"\r\n                        value={filter}\r\n                        onChange={(e) => setFilter(e.target.value as FilterType)}\r\n                    >\r\n                        <option value=\"all\">Recent & Read</option>\r\n                        <option value=\"unread\">Unread Only</option>\r\n                        <option value=\"read\">Read Only</option>\r\n                    </select>\r\n                </div>\r\n\r\n                {/* Batch Actions */}\r\n                {selectedNotifications.length > 0 && (\r\n                    <div className=\"flex items-center justify-between bg-orange-500 text-white p-4 rounded-xl mb-6 shadow-lg animate-in slide-in-from-top duration-300\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={selectedNotifications.length === filteredNotifications.length}\r\n                                onChange={handleSelectAll}\r\n                                className=\"w-4 h-4 rounded border-white/30 text-orange-600 outline-none\"\r\n                            />\r\n                            <span className=\"font-semibold\">{selectedNotifications.length} notifications selected</span>\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                            <button onClick={handleMarkSelectedAsRead} className=\"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg text-sm font-medium transition-colors\">Mark as Read</button>\r\n                            <button onClick={handleDeleteSelected} className=\"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium transition-colors flex items-center gap-2\">\r\n                                <Trash2 size={16} />\r\n                                Delete\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* List */}\r\n                {loading ? (\r\n                    <div className=\"space-y-4\">\r\n                        {[...Array(5)].map((_, i) => (\r\n                            <div key={i} className=\"h-24 bg-white dark:bg-gray-800 rounded-2xl animate-pulse\" />\r\n                        ))}\r\n                    </div>\r\n                ) : filteredNotifications.length > 0 ? (\r\n                    <div className=\"space-y-8\">\r\n                        {groupOrder.map(group => {\r\n                            const items = groupedNotifications[group];\r\n                            if (!items || items.length === 0) return null;\r\n\r\n                            return (\r\n                                <div key={group} className=\"space-y-3\">\r\n                                    <h3 className=\"text-sm font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest pl-2\">{group}</h3>\r\n                                    <div className=\"space-y-3\">\r\n                                        {items.map(notification => (\r\n                                            <div\r\n                                                key={notification.id}\r\n                                                className=\"group relative flex items-center gap-4 p-4 bg-white dark:bg-gray-800 rounded-2xl transition-all hover:shadow-xl hover:-translate-y-0.5\"\r\n                                            >\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    checked={selectedNotifications.includes(notification.id)}\r\n                                                    onChange={() => handleSelectNotification(notification.id)}\r\n                                                    className=\"w-4 h-4 rounded border-gray-300 dark:border-gray-600 text-orange-500 outline-none\"\r\n                                                />\r\n\r\n                                                <div\r\n                                                    className={`p-3 rounded-xl flex-shrink-0 ${getNotificationColor(notification.type)}`}\r\n                                                    onClick={() => handleNotificationClick(notification)}\r\n                                                >\r\n                                                    {getNotificationIcon(notification.type)}\r\n                                                </div>\r\n\r\n                                                <div className=\"flex-1 min-w-0\" onClick={() => handleNotificationClick(notification)}>\r\n                                                    <div className=\"flex items-center justify-between gap-4\">\r\n                                                        <h4 className={`font-bold text-gray-900 dark:text-white truncate ${!notification.read ? 'pr-6' : ''}`}>\r\n                                                            {notification.title}\r\n                                                        </h4>\r\n                                                        <span className=\"text-xs text-gray-400 whitespace-nowrap\">{formatTime(notification.created_at)}</span>\r\n                                                    </div>\r\n                                                    <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-0.5 line-clamp-2\">{notification.message}</p>\r\n                                                </div>\r\n\r\n                                                {!notification.read && (\r\n                                                    <div className=\"absolute top-4 right-4 w-2 h-2 bg-orange-500 rounded-full shadow-sm shadow-orange-500/50\" />\r\n                                                )}\r\n\r\n                                                <button\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        deleteNotification(notification.id);\r\n                                                    }}\r\n                                                    className=\"p-2 opacity-0 group-hover:opacity-100 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all\"\r\n                                                >\r\n                                                    <Trash2 size={18} />\r\n                                                </button>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"text-center py-20 bg-white dark:bg-gray-800 rounded-3xl\">\r\n                        <div className=\"inline-flex items-center justify-center p-6 bg-gray-50 dark:bg-gray-700 rounded-full mb-6\">\r\n                            <Bell className=\"text-gray-300\" size={48} />\r\n                        </div>\r\n                        <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">All clear here!</h3>\r\n                        <p className=\"text-gray-500 dark:text-gray-400 mt-2\">No notifications found match your current filters.</p>\r\n                        <button\r\n                            onClick={() => { setFilter('all'); setCategory('all'); setSearchQuery(''); }}\r\n                            className=\"mt-8 px-6 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-xl active:scale-95 transition-transform\"\r\n                        >\r\n                            Reset Filters\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"names":["NotificationsPage","navigate","useNavigate","notifications","unreadCount","loading","markAsRead","markAllAsRead","deleteNotification","useNotifications","filter","setFilter","useState","category","setCategory","searchQuery","setSearchQuery","selectedNotifications","setSelectedNotifications","filteredNotifications","useMemo","notification","NOTIFICATION_TYPES","query","getNotificationIcon","type","jsx","CheckCircle","AlertCircle","FileText","Shield","MessageCircle","Home","DollarSign","Calendar","Bell","getNotificationColor","formatTime","dateString","date","diffInSeconds","handleNotificationClick","_a","_b","_c","handleSelectNotification","id","prev","nId","handleSelectAll","n","handleDeleteSelected","handleMarkSelectedAsRead","groupedNotifications","groups","today","yesterday","groupKey","groupOrder","jsxs","ArrowLeft","CheckCheck","Settings","Search","e","Trash2","_","i","group","items"],"mappings":"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"}