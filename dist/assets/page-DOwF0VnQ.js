import{r,j as e,Z as f}from"./index-D9fuy-ar.js";import{F as k,O as w,a as v,g as N,u as C,c as S}from"./FastTrackCaseDetail-D2mpVsM2.js";import{B as D}from"./BackButton-Dpcnjn0n.js";import{C as T}from"./clock-D-pnzsNv.js";import{C as F}from"./circle-check-Lj9WevXY.js";import{R as _}from"./refresh-cw-D3D2tFTT.js";import"./arrow-right-BYDXxbCW.js";import"./index-DRtMzFzR.js";import"./arrow-left-BaPK0xsr.js";import"./activity-DlzyI-Uo.js";import"./pen-tool-CAHPFWF0.js";import"./eye-Dzbd2rxv.js";import"./send-DNdIEYqD.js";const Q=()=>{const[s,o]=r.useState([]),[a,i]=r.useState(null),[b,x]=r.useState(!0),[m,j]=r.useState(null),[I,h]=r.useState({message:"",type:"success",visible:!1}),d=async()=>{x(!0);const{data:t,error:n}=await N();t?(o(t),a&&!t.find(l=>l.caseId===a)&&a&&i(null)):j(n||"Failed to fetch cases"),x(!1)};r.useEffect(()=>{d()},[]);const g=async t=>{o(u=>u.map(l=>l.caseId===t.caseId?t:l));const{error:n}=await C(t.id,{current_step:t.currentStep,final_status:t.finalStatus,documents:t.documents});n?(h({message:"Failed to update case",type:"error",visible:!0}),d()):h({message:"Case updated successfully",type:"success",visible:!0})},y=async()=>{const t={property_id:"prop-seed-"+Date.now(),client_id:"client-seed-"+Date.now(),client_name:"Demo Client",property_title:"Demo Property "+Date.now(),property_type:"rent"};await S(t),d()},p=r.useMemo(()=>s.find(t=>t.caseId===a),[s,a]),c=r.useMemo(()=>({active:s.filter(t=>t.finalStatus==="in_progress").length,completedToday:s.filter(t=>t.finalStatus==="completed").length,expired:s.filter(t=>t.finalStatus==="expired").length}),[s]);return p?e.jsx("div",{className:"h-[calc(100vh-100px)] animate-in slide-in-from-right duration-300",children:e.jsx(k,{caseData:p,onClose:()=>i(null),onUpdate:g})}):e.jsx("div",{className:"relative h-full",children:e.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(D,{}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl shadow-lg shadow-indigo-500/20",children:e.jsx(f,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"24-Hour Fast Track"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manager-led deal acceleration & readiness workflow"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 p-6 rounded-xl flex items-center justify-between shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Active Cases"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:c.active})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:e.jsx(T,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 p-6 rounded-xl flex items-center justify-between shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Completed Today"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:c.completedToday})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:e.jsx(F,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]}),e.jsxs("div",{className:"bg-white dark:bg-black border border-gray-200 dark:border-zinc-800 p-6 rounded-xl flex items-center justify-between shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Expired / Delayed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:c.expired})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:e.jsx(w,{className:"w-6 h-6 text-red-600 dark:text-red-400"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2 mb-4",children:"Priority Queue"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.map(t=>e.jsx("div",{onClick:()=>i(t.caseId),className:"cursor-pointer transition-transform hover:scale-[1.02]",children:e.jsx(v,{caseData:t,onUpdate:g})},t.caseId))}),b?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(_,{className:"w-8 h-8 animate-spin text-primary"})}):m?e.jsxs("div",{className:"text-center py-20 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800",children:[e.jsx("p",{className:"text-red-500 dark:text-red-400",children:m}),e.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/70 transition-colors",children:"Retry"})]}):s.length===0?e.jsxs("div",{className:"text-center py-20 bg-gray-50 dark:bg-black/50 rounded-xl border border-dashed border-gray-300 dark:border-gray-700",children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"No active fast track cases."}),e.jsxs("button",{onClick:y,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 flex items-center gap-2 mx-auto",children:[e.jsx(f,{className:"w-4 h-4"}),"Generate Demo Case"]})]}):null]})]})})};export{Q as default};
//# sourceMappingURL=page-DOwF0VnQ.js.map
