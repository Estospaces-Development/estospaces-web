import{c,ab as o,j as e,S as g,U as x,r as d}from"./index-Da7XMO_V.js";import{C as m}from"./check-check-O9MmlTGj.js";import{S as u}from"./send-Br80mSum.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],y=c("paperclip",h);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],p=c("smile",f);function v({onSelectConversation:l,selectedConversationId:i}){const{conversations:r,searchQuery:a,setSearchQuery:n}=o();return e.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-gray-800",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-all text-sm",value:a,onChange:s=>n(s.target.value)})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:r.length>0?e.jsx("div",{className:"",children:r.map(s=>e.jsxs("button",{onClick:()=>l(s.id),className:`w-full p-4 flex items-center gap-3 transition-colors text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 ${i===s.id?"bg-orange-50 dark:bg-orange-900/20 border-r-4 border-orange-500":""}`,children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center",children:e.jsx(x,{size:24,className:"text-orange-600"})}),s.unreadCount>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-orange-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-gray-800",children:s.unreadCount})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white truncate",children:s.contactName}),e.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:s.lastMessageTime})]}),e.jsx("p",{className:`text-sm truncate ${s.unreadCount>0?"text-gray-900 dark:text-white font-semibold":"text-gray-500 dark:text-gray-400"}`,children:s.lastMessage})]})]},s.id))}):e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No conversations found"})})})]})}function w({conversationId:l}){const{getConversation:i,isLoading:r}=o(),a=i(l),n=(a==null?void 0:a.messages)||[],s=d.useRef(null);return d.useEffect(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[n]),r?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):e.jsx("div",{ref:s,className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-4 bg-gray-50 dark:bg-gray-900/50",children:n.length>0?n.map(t=>e.jsx("div",{className:`flex ${t.senderId==="me"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`flex gap-3 max-w-[80%] ${t.senderId==="me"?"flex-row-reverse":""}`,children:[e.jsx("div",{className:"flex-shrink-0 mt-auto",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.senderId==="me"?"bg-orange-600":"bg-gray-200 dark:bg-gray-700"}`,children:e.jsx(x,{size:16,className:t.senderId==="me"?"text-white":"text-gray-500"})})}),e.jsxs("div",{className:`flex flex-col ${t.senderId==="me"?"items-end":"items-start"}`,children:[e.jsx("div",{className:`px-4 py-2 rounded-2xl text-sm shadow-sm ${t.senderId==="me"?"bg-orange-500 text-white rounded-br-none":"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 rounded-bl-none border dark:border-gray-700"}`,children:t.text}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[e.jsx("span",{className:"text-[10px] text-gray-400",children:t.time}),t.senderId==="me"&&e.jsx(m,{size:12,className:t.read?"text-blue-500":"text-gray-400"})]})]})]})},t.id)):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-60",children:[e.jsx("p",{className:"text-sm font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-xs",children:"Start the conversation by sending a message below."})]})})}function k({conversationId:l,onSend:i}){const[r,a]=d.useState(""),{sendMessage:n}=o(),s=async t=>{t.preventDefault(),r.trim()&&(i?i(l,r,[]):await n(l,r,[]),a(""))};return e.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 border-t dark:border-gray-700",children:e.jsxs("form",{onSubmit:s,className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-orange-500 transition-colors",children:e.jsx(y,{size:20})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Type your message...",value:r,onChange:t=>a(t.target.value),className:"w-full pl-4 pr-10 py-2.5 bg-gray-50 dark:bg-gray-900 border dark:border-gray-700 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 transition-all text-sm text-gray-900 dark:text-white"}),e.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-orange-500",children:e.jsx(p,{size:18})})]}),e.jsx("button",{type:"submit",disabled:!r.trim(),className:"p-2.5 bg-orange-500 text-white rounded-xl shadow-lg shadow-orange-500/20 hover:bg-orange-600 disabled:opacity-50 disabled:shadow-none transition-all active:scale-95",children:e.jsx(u,{size:20})})]})})}export{v as C,k as M,w as a};
//# sourceMappingURL=MessageInput-ZyDk_v3i.js.map
