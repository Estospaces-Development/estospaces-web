import{c as H,r as d,j as e,a as Ce,k as se,w as ha,g as Ca,u as _a,Y as Ia,p as Sa,C as la,H as P,$ as me,F as da,X as ca,G as Pa,U as Ea,x as La,a0 as Aa,q as Fa,a1 as Ta,f as fe,P as Ba}from"./index-D9fuy-ar.js";import{R as $a}from"./refresh-cw-D3D2tFTT.js";import{A as Da}from"./arrow-left-BaPK0xsr.js";import{S as xe}from"./star-Xdww4Nds.js";import{D as Ma}from"./dollar-sign-CqDN36Ty.js";import{M as Ua,B as ma,a as qa}from"./maximize-DMYfH0UC.js";import{C as Ra}from"./car-Dlt1cI6o.js";import{L as Wa}from"./list-WZuCcTwJ.js";import{C as Ne}from"./camera-iyx1Ux2_.js";import{U as Va}from"./upload-CgTRKx3z.js";import{V as je}from"./video-9ve5o9dQ.js";import{S as Ga}from"./save-BmzIB3o3.js";import{B as D}from"./building-HY8bZul1.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Ha=H("bold",Oa);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],ke=H("dumbbell",Ya);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Ka=H("italic",za);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Za=H("link",Xa);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],ua=H("tree-pine",Ja);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],et=H("underline",Qa);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],ga=H("waves",at);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ya=H("wifi",tt),ba=[{id:"1",name:"United Kingdom",code:"GB",phone_code:"+44",currency_code:"GBP"}],ve={1:[{id:"101",name:"England",code:"ENG",country_id:"1"},{id:"102",name:"Scotland",code:"SCT",country_id:"1"},{id:"103",name:"Wales",code:"WLS",country_id:"1"},{id:"104",name:"Northern Ireland",code:"NIR",country_id:"1"},{id:"105",name:"Greater London",code:"LND",country_id:"1"},{id:"106",name:"South East England",code:"SEE",country_id:"1"},{id:"107",name:"South West England",code:"SWE",country_id:"1"},{id:"108",name:"East of England",code:"EE",country_id:"1"},{id:"109",name:"West Midlands",code:"WM",country_id:"1"},{id:"110",name:"East Midlands",code:"EM",country_id:"1"},{id:"111",name:"Yorkshire and The Humber",code:"YH",country_id:"1"},{id:"112",name:"North West England",code:"NWE",country_id:"1"},{id:"113",name:"North East England",code:"NEE",country_id:"1"}]},we={101:[{id:"1001",name:"Bristol",state_id:"101",postal_code:"BS1"},{id:"1002",name:"Norwich",state_id:"101",postal_code:"NR1"}],102:[{id:"1010",name:"Edinburgh",state_id:"102",postal_code:"EH1"},{id:"1011",name:"Glasgow",state_id:"102",postal_code:"G1"},{id:"1012",name:"Aberdeen",state_id:"102",postal_code:"AB10"},{id:"1013",name:"Dundee",state_id:"102",postal_code:"DD1"},{id:"1014",name:"Inverness",state_id:"102",postal_code:"IV1"}],103:[{id:"1020",name:"Cardiff",state_id:"103",postal_code:"CF10"},{id:"1021",name:"Swansea",state_id:"103",postal_code:"SA1"},{id:"1022",name:"Newport",state_id:"103",postal_code:"NP20"}],104:[{id:"1030",name:"Belfast",state_id:"104",postal_code:"BT1"},{id:"1031",name:"Derry",state_id:"104",postal_code:"BT48"}],105:[{id:"1040",name:"Central London",state_id:"105",postal_code:"WC1"},{id:"1041",name:"Westminster",state_id:"105",postal_code:"SW1"},{id:"1042",name:"Camden",state_id:"105",postal_code:"NW1"},{id:"1043",name:"Islington",state_id:"105",postal_code:"N1"},{id:"1044",name:"Hackney",state_id:"105",postal_code:"E8"},{id:"1045",name:"Tower Hamlets",state_id:"105",postal_code:"E1"},{id:"1046",name:"Southwark",state_id:"105",postal_code:"SE1"},{id:"1047",name:"Lambeth",state_id:"105",postal_code:"SW9"},{id:"1048",name:"Greenwich",state_id:"105",postal_code:"SE10"},{id:"1049",name:"Lewisham",state_id:"105",postal_code:"SE13"},{id:"1050",name:"Kensington and Chelsea",state_id:"105",postal_code:"W8"},{id:"1051",name:"Hammersmith and Fulham",state_id:"105",postal_code:"W6"},{id:"1052",name:"Wandsworth",state_id:"105",postal_code:"SW18"},{id:"1053",name:"Richmond upon Thames",state_id:"105",postal_code:"TW9"},{id:"1054",name:"Barnet",state_id:"105",postal_code:"EN5"},{id:"1055",name:"Ealing",state_id:"105",postal_code:"W5"},{id:"1056",name:"Croydon",state_id:"105",postal_code:"CR0"},{id:"1057",name:"Bromley",state_id:"105",postal_code:"BR1"}],106:[{id:"1060",name:"Brighton",state_id:"106",postal_code:"BN1"},{id:"1061",name:"Oxford",state_id:"106",postal_code:"OX1"},{id:"1062",name:"Reading",state_id:"106",postal_code:"RG1"},{id:"1063",name:"Southampton",state_id:"106",postal_code:"SO14"},{id:"1064",name:"Portsmouth",state_id:"106",postal_code:"PO1"},{id:"1065",name:"Canterbury",state_id:"106",postal_code:"CT1"},{id:"1066",name:"Guildford",state_id:"106",postal_code:"GU1"},{id:"1067",name:"Milton Keynes",state_id:"106",postal_code:"MK9"}],107:[{id:"1070",name:"Bath",state_id:"107",postal_code:"BA1"},{id:"1071",name:"Exeter",state_id:"107",postal_code:"EX1"},{id:"1072",name:"Plymouth",state_id:"107",postal_code:"PL1"},{id:"1073",name:"Bournemouth",state_id:"107",postal_code:"BH1"}],108:[{id:"1080",name:"Cambridge",state_id:"108",postal_code:"CB1"},{id:"1081",name:"Ipswich",state_id:"108",postal_code:"IP1"},{id:"1082",name:"Colchester",state_id:"108",postal_code:"CO1"}],109:[{id:"1090",name:"Birmingham",state_id:"109",postal_code:"B1"},{id:"1091",name:"Coventry",state_id:"109",postal_code:"CV1"},{id:"1092",name:"Wolverhampton",state_id:"109",postal_code:"WV1"}],110:[{id:"1100",name:"Nottingham",state_id:"110",postal_code:"NG1"},{id:"1101",name:"Leicester",state_id:"110",postal_code:"LE1"},{id:"1102",name:"Derby",state_id:"110",postal_code:"DE1"}],111:[{id:"1110",name:"Leeds",state_id:"111",postal_code:"LS1"},{id:"1111",name:"Sheffield",state_id:"111",postal_code:"S1"},{id:"1112",name:"York",state_id:"111",postal_code:"YO1"},{id:"1113",name:"Bradford",state_id:"111",postal_code:"BD1"},{id:"1114",name:"Hull",state_id:"111",postal_code:"HU1"}],112:[{id:"1120",name:"Manchester",state_id:"112",postal_code:"M1"},{id:"1121",name:"Liverpool",state_id:"112",postal_code:"L1"},{id:"1122",name:"Chester",state_id:"112",postal_code:"CH1"},{id:"1123",name:"Preston",state_id:"112",postal_code:"PR1"},{id:"1124",name:"Blackpool",state_id:"112",postal_code:"FY1"}],113:[{id:"1130",name:"Newcastle upon Tyne",state_id:"113",postal_code:"NE1"},{id:"1131",name:"Sunderland",state_id:"113",postal_code:"SR1"},{id:"1132",name:"Durham",state_id:"113",postal_code:"DH1"}]};async function xa(){return{data:ba,error:null}}async function pe(s){return{data:ve[s]||[],error:null}}async function Z(s){return{data:we[s]||[],error:null}}async function rt(s,C,b,_){const M=ba.find(B=>s&&B.name.toLowerCase()===s.toLowerCase()||C&&B.code.toLowerCase()===C.toLowerCase());if(!M)return{countryId:null,stateId:null,cityId:null,error:null};const L=M.id;let W=null,J=null;if(b&&ve[L]){const B=ve[L].find(v=>v.name.toLowerCase()===b.toLowerCase());if(B&&(W=B.id,_&&we[W])){const v=we[W].find(Y=>Y.name.toLowerCase()===_.toLowerCase());v&&(J=v.id)}}return{countryId:L,stateId:W,cityId:J,error:null}}const st=({value:s,onChange:C,errors:b={},disabled:_=!1,required:M=!0,initialCountry:L,initialCountryCode:W,initialState:J,initialCity:B})=>{const[v,Y]=d.useState([]),[F,p]=d.useState([]),[T,g]=d.useState([]),[U,t]=d.useState(!0),[I,Q]=d.useState(!1),[ee,x]=d.useState(!1),[ae,q]=d.useState(null),[te,z]=d.useState(null),[oe,w]=d.useState(null),R=d.useRef(null),[ue,K]=d.useState(!1);d.useEffect(()=>{(async()=>{t(!0),q(null);const{data:l,error:y}=await xa();if(y){q(y),t(!1);return}const h=l||[];if(Y(h),t(!1),h.length===1&&!s.countryId){const n=h[0];C({...s,countryId:n.id,countryName:n.name,countryCode:n.code})}})()},[]),d.useEffect(()=>{(async()=>{if(v.length){if(s.countryId){const l=`${s.countryId}-${s.stateId||""}-${s.cityId||""}`;if(R.current===l)return;const y=v.find(h=>h.id===s.countryId);if(y){const{data:h}=await pe(s.countryId);if(h){p(h);let n=null;if(s.stateId){const S=await Z(s.stateId);S.data&&(n=S.data,g(n))}const m=h.find(S=>S.id===s.stateId),N=n==null?void 0:n.find(S=>S.id===s.cityId);(!s.countryName||s.stateId&&!s.stateName||s.cityId&&!s.cityName)&&C({...s,countryName:y.name,countryCode:y.code||s.countryCode,stateName:(m==null?void 0:m.name)||s.stateName||"",stateCode:(m==null?void 0:m.code)||s.stateCode||"",cityName:(N==null?void 0:N.name)||s.cityName||""}),R.current=l,K(!0)}}return}if((L||W)&&!s.countryId&&L&&!ue){const{countryId:l,stateId:y,cityId:h}=await rt(L,W,J,B);if(l){const n=v.find(m=>m.id===l);if(n){const{data:m}=await pe(l);if(m&&(p(m),y)){const{data:A}=await Z(y);A&&g(A)}const N=m==null?void 0:m.find(A=>A.id===y),$=y?(await Z(y)).data:null,S=$==null?void 0:$.find(A=>A.id===h);C({...s,countryId:l,countryName:n.name,countryCode:n.code,stateId:y||"",stateName:(N==null?void 0:N.name)||J||"",stateCode:(N==null?void 0:N.code)||"",cityId:h||"",cityName:(S==null?void 0:S.name)||B||""});const de=`${l}-${y||""}-${h||""}`;R.current=de}}K(!0)}else!s.countryId&&!L&&K(!0)}})()},[v.length,s.countryId,s.stateId,s.cityId]),d.useEffect(()=>{const c=async()=>{if(!s.countryId){p([]),g([]);return}if(v.length===0)return;if(v.find(m=>m.id===s.countryId)&&F.length>0){if(s.stateId&&T.length===0){const{data:m}=await Z(s.stateId);m&&g(m)}return}const y=`${s.countryId}-${s.stateId||""}-${s.cityId||""}`;if(R.current===y&&ue)return;Q(!0),z(null);const{data:h,error:n}=await pe(s.countryId);if(n){z(n),Q(!1);return}if(p(h||[]),Q(!1),s.stateId&&((h==null?void 0:h.length)??0)>0){const{data:m,error:N}=await Z(s.stateId);!N&&m&&g(m)}};v.length>0&&s.countryId&&c()},[s.countryId,v.length]),d.useEffect(()=>{let c=!0;const l=async()=>{if(!s.stateId){c&&(g([]),x(!1));return}if(T.length>0&&F.find(m=>m.id===s.stateId)||F.length===0||!F.find(n=>n.id===s.stateId))return;c&&(x(!0),w(null));const{data:y,error:h}=await Z(s.stateId);if(c){if(h){w(h),x(!1);return}c&&(g(y||[]),x(!1))}};return s.stateId&&F.length>0&&l(),()=>{c=!1}},[s.stateId,F.length]);const he=d.useCallback(c=>{const l=v.find(y=>y.id===c);C({...s,countryId:c,countryName:(l==null?void 0:l.name)||"",countryCode:(l==null?void 0:l.code)||"",stateId:"",stateName:"",stateCode:"",cityId:"",cityName:""}),p([]),g([])},[v,s,C]),ge=d.useCallback(c=>{const l=F.find(y=>y.id===c);g([]),C({...s,stateId:c,stateName:(l==null?void 0:l.name)||"",stateCode:(l==null?void 0:l.code)||"",cityId:"",cityName:""})},[F,s,C]),V=d.useCallback(c=>{const l=T.find(y=>y.id===c);C({...s,cityId:c,cityName:(l==null?void 0:l.name)||""})},[T,s,C]),j=d.useCallback((c,l)=>{C({...s,[c]:l})},[s,C]),ie=d.useCallback(c=>{const y=c.target.value.toUpperCase().replace(/[^A-Z0-9 ]/g,"");j("postalCode",y)},[j]),re=d.useCallback(async()=>{t(!0),q(null);const{data:c,error:l}=await xa();l?q(l):Y(c||[]),t(!1)},[]),ye=d.useCallback(async()=>{if(!s.countryId)return;Q(!0),z(null);const{data:c,error:l}=await pe(s.countryId);l?z(l):p(c||[]),Q(!1)},[s.countryId]),E=d.useCallback(async()=>{if(!s.stateId)return;x(!0),w(null);const{data:c,error:l}=await Z(s.stateId);l?w(l):g(c||[]),x(!1)},[s.stateId]),be=d.useMemo(()=>_||!s.countryId||I,[_,s.countryId,I]),ne=d.useMemo(()=>_||!s.stateId||ee,[_,s.stateId,ee]),le=(c,l,y,h,n,m,N,$,S,de,A)=>e.jsxs("div",{children:[e.jsxs("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[l," ",M&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:c,value:y,onChange:X=>n(X.target.value),disabled:N||m,className:`
            w-full px-3 py-2.5 pr-10 appearance-none
            border rounded-lg
            bg-white dark:bg-gray-800
            text-gray-900 dark:text-gray-100
            focus:ring-2 focus:ring-primary focus:border-primary
            disabled:bg-gray-100 dark:disabled:bg-gray-900
            disabled:text-gray-500 dark:disabled:text-gray-500
            disabled:cursor-not-allowed
            transition-colors duration-200
            ${A?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600"}
          `,children:[e.jsx("option",{value:"",children:m?"Loading...":de}),h.map(X=>e.jsx("option",{value:X.id,children:X.name},X.id))]}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none",children:m?e.jsx(ha,{className:"w-4 h-4 text-gray-400 animate-spin"}):e.jsx(Ca,{className:"w-4 h-4 text-gray-400"})})]}),$&&e.jsxs("div",{className:"mt-1 flex items-center gap-2 text-sm text-red-600 dark:text-red-400",children:[e.jsx(se,{className:"w-4 h-4"}),e.jsx("span",{children:$}),e.jsxs("button",{type:"button",onClick:S,className:"ml-2 flex items-center gap-1 text-primary hover:underline",children:[e.jsx($a,{className:"w-3 h-3"}),"Retry"]})]}),A&&!$&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:A})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsx(Ce,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Address Details"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[le("country","Country",s.countryId,v,he,U,_,ae,re,"Select Country",b.country),le("state","Region",s.stateId,F,ge,I,be,te,ye,s.countryId?"Select Region":"Select Country first",b.state),le("city","City",s.cityId,T,V,ee,ne,oe,E,s.stateId?"Select City":"Select State first",b.city)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"addressLine1",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Street Address ",M&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"addressLine1",type:"text",value:s.addressLine1,onChange:c=>j("addressLine1",c.target.value),disabled:_,placeholder:"Enter street address",className:`
              w-full px-3 py-2.5
              border rounded-lg
              bg-white dark:bg-gray-800
              text-gray-900 dark:text-gray-100
              placeholder-gray-400 dark:placeholder-gray-500
              focus:ring-2 focus:ring-primary focus:border-primary
              disabled:bg-gray-100 dark:disabled:bg-gray-900
              disabled:cursor-not-allowed
              transition-colors duration-200
              ${b.addressLine1?"border-red-500":"border-gray-300 dark:border-gray-600"}
            `}),b.addressLine1&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.addressLine1})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"addressLine2",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address Line 2"}),e.jsx("input",{id:"addressLine2",type:"text",value:s.addressLine2,onChange:c=>j("addressLine2",c.target.value),disabled:_,placeholder:"Apartment, suite, unit, etc. (optional)",className:`\r
              w-full px-3 py-2.5\r
              border border-gray-300 dark:border-gray-600 rounded-lg\r
              bg-white dark:bg-gray-800\r
              text-gray-900 dark:text-gray-100\r
              placeholder-gray-400 dark:placeholder-gray-500\r
              focus:ring-2 focus:ring-primary focus:border-primary\r
              disabled:bg-gray-100 dark:disabled:bg-gray-900\r
              disabled:cursor-not-allowed\r
              transition-colors duration-200\r
            `})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Postcode ",M&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"postalCode",type:"text",inputMode:"text",pattern:"[A-Za-z0-9 ]*",value:s.postalCode,onChange:ie,disabled:_,placeholder:"e.g. SW1A 1AA",className:`
              w-full px-3 py-2.5
              border rounded-lg
              bg-white dark:bg-gray-800
              text-gray-900 dark:text-gray-100
              placeholder-gray-400 dark:placeholder-gray-500
              focus:ring-2 focus:ring-primary focus:border-primary
              disabled:bg-gray-100 dark:disabled:bg-gray-900
              disabled:cursor-not-allowed
              transition-colors duration-200
              ${b.postalCode?"border-red-500":"border-gray-300 dark:border-gray-600"}
            `}),b.postalCode&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:b.postalCode})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"neighborhood",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Neighborhood"}),e.jsx("input",{id:"neighborhood",type:"text",value:s.neighborhood,onChange:c=>j("neighborhood",c.target.value),disabled:_,placeholder:"Enter neighborhood (optional)",className:`\r
              w-full px-3 py-2.5\r
              border border-gray-300 dark:border-gray-600 rounded-lg\r
              bg-white dark:bg-gray-800\r
              text-gray-900 dark:text-gray-100\r
              placeholder-gray-400 dark:placeholder-gray-500\r
              focus:ring-2 focus:ring-primary focus:border-primary\r
              disabled:bg-gray-100 dark:disabled:bg-gray-900\r
              disabled:cursor-not-allowed\r
              transition-colors duration-200\r
            `})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"landmark",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nearby Landmark"}),e.jsx("input",{id:"landmark",type:"text",value:s.landmark,onChange:c=>j("landmark",c.target.value),disabled:_,placeholder:"Enter nearby landmark (optional)",className:`\r
              w-full px-3 py-2.5\r
              border border-gray-300 dark:border-gray-600 rounded-lg\r
              bg-white dark:bg-gray-800\r
              text-gray-900 dark:text-gray-100\r
              placeholder-gray-400 dark:placeholder-gray-500\r
              focus:ring-2 focus:ring-primary focus:border-primary\r
              disabled:bg-gray-100 dark:disabled:bg-gray-900\r
              disabled:cursor-not-allowed\r
              transition-colors duration-200\r
            `})]})]}),s.countryId&&F.length===0&&!I&&!te&&e.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"No states/provinces available for selected country. You can enter the state name manually."]}),s.stateId&&T.length===0&&!ee&&!oe&&e.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-400 flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"No cities available for selected state. You can enter the city name manually."]})]})},pa=[{code:"GB",name:"United Kingdom",currency:"GBP"}],ot=[{value:"apartment",label:"Apartment",icon:e.jsx(D,{className:"w-5 h-5"})},{value:"house",label:"House",icon:e.jsx(P,{className:"w-5 h-5"})},{value:"condo",label:"Condo",icon:e.jsx(D,{className:"w-5 h-5"})},{value:"townhouse",label:"Townhouse",icon:e.jsx(P,{className:"w-5 h-5"})},{value:"villa",label:"Villa",icon:e.jsx(P,{className:"w-5 h-5"})},{value:"penthouse",label:"Penthouse",icon:e.jsx(D,{className:"w-5 h-5"})},{value:"studio",label:"Studio",icon:e.jsx(P,{className:"w-5 h-5"})},{value:"duplex",label:"Duplex",icon:e.jsx(P,{className:"w-5 h-5"})},{value:"land",label:"Land",icon:e.jsx(Ce,{className:"w-5 h-5"})},{value:"commercial",label:"Commercial",icon:e.jsx(D,{className:"w-5 h-5"})},{value:"industrial",label:"Industrial",icon:e.jsx(D,{className:"w-5 h-5"})},{value:"office",label:"Office",icon:e.jsx(D,{className:"w-5 h-5"})}],it=[{value:"sale",label:"For Sale"},{value:"rent",label:"For Rent"},{value:"lease",label:"For Lease"},{value:"short_term",label:"Short Term Rental"},{value:"vacation",label:"Vacation Rental"}],nt=[{value:"available",label:"Available",color:"bg-green-100 text-green-700"},{value:"pending",label:"Pending",color:"bg-yellow-100 text-yellow-700"},{value:"sold",label:"Sold",color:"bg-blue-100 text-blue-700"},{value:"rented",label:"Rented",color:"bg-purple-100 text-purple-700"},{value:"under_contract",label:"Under Contract",color:"bg-orange-100 text-orange-700"},{value:"off_market",label:"Off Market",color:"bg-gray-100 text-gray-700"},{value:"coming_soon",label:"Coming Soon",color:"bg-indigo-100 text-indigo-700"}],lt=[{value:"furnished",label:"Fully Furnished"},{value:"semi_furnished",label:"Semi Furnished"},{value:"unfurnished",label:"Unfurnished"}],dt=[{value:"new",label:"Brand New"},{value:"excellent",label:"Excellent"},{value:"good",label:"Good"},{value:"fair",label:"Fair"},{value:"needs_renovation",label:"Needs Renovation"}],ct=[{value:"north",label:"North"},{value:"south",label:"South"},{value:"east",label:"East"},{value:"west",label:"West"},{value:"northeast",label:"North East"},{value:"northwest",label:"North West"},{value:"southeast",label:"South East"},{value:"southwest",label:"South West"}],mt=[{value:"sqft",label:"Square Feet (sq ft)"},{value:"sqm",label:"Square Meters (sq m)"},{value:"acres",label:"Acres"},{value:"hectares",label:"Hectares"}],ut={interior:[{id:"ac",label:"Air Conditioning",icon:e.jsx(ya,{className:"w-4 h-4"})},{id:"heating",label:"Central Heating",icon:e.jsx(P,{className:"w-4 h-4"})},{id:"fireplace",label:"Fireplace",icon:e.jsx(P,{className:"w-4 h-4"})},{id:"walk_in_closet",label:"Walk-in Closet",icon:e.jsx(P,{className:"w-4 h-4"})},{id:"hardwood_floors",label:"Hardwood Floors",icon:e.jsx(P,{className:"w-4 h-4"})},{id:"high_ceiling",label:"High Ceilings",icon:e.jsx(P,{className:"w-4 h-4"})}],exterior:[{id:"balcony",label:"Balcony",icon:e.jsx(D,{className:"w-4 h-4"})},{id:"garden",label:"Garden",icon:e.jsx(ua,{className:"w-4 h-4"})},{id:"terrace",label:"Terrace",icon:e.jsx(D,{className:"w-4 h-4"})},{id:"patio",label:"Patio",icon:e.jsx(P,{className:"w-4 h-4"})},{id:"deck",label:"Deck",icon:e.jsx(P,{className:"w-4 h-4"})},{id:"rooftop",label:"Rooftop Access",icon:e.jsx(D,{className:"w-4 h-4"})}],community:[{id:"pool",label:"Swimming Pool",icon:e.jsx(ga,{className:"w-4 h-4"})},{id:"gym",label:"Gym / Fitness Center",icon:e.jsx(ke,{className:"w-4 h-4"})},{id:"clubhouse",label:"Clubhouse",icon:e.jsx(D,{className:"w-4 h-4"})},{id:"playground",label:"Playground",icon:e.jsx(ua,{className:"w-4 h-4"})},{id:"tennis_court",label:"Tennis Court",icon:e.jsx(ke,{className:"w-4 h-4"})},{id:"sports_facility",label:"Sports Facility",icon:e.jsx(ke,{className:"w-4 h-4"})}],security:[{id:"24hr_security",label:"24/7 Security",icon:e.jsx(fe,{className:"w-4 h-4"})},{id:"cctv",label:"CCTV Surveillance",icon:e.jsx(Ne,{className:"w-4 h-4"})},{id:"gated_community",label:"Gated Community",icon:e.jsx(fe,{className:"w-4 h-4"})},{id:"intercom",label:"Intercom System",icon:e.jsx(Ba,{className:"w-4 h-4"})},{id:"fire_alarm",label:"Fire Alarm",icon:e.jsx(se,{className:"w-4 h-4"})},{id:"smart_locks",label:"Smart Locks",icon:e.jsx(fe,{className:"w-4 h-4"})}],utilities:[{id:"wifi",label:"WiFi Included",icon:e.jsx(ya,{className:"w-4 h-4"})},{id:"cable_tv",label:"Cable TV",icon:e.jsx(je,{className:"w-4 h-4"})},{id:"water_supply",label:"24/7 Water Supply",icon:e.jsx(ga,{className:"w-4 h-4"})},{id:"power_backup",label:"Power Backup",icon:e.jsx(me,{className:"w-4 h-4"})},{id:"gas_pipeline",label:"Gas Pipeline",icon:e.jsx(me,{className:"w-4 h-4"})},{id:"waste_disposal",label:"Waste Disposal",icon:e.jsx(me,{className:"w-4 h-4"})}]},gt={title:"",propertyType:"apartment",listingType:"sale",status:"online",priceAmount:0,currency:"USD",negotiable:!1,addressLine1:"",addressLine2:"",city:"",cityId:"",state:"",stateId:"",stateCode:"",postalCode:"",country:"",countryCode:"",countryId:"",neighborhood:"",landmark:"",totalArea:0,carpetArea:0,areaUnit:"sqft",bedrooms:1,bathrooms:1,balconies:0,parkingSpaces:0,floors:1,floorNumber:0,totalFloors:1,yearBuilt:new Date().getFullYear(),furnishing:"unfurnished",condition:"good",facing:"north",amenities:{interior:[],exterior:[],community:[],security:[],utilities:[]},description:"",shortDescription:"",images:[],videos:[],virtualTourUrl:"",contactName:"",contactEmail:"",contactPhone:"",alternatePhone:"",preferredContactMethod:"any",company:"",licenseNumber:"",availableFrom:new Date().toISOString().split("T")[0],minimumLease:12,deposit:0,maintenanceCharges:0,inclusions:"",exclusions:"",featured:!1,published:!1,draft:!0};function It(){var Le;const s=_a(),{id:C}=Ia(),b=C,{addProperty:_,updateProperty:M,getProperty:L,formatPrice:W,formatArea:J,uploadImages:B,uploadVideos:v,fetchProperties:Y,loading:F}=Sa(),p=b?"edit":"create",T=p==="edit",[g,U]=d.useState(1),[t,I]=d.useState(gt),[Q,ee]=d.useState(null),[x,ae]=d.useState({}),[q,te]=d.useState([]),[z,oe]=d.useState([]),[w,R]=d.useState(!1),[ue,K]=d.useState(T),[he,ge]=d.useState(!1),[V,j]=d.useState(!1),ie=d.useRef(!1),[re,ye]=d.useState({id:"",message:"",type:"success",visible:!1}),E=d.useCallback((a,r="success")=>{ye({id:Date.now().toString(),message:a,type:r,visible:!0})},[]),be=d.useCallback(()=>{ye(a=>({...a,visible:!1}))},[]);d.useEffect(()=>{const a=r=>{if(V&&!w)return r.preventDefault(),r.returnValue="You have unsaved changes. Are you sure you want to leave?",r.returnValue};return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}},[V,w]),d.useCallback(a=>{V&&!w&&!window.confirm("You have unsaved changes. Are you sure you want to leave? Your changes will be lost.")||s(a)},[V,w,s]),d.useEffect(()=>{(async()=>{var i,u,f,k,G,O,ce,Ae,Fe,Te,Be,$e,De,Me,Ue,qe,Re,We,Ve,Ge,Oe,He,Ye,ze,Ke,Xe,Ze,Je,Qe,ea,aa,ta,ra,sa,oa,ia,na;if(!T||!b||ie.current)return;K(!0),ge(!1);let r=L(b);if(r||(await Y(),r=L(b)),!r){ge(!0),K(!1),E("Property not found. Please go back and try again.","error");return}const o={title:r.title||"",propertyType:r.propertyType||"apartment",listingType:r.listingType||"sale",status:r.status||"online",priceAmount:((i=r.price)==null?void 0:i.amount)||0,currency:((u=r.price)==null?void 0:u.currency)||"USD",negotiable:((f=r.price)==null?void 0:f.negotiable)||!1,addressLine1:((k=r.location)==null?void 0:k.addressLine1)||r.address||"",addressLine2:((G=r.location)==null?void 0:G.addressLine2)||"",city:((O=r.location)==null?void 0:O.city)||r.city||"",cityId:((ce=r.location)==null?void 0:ce.cityId)||"",state:((Ae=r.location)==null?void 0:Ae.state)||r.state||"",stateId:((Fe=r.location)==null?void 0:Fe.stateId)||"",stateCode:((Te=r.location)==null?void 0:Te.stateCode)||"",postalCode:((Be=r.location)==null?void 0:Be.postalCode)||r.zipCode||"",country:(($e=r.location)==null?void 0:$e.country)||"",countryCode:((De=r.location)==null?void 0:De.countryCode)||"",countryId:((Me=r.location)==null?void 0:Me.countryId)||"",neighborhood:((Ue=r.location)==null?void 0:Ue.neighborhood)||"",landmark:((qe=r.location)==null?void 0:qe.landmark)||"",totalArea:((Re=r.dimensions)==null?void 0:Re.totalArea)||r.area||0,carpetArea:((We=r.dimensions)==null?void 0:We.carpetArea)||0,areaUnit:((Ve=r.dimensions)==null?void 0:Ve.areaUnit)||"sqft",bedrooms:((Ge=r.rooms)==null?void 0:Ge.bedrooms)||r.bedrooms||1,bathrooms:((Oe=r.rooms)==null?void 0:Oe.bathrooms)||r.bathrooms||1,balconies:((He=r.rooms)==null?void 0:He.balconies)||0,parkingSpaces:((Ye=r.rooms)==null?void 0:Ye.parkingSpaces)||0,floors:((ze=r.dimensions)==null?void 0:ze.floors)||1,floorNumber:((Ke=r.dimensions)==null?void 0:Ke.floorNumber)||0,totalFloors:((Xe=r.dimensions)==null?void 0:Xe.totalFloors)||1,yearBuilt:r.yearBuilt||new Date().getFullYear(),furnishing:r.furnishing||"unfurnished",condition:r.condition||"good",facing:r.facing||"north",amenities:r.amenities||{interior:[],exterior:[],community:[],security:[],utilities:[]},description:r.description||"",shortDescription:r.shortDescription||"",images:r.images||[],videos:r.videos||[],virtualTourUrl:r.virtualTourUrl||((Ze=r.media)==null?void 0:Ze.virtualTourUrl)||"",contactName:((Je=r.contact)==null?void 0:Je.name)||r.contactName||"",contactEmail:((Qe=r.contact)==null?void 0:Qe.email)||r.emailAddress||"",contactPhone:((ea=r.contact)==null?void 0:ea.phone)||r.phoneNumber||"",alternatePhone:((aa=r.contact)==null?void 0:aa.alternatePhone)||"",preferredContactMethod:((ta=r.contact)==null?void 0:ta.preferredContactMethod)||"any",company:((ra=r.contact)==null?void 0:ra.company)||"",licenseNumber:((sa=r.contact)==null?void 0:sa.licenseNumber)||"",availableFrom:r.availableFrom||new Date().toISOString().split("T")[0],minimumLease:r.minimumLease||12,deposit:((oa=r.financial)==null?void 0:oa.deposit)||0,maintenanceCharges:((ia=r.financial)==null?void 0:ia.maintenanceCharges)||0,inclusions:r.inclusions||"",exclusions:r.exclusions||"",featured:r.featured||!1,published:r.published||!1,draft:r.draft??!0};if(I(o),ee(o),(na=r.images)!=null&&na.length){const va=r.images.filter(wa=>typeof wa=="string");te(va)}ie.current=!0,K(!1),j(!1)})()},[b,T,L,Y,E]);const ne=[{number:1,title:"Basic Info",icon:e.jsx(P,{className:"w-5 h-5"})},{number:2,title:"Location",icon:e.jsx(Ce,{className:"w-5 h-5"})},{number:3,title:"Property Details",icon:e.jsx(me,{className:"w-5 h-5"})},{number:4,title:"Media & Features",icon:e.jsx(Ne,{className:"w-5 h-5"})},{number:5,title:"Contact & Publish",icon:e.jsx(da,{className:"w-5 h-5"})}],le=a=>{var o,i,u,f,k,G,O,ce;const r={};return a===1?((o=t.title)!=null&&o.trim()||(r.title="Property title is required"),t.priceAmount<=0&&(r.priceAmount="Price is required")):a===2?((i=t.addressLine1)!=null&&i.trim()||(r.addressLine1="Street address is required"),t.countryId||(r.country="Country is required"),!t.stateId&&!((u=t.state)!=null&&u.trim())&&(r.state="State/Province is required"),!t.cityId&&!((f=t.city)!=null&&f.trim())&&(r.city="City is required"),(k=t.postalCode)!=null&&k.trim()||(r.postalCode="Postal code is required")):a===3?(t.totalArea<=0&&(r.totalArea="Area is required"),t.bedrooms<0&&(r.bedrooms="Invalid bedrooms"),t.bathrooms<0&&(r.bathrooms="Invalid bathrooms")):a===4?t.images.length===0&&q.length===0&&(r.images="At least one image is required"):a===5&&((G=t.contactName)!=null&&G.trim()||(r.contactName="Contact name is required"),(O=t.contactPhone)!=null&&O.trim()||(r.contactPhone="Phone number is required"),(ce=t.contactEmail)!=null&&ce.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.contactEmail)||(r.contactEmail="Please enter a valid email"):r.contactEmail="Email is required"),ae(r),Object.keys(r).length===0},c=()=>{p==="create"?le(g)&&g<5&&U(g+1):g<5&&U(g+1)},l=()=>{g>1&&U(g-1)},y=()=>{var r,o,i,u,f,k,G,O;const a={};return(r=t.title)!=null&&r.trim()||(a.title="Property title is required"),t.priceAmount<=0&&(a.priceAmount="Price is required"),(o=t.addressLine1)!=null&&o.trim()||(a.addressLine1="Street address is required"),t.countryId||(a.country="Country is required"),!t.stateId&&!((i=t.state)!=null&&i.trim())&&(a.state="State/Province is required"),!t.cityId&&!((u=t.city)!=null&&u.trim())&&(a.city="City is required"),(f=t.postalCode)!=null&&f.trim()||(a.postalCode="Postal code is required"),t.totalArea<=0&&(a.totalArea="Area is required"),t.images.length===0&&q.length===0&&(a.images="At least one image is required"),(k=t.contactName)!=null&&k.trim()||(a.contactName="Contact name is required"),(G=t.contactPhone)!=null&&G.trim()||(a.contactPhone="Phone number is required"),(O=t.contactEmail)!=null&&O.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.contactEmail)||(a.contactEmail="Please enter a valid email"):a.contactEmail="Email is required",a},h=a=>a.title||a.priceAmount?1:a.addressLine1||a.country||a.state||a.city||a.postalCode?2:a.totalArea?3:a.images?4:a.contactName||a.contactPhone||a.contactEmail?5:1,n=(a,r)=>{I(o=>({...o,[a]:r})),j(!0),x[a]&&ae(o=>{const i={...o};return delete i[a],i})},m=(a,r,o=0)=>{if(r===""||r===null||r===void 0)n(a,o);else{const i=parseFloat(r);!isNaN(i)&&i>=0&&n(a,i)}},N=a=>a==null||a===0?"":a.toString(),$=a=>{(p==="edit"||a<g)&&U(a)},S=a=>{const r=pa.find(o=>o.code===a);r&&(I(o=>({...o,country:r.name,countryCode:r.code,currency:r.currency})),j(!0))},de=(a,r)=>{I(o=>{const i=o.amenities[a]||[],u=i.includes(r)?i.filter(f=>f!==r):[...i,r];return{...o,amenities:{...o.amenities,[a]:u}}}),j(!0)},A=a=>{Array.from(a.target.files||[]).forEach(o=>{if(o.size>10*1024*1024){E(`${o.name} is too large. Maximum size is 10MB.`,"error");return}const i=new FileReader;i.onload=u=>{var f;(f=u.target)!=null&&f.result&&(te(k=>[...k,u.target.result]),I(k=>({...k,images:[...k.images,o]})),j(!0))},i.readAsDataURL(o)})},X=a=>{Array.from(a.target.files||[]).forEach(o=>{if(o.size>50*1024*1024){E(`${o.name} is too large. Maximum size is 50MB.`,"error");return}const i=new FileReader;i.onload=u=>{var f;(f=u.target)!=null&&f.result&&(oe(k=>[...k,u.target.result]),I(k=>({...k,videos:[...k.videos,o]})),j(!0))},i.readAsDataURL(o)})},fa=a=>{te(r=>r.filter((o,i)=>i!==a)),I(r=>({...r,images:r.images.filter((o,i)=>i!==a)})),j(!0)},ka=a=>{oe(r=>r.filter((o,i)=>i!==a)),I(r=>({...r,videos:r.videos.filter((o,i)=>i!==a)})),j(!0)},Na=async a=>{const r=[],o=[];for(const u of a)typeof u=="string"?r.push(u):o.push(u);let i=[];if(o.length>0)try{i=await B(o),i.length===0&&o.length>0&&(i=o.map((u,f)=>`https://images.unsplash.com/photo-${15e11+f}?auto=format&fit=crop&q=80`))}catch(u){console.error("Failed to upload images:",u),i=o.map((f,k)=>`https://images.unsplash.com/photo-${15e11+k}?auto=format&fit=crop&q=80`)}return[...r,...i]},ja=async a=>{const r=[],o=[];for(const u of a)typeof u=="string"?r.push(u):o.push(u);let i=[];if(o.length>0)try{i=await v(o),i.length===0&&o.length>0&&(i=o.map((u,f)=>`https://example.com/video-${15e11+f}.mp4`))}catch(u){console.error("Failed to upload videos:",u),i=o.map((f,k)=>`https://example.com/video-${15e11+k}.mp4`)}return[...r,...i]},_e=async()=>{const a=await Na(t.images),r=await ja(t.videos);return{title:t.title,propertyType:t.propertyType,listingType:t.listingType,status:t.status,description:t.description,shortDescription:t.shortDescription,location:{addressLine1:t.addressLine1,addressLine2:t.addressLine2,city:t.city,cityId:t.cityId,state:t.state,stateId:t.stateId,stateCode:t.stateCode,postalCode:t.postalCode,country:t.country,countryCode:t.countryCode,countryId:t.countryId,neighborhood:t.neighborhood,landmark:t.landmark},address:t.addressLine1,city:t.city,state:t.state,zipCode:t.postalCode,price:{amount:t.priceAmount,currency:t.currency,negotiable:t.negotiable},priceString:`${t.currency} ${t.priceAmount.toLocaleString()}`,dimensions:{totalArea:t.totalArea,carpetArea:t.carpetArea,areaUnit:t.areaUnit,floors:t.floors,floorNumber:t.floorNumber,totalFloors:t.totalFloors},rooms:{bedrooms:t.bedrooms,bathrooms:t.bathrooms,balconies:t.balconies,parkingSpaces:t.parkingSpaces},bedrooms:t.bedrooms,bathrooms:t.bathrooms,area:t.totalArea,yearBuilt:t.yearBuilt,furnishing:t.furnishing,condition:t.condition,facing:t.facing,amenities:t.amenities,features:[...t.amenities.interior,...t.amenities.exterior,...t.amenities.community,...t.amenities.security,...t.amenities.utilities],images:a,videos:r,virtualTourUrl:t.virtualTourUrl,media:{images:a.map((o,i)=>({id:`img-${i}`,url:o,type:"image",isPrimary:i===0,order:i,uploadedAt:new Date().toISOString()})),videos:r.map((o,i)=>({id:`vid-${i}`,url:o,type:"video",order:i,uploadedAt:new Date().toISOString()})),floorPlans:[],virtualTourUrl:t.virtualTourUrl},contact:{name:t.contactName,email:t.contactEmail,phone:t.contactPhone,alternatePhone:t.alternatePhone,preferredContactMethod:t.preferredContactMethod,company:t.company,licenseNumber:t.licenseNumber},contactName:t.contactName,phoneNumber:t.contactPhone,emailAddress:t.contactEmail,availableFrom:t.availableFrom,minimumLease:t.minimumLease,inclusions:t.inclusions,exclusions:t.exclusions,financial:{deposit:t.deposit,maintenanceCharges:t.maintenanceCharges,maintenanceFrequency:"monthly"},featured:t.featured}},Ie=async()=>{var a;if(!((a=t.title)!=null&&a.trim())){ae({title:"Property title is required to save draft"}),U(1),E("Please enter a property title to save as draft.","error");return}R(!0);try{const r=await _e();if(p==="edit"&&b){if(!await M(b,{...r,draft:!0,published:!1}))throw new Error("Failed to save property")}else if(!await _({...r,draft:!0,published:!1}))throw new Error("Failed to save property");j(!1),E("Property saved as draft successfully!","success"),setTimeout(()=>s("/manager/dashboard/properties"),1500)}catch(r){console.error("Error saving draft:",r),E(`Failed to save draft: ${(r==null?void 0:r.message)||"Unknown error"}`,"error")}finally{R(!1)}},Se=async()=>{const a=y();if(Object.keys(a).length>0){ae(a);const r=h(a);U(r),E(p==="edit"?"Please fill in all required fields before saving.":"Please fill in all required fields before publishing.","error");return}R(!0);try{const r=await _e();if(p==="edit"&&b){if(!await M(b,{...r,published:!0,draft:!1}))throw new Error("Failed to save property");j(!1),E("Property saved successfully!","success")}else{if(!await _({...r,published:!0,draft:!1}))throw new Error("Failed to publish property");j(!1),E("Property published successfully!","success")}setTimeout(()=>s("/manager/dashboard/properties"),1500)}catch(r){console.error("Error saving/publishing property:",r),E(`Failed to ${p==="edit"?"save":"publish"} property: ${(r==null?void 0:r.message)||"Unknown error"}`,"error")}finally{R(!1)}};if(ue)return e.jsx("div",{className:"max-w-6xl mx-auto font-sans pb-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsx(ha,{className:"w-12 h-12 text-primary animate-spin"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Loading property details..."})]})})});if(he&&T)return e.jsx("div",{className:"max-w-6xl mx-auto font-sans pb-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[e.jsx(se,{className:"w-12 h-12 text-red-500"}),e.jsx("p",{className:"text-lg text-gray-800 dark:text-white font-medium",children:"Property Not Found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-center max-w-md",children:"The property you're trying to edit could not be found. It may have been deleted or you may not have access to it."}),e.jsx("button",{onClick:()=>s("/manager/dashboard/properties"),className:"mt-4 px-6 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg transition-colors",children:"Back to Properties"})]})})});const Pe=p==="edit"?w?"Saving...":"Save Property":w?"Publishing...":"Publish Property",Ee=p==="edit"?e.jsx(Ga,{className:"w-4 h-4"}):null;return e.jsxs("div",{className:"max-w-6xl mx-auto font-sans pb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>{V&&!w&&!window.confirm("You have unsaved changes. Are you sure you want to leave? Your changes will be lost.")||s(-1)},className:"flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:[e.jsx(Da,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:p==="edit"?"Edit Property":"Add New Property"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:p==="edit"?"Update your property listing":"Create a new property listing with all the details"}),V&&e.jsxs("p",{className:"text-amber-600 dark:text-amber-400 text-sm mt-1 flex items-center gap-1",children:[e.jsx(se,{className:"w-4 h-4"}),"You have unsaved changes"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:Ie,disabled:w,className:"px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors disabled:opacity-50",children:w?"Saving...":"Save Draft"}),e.jsxs("button",{onClick:Se,disabled:w,className:"px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:[t.featured&&e.jsx(xe,{className:"w-4 h-4"}),Ee,Pe]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"flex items-center justify-between overflow-x-auto pb-2",children:ne.map((a,r)=>{const o=g===a.number,i=g>a.number,u=p==="edit"?!0:i||o;return e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0",children:[e.jsx("button",{onClick:()=>u&&$(a.number),disabled:!u,title:p==="edit"||u?a.title:"Complete previous steps first",className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold text-sm transition-all ${o?"bg-primary text-white shadow-lg ring-4 ring-primary/20":i||p==="edit"?"bg-primary/80 text-white shadow-md cursor-pointer hover:scale-110 hover:bg-primary":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:i&&p==="create"?e.jsx(la,{className:"w-5 h-5"}):a.icon}),e.jsx("span",{className:`mt-2 text-xs font-medium text-center hidden md:block ${o||i||p==="edit"?"text-primary":"text-gray-500 dark:text-gray-400"}`,children:a.title})]}),r<ne.length-1&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded hidden sm:block ${i||p==="edit"&&a.number<5?"bg-primary":"bg-gray-200 dark:bg-gray-700"}`})]},a.number)})}),p==="edit"&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:'You can navigate to any tab. Changes will be saved when you click "Save Property".'})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[g===1&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-primary"}),"Basic Property Information"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Title *"}),e.jsx("input",{type:"text",value:t.title,onChange:a=>n("title",a.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white placeholder-gray-500 ${x.title?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"e.g., Luxurious 3BR Apartment with Ocean View"}),x.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.title})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Type *"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:ot.map(a=>e.jsxs("button",{type:"button",onClick:()=>n("propertyType",a.value),className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all ${t.propertyType===a.value?"border-primary bg-primary/10 text-primary":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[a.icon,e.jsx("span",{className:"text-sm font-medium",children:a.label})]},a.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Listing Type *"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:it.map(a=>e.jsx("button",{type:"button",onClick:()=>n("listingType",a.value),className:`px-4 py-2 rounded-lg border transition-all ${t.listingType===a.value?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300 dark:hover:border-gray-600"}`,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status *"}),e.jsx("select",{value:t.status,onChange:a=>n("status",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:nt.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(Ma,{className:"w-5 h-5 text-primary"}),"Pricing"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country"}),e.jsx("select",{value:t.countryCode,onChange:a=>S(a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:pa.map(a=>e.jsxs("option",{value:a.code,children:[a.name," (",a.currency,")"]},a.code))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-500",children:t.currency}),e.jsx("input",{type:"number",value:t.priceAmount||"",onChange:a=>n("priceAmount",parseFloat(a.target.value)||0),className:`w-full pl-16 pr-10 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600 ${x.priceAmount?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"0"})]}),x.priceAmount&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.priceAmount})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.negotiable,onChange:a=>n("negotiable",a.target.checked),className:"w-5 h-5 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary transition-all"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Price is Negotiable"})]})})]}),e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.featured,onChange:a=>n("featured",a.target.checked),className:"w-5 h-5 rounded border-yellow-400 text-yellow-600 focus:ring-yellow-500"}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4"}),"Mark as Featured Property"]}),e.jsx("p",{className:"text-xs text-yellow-600 dark:text-yellow-300 mt-1",children:"Featured properties get more visibility and appear at the top of search results"})]})]})})]})]}),g===2&&e.jsx("div",{className:"space-y-6",children:e.jsx(st,{value:{countryId:t.countryId||"",countryName:t.country||"",countryCode:t.countryCode||"",stateId:t.stateId||"",stateName:t.state||"",stateCode:t.stateCode||"",cityId:t.cityId||"",cityName:t.city||"",addressLine1:t.addressLine1||"",addressLine2:t.addressLine2||"",postalCode:t.postalCode||"",neighborhood:t.neighborhood||"",landmark:t.landmark||""},onChange:a=>{I(r=>({...r,countryId:a.countryId,country:a.countryName,countryCode:a.countryCode,stateId:a.stateId,state:a.stateName,stateCode:a.stateCode,cityId:a.cityId,city:a.cityName,addressLine1:a.addressLine1,addressLine2:a.addressLine2,postalCode:a.postalCode,neighborhood:a.neighborhood,landmark:a.landmark})),(ie.current||p==="create")&&j(!0)},errors:x,disabled:w,required:!0,initialCountry:t.country,initialCountryCode:t.countryCode,initialState:t.state,initialCity:t.city},`address-${b||"new"}-${t.countryId||""}-${t.stateId||""}-${t.cityId||""}`)}),g===3&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(Ua,{className:"w-5 h-5 text-primary"}),"Area & Dimensions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Area *"}),e.jsx("input",{type:"number",value:t.totalArea||"",onChange:a=>n("totalArea",parseFloat(a.target.value)||0),className:`w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600 ${x.totalArea?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"0"}),x.totalArea&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.totalArea})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Carpet Area"}),e.jsx("input",{type:"number",value:t.carpetArea||"",onChange:a=>n("carpetArea",parseFloat(a.target.value)||0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Area Unit"}),e.jsx("select",{value:t.areaUnit,onChange:a=>n("areaUnit",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:mt.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year Built"}),e.jsx("input",{type:"number",min:"1800",max:new Date().getFullYear(),value:t.yearBuilt||"",onChange:a=>n("yearBuilt",parseInt(a.target.value)||0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(ma,{className:"w-5 h-5 text-primary"}),"Rooms & Spaces"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(ma,{className:"w-4 h-4 inline mr-1"})," Bedrooms *"]}),e.jsx("input",{type:"number",min:"0",value:N(t.bedrooms),onChange:a=>m("bedrooms",a.target.value,0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(qa,{className:"w-4 h-4 inline mr-1"})," Bathrooms *"]}),e.jsx("input",{type:"number",min:"0",value:N(t.bathrooms),onChange:a=>m("bathrooms",a.target.value,0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Balconies"}),e.jsx("input",{type:"number",min:"0",value:N(t.balconies),onChange:a=>m("balconies",a.target.value,0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ra,{className:"w-4 h-4 inline mr-1"})," Parking Spaces"]}),e.jsx("input",{type:"number",min:"0",value:N(t.parkingSpaces),onChange:a=>m("parkingSpaces",a.target.value,0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Floor Number"}),e.jsx("input",{type:"number",min:"0",value:N(t.floorNumber),onChange:a=>m("floorNumber",a.target.value,0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Total Floors"}),e.jsx("input",{type:"number",min:"1",value:N(t.totalFloors),onChange:a=>m("totalFloors",a.target.value,1),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Facing Direction"}),e.jsx("select",{value:t.facing,onChange:a=>n("facing",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:ct.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5 text-primary"}),"Condition & Furnishing"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Furnishing Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:lt.map(a=>e.jsx("button",{type:"button",onClick:()=>n("furnishing",a.value),className:`px-4 py-2 rounded-lg border transition-all ${t.furnishing===a.value?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300"}`,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Property Condition"}),e.jsx("select",{value:t.condition,onChange:a=>n("condition",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",children:dt.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(da,{className:"w-5 h-5 text-primary"}),"Description"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Short Description (for cards)"}),e.jsx("input",{type:"text",value:t.shortDescription,onChange:a=>n("shortDescription",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"A brief summary of the property (max 150 chars)",maxLength:150})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Description"}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 p-2 flex gap-2 flex-wrap bg-gray-50 dark:bg-gray-800",children:[e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:e.jsx(Ha,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:e.jsx(Ka,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:e.jsx(et,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:e.jsx(Wa,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded",children:e.jsx(Za,{className:"w-4 h-4"})})]}),e.jsx("textarea",{value:t.description,onChange:a=>n("description",a.target.value),className:"w-full p-4 min-h-[200px] focus:outline-none focus:ring-2 focus:ring-primary bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Enter a detailed property description..."})]})]})]})]})]}),g===4&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-5 h-5 text-primary"}),"Property Images"]}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center hover:border-primary transition-colors flex flex-col items-center w-full",children:[e.jsx("input",{type:"file",id:"image-upload",multiple:!0,accept:"image/png,image/jpg,image/jpeg,image/webp",onChange:A,className:"hidden"}),e.jsx(Va,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Click to upload images"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PNG, JPG, JPEG, WEBP up to 10MB each"})]}),x.images&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.images}),q.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:q.map((a,r)=>e.jsxs("div",{className:"relative group rounded-lg overflow-hidden",children:[e.jsx("img",{src:a,alt:`Preview ${r+1}`,className:"w-full h-32 object-cover"}),r===0&&e.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-primary text-white text-xs rounded",children:"Primary"}),e.jsx("button",{type:"button",onClick:()=>fa(r),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ca,{className:"w-4 h-4"})})]},r))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(je,{className:"w-5 h-5 text-primary"}),"Property Videos"]}),e.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center hover:border-primary transition-colors flex flex-col items-center w-full",children:[e.jsx("input",{type:"file",id:"video-upload",multiple:!0,accept:"video/mp4,video/mov,video/avi",onChange:X,className:"hidden"}),e.jsx(je,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium mb-1",children:"Click to upload videos"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"MP4, MOV, AVI up to 50MB each"})]}),z.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:z.map((a,r)=>e.jsxs("div",{className:"relative group rounded-lg overflow-hidden",children:[e.jsx("video",{src:a,className:"w-full h-48 object-cover",controls:!0}),e.jsx("button",{type:"button",onClick:()=>ka(r),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ca,{className:"w-4 h-4"})})]},r))})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(Pa,{className:"w-5 h-5 text-primary"}),"Virtual Tour"]}),e.jsx("input",{type:"url",value:t.virtualTourUrl,onChange:a=>n("virtualTourUrl",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"https://your-virtual-tour-url.com"})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-primary"}),"Amenities & Features"]}),Object.entries(ut).map(([a,r])=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 capitalize",children:[a.replace("_"," ")," Features"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{var i;return e.jsxs("button",{type:"button",onClick:()=>de(a,o.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${(i=t.amenities[a])!=null&&i.includes(o.id)?"border-primary bg-primary text-white":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300"}`,children:[o.icon,o.label]},o.id)})})]},a))]})]}),g===5&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(Ea,{className:"w-5 h-5 text-primary"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Name *"}),e.jsx("input",{type:"text",value:t.contactName,onChange:a=>n("contactName",a.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${x.contactName?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter contact name"}),x.contactName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.contactName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:t.contactEmail,onChange:a=>n("contactEmail",a.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${x.contactEmail?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"Enter email address"}),x.contactEmail&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.contactEmail})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:t.contactPhone,onChange:a=>n("contactPhone",a.target.value),className:`w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white ${x.contactPhone?"border-red-500":"border-gray-200 dark:border-gray-700"}`,placeholder:"+1 (555) 000-0000"}),x.contactPhone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:x.contactPhone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Alternate Phone"}),e.jsx("input",{type:"tel",value:t.alternatePhone,onChange:a=>n("alternatePhone",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"+1 (555) 000-0000 (optional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Company Name"}),e.jsx("input",{type:"text",value:t.company,onChange:a=>n("company",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Real estate agency (optional)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"License Number"}),e.jsx("input",{type:"text",value:t.licenseNumber,onChange:a=>n("licenseNumber",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"Agent license number (optional)"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(La,{className:"w-5 h-5 text-primary"}),"Availability & Terms"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Available From"}),e.jsx("input",{type:"date",value:t.availableFrom,onChange:a=>n("availableFrom",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white"})]}),(t.listingType==="rent"||t.listingType==="lease")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Lease (months)"}),e.jsx("input",{type:"number",min:"1",value:t.minimumLease,onChange:a=>n("minimumLease",parseInt(a.target.value)||1),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Security Deposit (",t.currency,")"]}),e.jsx("input",{type:"number",min:"0",value:t.deposit||"",onChange:a=>n("deposit",parseFloat(a.target.value)||0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Maintenance Charges (",t.currency,"/month)"]}),e.jsx("input",{type:"number",min:"0",value:t.maintenanceCharges||"",onChange:a=>n("maintenanceCharges",parseFloat(a.target.value)||0),className:"w-full px-4 py-3 pr-10 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white transition-all hover:border-gray-300 dark:hover:border-gray-600",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Inclusions"}),e.jsx("input",{type:"text",value:t.inclusions,onChange:a=>n("inclusions",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"e.g., Appliances, furniture, utilities"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Exclusions"}),e.jsx("input",{type:"text",value:t.exclusions,onChange:a=>n("exclusions",a.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-gray-900 dark:text-white",placeholder:"e.g., Parking fees, utility bills"})]})]})]}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/40 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(la,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium text-lg",children:p==="edit"?"Ready to Save!":"Ready to Publish!"}),e.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm mt-1",children:p==="edit"?'Review your changes and click "Save Property" to update the listing. You can also save as draft if the listing is not ready.':"Your property listing is complete. Review the details and publish when ready. You can also save as draft and publish later."})]})]})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{type:"button",onClick:l,disabled:g===1,className:`px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-lg flex items-center justify-center gap-2 transition-all ${g===1?"opacity-50 cursor-not-allowed":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx(Aa,{className:"w-5 h-5"}),"Previous"]}),g<5?e.jsxs("button",{type:"button",onClick:c,className:"px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg flex items-center justify-center gap-2 transition-all shadow-lg",children:["Next: ",(Le=ne[g])==null?void 0:Le.title,e.jsx(Fa,{className:"w-5 h-5"})]}):e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:Ie,disabled:w,className:"px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all disabled:opacity-50",children:"Save as Draft"}),e.jsxs("button",{type:"button",onClick:Se,disabled:w,className:"px-6 py-3 bg-primary hover:bg-primary/90 text-white rounded-lg transition-all shadow-lg disabled:opacity-50 flex items-center gap-2",children:[t.featured&&e.jsx(xe,{className:"w-4 h-4"}),Ee,Pe]})]})]})]}),e.jsx(Ta,{id:re.id,message:re.message,type:re.type,isVisible:re.visible,onClose:be,duration:3e3})]})}export{It as default};
//# sourceMappingURL=page-Cz2yEb1x.js.map
