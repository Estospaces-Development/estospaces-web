import{a5 as k,a6 as z,u as D,r as s,ap as b,j as e,f as y,k as T,q as B,C as R,S as $,H as E,F as L,e as F}from"./index-D9fuy-ar.js";import{A as _}from"./arrow-left-BaPK0xsr.js";import{T as H}from"./trending-up-Cau2qQQ4.js";import{A as I}from"./arrow-up-right-DJZ5SZ9c.js";import{C as U}from"./clock-D-pnzsNv.js";import{D as G}from"./download-CwJzrRjy.js";import{P as M}from"./plus-wruqDZww.js";import{T as Q}from"./trash-2-cfMB4hgX.js";import{B as f}from"./building-HY8bZul1.js";import{S as d}from"./sparkles-Cyn_GT87.js";const w=()=>z("payment");async function V(){return k(`${w()}/api/v1/payments`)}async function W(){return k(`${w()}/api/v1/invoices`)}const j={getPayments:V,getInvoices:W};function ce(){const o=D(),[l,m]=s.useState("overview"),[Y,J]=s.useState(""),[N,v]=s.useState("all"),[n,S]=s.useState([]),[K,C]=s.useState([]),[O,h]=s.useState(!0),p=s.useCallback(async()=>{h(!0);try{const[t,a]=await Promise.all([j.getPayments(),j.getInvoices()]);t.data&&S(t.data),a.data&&C(a.data)}catch(t){console.error("[Payments] Error fetching data:",t)}finally{h(!1)}},[]);b.useEffect(()=>{p()},[p]);const x=n.filter(t=>t.status==="pending").sort((t,a)=>new Date(t.created_at).getTime()-new Date(a.created_at).getTime()),c=x[0],P=n.filter(t=>t.status==="completed").reduce((t,a)=>t+a.amount,0),A=x.reduce((t,a)=>t+a.amount,0),r=t=>{const a={deposit:{label:"Deposit",icon:y,color:"text-purple-600 bg-purple-100 dark:bg-purple-900/20"},rent:{label:"Rent",icon:E,color:"text-blue-600 bg-blue-100 dark:bg-blue-900/20"},service_fee:{label:"Service Fee",icon:L,color:"text-gray-600 bg-gray-100 dark:bg-gray-800/50"},electric:{label:"Electric Bill",icon:d,color:"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20"},water:{label:"Water Bill",icon:d,color:"text-cyan-600 bg-cyan-100 dark:bg-cyan-900/20"},gas:{label:"Gas Bill",icon:d,color:"text-orange-600 bg-orange-100 dark:bg-orange-900/20"},internet:{label:"Internet",icon:d,color:"text-indigo-600 bg-indigo-100 dark:bg-indigo-900/20"},council_tax:{label:"Council Tax",icon:f,color:"text-red-600 bg-red-100 dark:bg-red-900/20"}},g=t.toLowerCase();return g.includes("rent")?a.rent:g.includes("deposit")?a.deposit:g.includes("electric")?a.electric:a[t]||{label:"Payment",icon:F,color:"text-gray-600 bg-gray-100 dark:bg-gray-800/50"}},i=t=>`£${t.toLocaleString("en-GB")}`,u=t=>t?new Date(t).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A";return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("button",{onClick:()=>o("/user/dashboard"),className:"mb-6 flex items-center gap-2 text-gray-400 hover:text-orange-500 transition-all group",children:[e.jsx("div",{className:"p-2 rounded-xl group-hover:bg-orange-50 dark:group-hover:bg-orange-900/20 transition-all",children:e.jsx(_,{size:18})}),e.jsx("span",{className:"font-bold text-sm",children:"Dashboard"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white tracking-tight",children:"Payments"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 font-medium",children:"Manage your rent, deposits, and monthly utility bills"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"px-5 py-3 bg-white dark:bg-gray-800 rounded-2xl shadow-sm flex items-center gap-3",children:[e.jsx(y,{size:20,className:"text-green-500"}),e.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest",children:"Bank Grade Security"})]})})]}),e.jsx("div",{className:"flex gap-2 mt-10 overflow-x-auto pb-4 scrollbar-hide",children:["overview","history","methods"].map(t=>e.jsx("button",{onClick:()=>m(t),className:`px-8 py-3.5 rounded-2xl font-bold text-sm capitalize transition-all ${l===t?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 shadow-xl":"bg-white dark:bg-gray-800 text-gray-500"}`,children:t},t))})]}),l==="overview"&&e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl shadow-gray-200/50 dark:shadow-none group hover:scale-[1.02] transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-2xl text-green-600",children:e.jsx(H,{size:28})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Total Paid"}),e.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white",children:i(P)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-green-500 font-bold text-sm",children:[e.jsx(I,{size:16}),e.jsx("span",{children:"100% of bills cleared"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl shadow-gray-200/50 dark:shadow-none group hover:scale-[1.02] transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-2xl text-orange-500",children:e.jsx(U,{size:28})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs font-black text-gray-400 uppercase tracking-widest mb-1",children:"Due Soon"}),e.jsx("h3",{className:"text-3xl font-black text-orange-500",children:i(A)})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-orange-500 font-bold text-sm",children:[e.jsx(T,{size:16}),e.jsxs("span",{children:[x.length," upcoming"]})]})]}),c?e.jsxs("div",{className:"bg-gray-900 dark:bg-white rounded-3xl p-8 shadow-2xl overflow-hidden relative group hover:scale-[1.02] transition-all",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 dark:bg-gray-900/5 rounded-full -mr-16 -mt-16 animate-pulse"}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] mb-2",children:"Next Scheduled"}),e.jsx("h3",{className:"text-2xl font-black text-white dark:text-gray-900",children:i(c.amount)}),e.jsxs("p",{className:"text-gray-400 dark:text-gray-500 text-sm font-bold mt-1",children:[r(c.description||"").label," • ",u(c.created_at)]})]}),e.jsxs("button",{className:"w-full mt-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-black rounded-xl shadow-lg shadow-orange-500/30 transition-all flex items-center justify-center gap-2",children:["Pay Early ",e.jsx(B,{size:18})]})]})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-50 dark:bg-green-900/20 rounded-full flex items-center justify-center text-green-500 mb-3",children:e.jsx(R,{size:24})}),e.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:"All caught up!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming payments"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-xl shadow-gray-200/50 dark:shadow-none overflow-hidden",children:[e.jsxs("div",{className:"px-10 py-8 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white tracking-tight",children:"Recent Activity"}),e.jsxs("button",{onClick:()=>m("history"),className:"text-sm font-bold text-orange-500 hover:text-orange-600 flex items-center gap-2",children:["Full History ",e.jsx(q,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"divide-y dark:divide-gray-700",children:n.map(t=>{const a=r(t.description||"");return e.jsxs("div",{className:"px-10 py-6 flex items-center gap-6 hover:bg-gray-50/50 dark:hover:bg-gray-900/30 transition-all",children:[e.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center flex-shrink-0 ${a.color}`,children:e.jsx(a.icon,{size:24})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white truncate",children:a.label}),e.jsx("p",{className:"text-sm text-gray-500 font-medium truncate",children:t.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-black text-gray-900 dark:text-white",children:i(t.amount)}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mt-1",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t.status==="completed"?"bg-green-500":"bg-orange-500"}`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${t.status==="completed"?"text-green-600":"text-orange-600"}`,children:t.status==="completed"?"Completed":"Upcoming"})]})]})]},t.id)})})]})]}),l==="history"&&e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden",children:[e.jsxs("div",{className:"px-8 py-6 flex flex-col md:flex-row md:items-center justify-between gap-4 bg-gray-50/50 dark:bg-gray-900/20",children:[e.jsx("div",{className:"flex gap-2",children:["all","rent","utilities"].map(t=>e.jsx("button",{onClick:()=>v(t),className:`px-5 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${N===t?"bg-orange-500 text-white shadow-lg":"bg-white dark:bg-gray-700 text-gray-500 dark:text-gray-400 shadow-sm"}`,children:t},t))}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search ref or property...",className:"w-full md:w-64 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-xl pl-12 pr-4 py-2.5 outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm text-gray-900 dark:text-white transition-all shadow-sm"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Payment For"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Date"}),e.jsx("th",{className:"px-8 py-5 text-left text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Reference"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Amount"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Status"}),e.jsx("th",{className:"px-8 py-5 text-right text-[10px] font-black uppercase tracking-widest text-gray-400",children:"Receipt"})]})}),e.jsx("tbody",{className:"divide-y dark:divide-gray-700",children:n.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50/50 dark:hover:bg-gray-900/10 transition-colors",children:[e.jsx("td",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${r(t.description||"").color}`,children:b.createElement(r(t.description||"").icon,{size:16})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:r(t.description||"").label})]})}),e.jsx("td",{className:"px-8 py-6 text-sm text-gray-500 font-medium",children:u(t.created_at)}),e.jsx("td",{className:"px-8 py-6 text-xs font-mono text-gray-400 font-bold",children:t.id.substring(0,8)}),e.jsx("td",{className:"px-8 py-6 text-right font-black text-gray-900 dark:text-white",children:i(t.amount)}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("span",{className:`px-3 py-1.5 rounded-lg text-[10px] font-black uppercase tracking-widest ${t.status==="completed"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400"}`,children:t.status})}),e.jsx("td",{className:"px-8 py-6 text-right",children:e.jsx("button",{className:"p-2 text-gray-400 hover:text-orange-500 transition-colors",children:e.jsx(G,{size:18})})})]},t.id))})]})})]})}),l==="methods"&&e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white tracking-tight",children:"Saved Cards"}),e.jsx("button",{className:"p-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl hover:scale-105 active:scale-95 transition-all shadow-lg",children:e.jsx(M,{size:20})})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gray-50 dark:bg-gray-900/50 rounded-2xl group transition-all",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"w-14 h-10 bg-gray-800 rounded-lg flex items-center justify-center text-white text-[10px] font-black tracking-widest italic",children:"VISA"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:"Visa ending in 4242"}),e.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-wider mt-0.5",children:"Expires 12/28"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Primary"}),e.jsx("button",{className:"text-gray-300 hover:text-red-500 transition-colors",children:e.jsx(Q,{size:18})})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl p-8 flex flex-col items-center justify-center text-center py-16",children:[e.jsx("div",{className:"p-5 bg-orange-50 dark:bg-orange-900/20 rounded-full text-orange-500 mb-6",children:e.jsx(f,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Bank Accounts"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2 max-w-xs font-medium",children:"Link your bank account for easier Direct Debit payments."}),e.jsx("button",{className:"mt-8 px-10 py-4 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-2xl font-black transition-all",children:"Add Bank Account"})]})]})})]})})}const q=({className:o})=>e.jsx("svg",{className:o,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})});export{ce as default};
//# sourceMappingURL=page-uqjlMsV0.js.map
