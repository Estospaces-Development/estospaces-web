import{c as F,u as D,h as q,ab as H,r as s,ac as P,C as R,F as m,j as e,S as B,b as E,M as U,w as p,X as $,s as k,ad as j}from"./index-D9fuy-ar.js";import{C as z}from"./clock-D-pnzsNv.js";import{T as A}from"./trending-up-Cau2qQQ4.js";import{A as V}from"./arrow-left-BaPK0xsr.js";import{P as G}from"./plus-wruqDZww.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],O=F("headphones",I);function Y(){const f=D(),{user:d}=q(),{notifications:h}=H(),[o,w]=s.useState("search"),[v,n]=s.useState(!1),[l,c]=s.useState({name:"",email:"",subject:"",message:""}),[t,i]=s.useState({title:"",description:"",priority:"medium",category:"general"}),[g,N]=s.useState([]),[C,u]=s.useState(!1),[b,y]=s.useState(!1);s.useEffect(()=>{d&&c(a=>({...a,name:d.name||"",email:d.email||""}))},[d]);const x=s.useCallback(async()=>{u(!0);try{const a=await P();N(a.map(r=>({id:r.id,title:r.subject||"Untitled",status:r.status||"open",priority:r.priority||"medium",category:r.category||"general",created_at:r.created_at})))}catch(a){console.error("Failed to fetch tickets:",a)}finally{u(!1)}},[]);s.useEffect(()=>{o==="tickets"&&x()},[o,x]);const S=async a=>{a.preventDefault(),y(!0);try{await j({subject:l.subject,message:l.message,priority:"medium",category:"general"}),c(r=>({...r,subject:"",message:""})),alert("Message sent successfully!")}catch(r){console.error("Failed to send message:",r),alert("Failed to send message. Please try again.")}finally{y(!1)}},T=async a=>{a.preventDefault();try{await j({subject:t.title,message:t.description,priority:t.priority,category:t.category}),n(!1),i({title:"",description:"",priority:"medium",category:"general"}),await x()}catch(r){console.error("Failed to create ticket:",r),alert("Failed to create ticket. Please try again.")}},M=a=>{switch(a.toLowerCase()){case"resolved":case"closed":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400";case"in_progress":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400";default:return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400"}},L=[{title:"Support Available",value:"24/7",icon:z,color:"bg-blue-500",shadow:"shadow-blue-500/20"},{title:"Response Rate",value:"+20%",icon:A,color:"bg-green-500",shadow:"shadow-green-500/20"},{title:"Satisfaction Rate",value:"98%",icon:R,color:"bg-purple-500",shadow:"shadow-purple-500/20"},{title:"Open Tickets",value:String(g.filter(a=>a.status!=="resolved"&&a.status!=="closed").length),icon:m,color:"bg-orange-500",shadow:"shadow-orange-500/20"}],_=[{label:"Help Center",icon:m},{label:"Live Chat",icon:E},{label:"Micro Support",icon:O},{label:"Email Support",icon:U}];return e.jsxs("div",{className:"space-y-6 font-sans",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>f(-1),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-orange-600 dark:hover:text-orange-400 transition-colors",children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Back"})]})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:"Help & Support"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:L.map(a=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 transition-colors",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:`p-3 ${a.color} rounded-lg shadow-lg ${a.shadow}`,children:e.jsx(a.icon,{className:"w-6 h-6 text-white"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:a.value}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.title})]},a.title))}),e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-4 transition-colors",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:["search","contact","tickets","notifications"].map(a=>e.jsx("button",{onClick:()=>w(a),className:`px-4 py-2 rounded-lg transition-colors ${o===a?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:a==="search"?"Search":a==="contact"?"Contact Us":a==="tickets"?"My Tickets":"Notifications"},a))})}),o==="search"&&e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 space-y-6 transition-colors",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2",children:"How can we help you?"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search our knowledge base or guides",className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Do you have any specific questions?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:_.map(a=>e.jsxs("button",{className:"flex flex-col items-center p-6 border border-gray-300 dark:border-gray-700 rounded-lg hover:border-orange-500 dark:hover:border-orange-500 hover:bg-orange-50 dark:hover:bg-orange-500/10 transition-all group",children:[e.jsx(a.icon,{className:"w-8 h-8 text-orange-500 mb-3 group-hover:scale-110 transition-transform"}),e.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:a.label})]},a.label))})]})]}),o==="contact"&&e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-6",children:"Send us a Message"}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[["name","email","subject"].map(a=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 capitalize",children:a}),e.jsx("input",{type:a==="email"?"email":"text",value:l[a],onChange:r=>c({...l,[a]:r.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]},a)),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),e.jsx("textarea",{value:l.message,onChange:a=>c({...l,message:a.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 dark:bg-gray-800 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),e.jsx("button",{type:"submit",disabled:b,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-orange-400 text-white rounded-lg transition-colors flex items-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx(p,{size:16,className:"animate-spin"})," Sending..."]}):"Send Message"})]})]}),o==="tickets"&&e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Support Tickets"}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"New Ticket"})]})]}),C?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(p,{className:"w-6 h-6 animate-spin text-orange-500"})}):g.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[e.jsx(m,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),e.jsx("p",{children:"No support tickets yet. Create one if you need help!"})]}):e.jsx("div",{className:"space-y-4",children:g.map(a=>e.jsx("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-1",children:a.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(a.created_at).toLocaleDateString()})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${M(a.status)}`,children:a.status.replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase())})]})},a.id))})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-all",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-800 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"Create New Ticket"}),e.jsx("button",{onClick:()=>{n(!1),i({title:"",description:"",priority:"medium",category:"general"})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Ticket Title *"}),e.jsx("input",{type:"text",value:t.title,onChange:a=>i({...t,title:a.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),e.jsxs("select",{value:t.category,onChange:a=>i({...t,category:a.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"technical",children:"Technical"}),e.jsx("option",{value:"billing",children:"Billing"}),e.jsx("option",{value:"feature_request",children:"Feature Request"}),e.jsx("option",{value:"bug_report",children:"Bug Report"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority *"}),e.jsxs("select",{value:t.priority,onChange:a=>i({...t,priority:a.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),e.jsx("textarea",{value:t.description,onChange:a=>i({...t,description:a.target.value}),rows:6,className:"w-full px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 dark:text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),e.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(!1),i({title:"",description:"",priority:"medium",category:"general"})},className:"px-4 py-2 border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors",children:"Create Ticket"})]})]})]})}),o==="notifications"&&e.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-sm border border-gray-200 dark:border-gray-800 p-6 space-y-6 transition-colors",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:"Notifications"}),h.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[e.jsx(k,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),e.jsx("p",{children:"No notifications yet."})]}):e.jsx("div",{className:"space-y-4",children:h.map(a=>e.jsx("div",{className:`p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors ${a.read?"border-gray-200 dark:border-gray-800":"border-orange-200 dark:border-orange-800 bg-orange-50/30 dark:bg-orange-900/10"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg",children:e.jsx(k,{className:"w-5 h-5 text-orange-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:a.message}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:a.created_at?new Date(a.created_at).toLocaleString():""})]})]})},a.id))})]})})]})}export{Y as default};
//# sourceMappingURL=page-C5YdZG7q.js.map
